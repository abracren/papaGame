// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var n=void 0,p=!0,r=null,s=!1;function v(){return function(){}}function aa(a){return function(b){this[a]=b}}function y(a){return function(){return this[a]}}function G(a){return function(){return a}}var I,ba,ca,J,L,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,M,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ea,Fa,Ga,Ha,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,$a,ab,bb,cb,db,eb,fb,gb,hb={};
"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,e,b,c){this.set(a,e,b,c)}function b(){this.ed=this.dd=this.gd=this.fd=this.qd=this.pd=this.fc=this.ec=0}function c(){this.xg={};this.qj=0;this.Ll=[];this.Ck=p}function d(){this.Jh=this.Zn=this.y=this.p=0}function e(a){this.Ic=[];this.El(a)}ba=function(a){window.console&&window.console.log&&window.console.log(a)};ca=function(a){return"undefined"===typeof a};J=function(a){return"number"===typeof a};L=function(a){return"string"===typeof a};da=function(a){return 0<a&&0===(a-1&
a)};ea=function(a){return 0>a?-a:a};fa=function(a,e){return a>e?a:e};ga=function(a,e){return a<e?a:e};ha=Math.PI;ia=function(a){return a|0};ja=function(a,e,b,c,d,q,k,t){if(fa(a,b)<ga(d,k)||ga(a,b)>fa(d,k)||fa(e,c)<ga(q,t)||ga(e,c)>fa(q,t))return s;var w=d-a+k-b,x=q-e+t-c;a=b-a;e=c-e;d=k-d;q=t-q;t=ea(e*d-q*a);return ea(d*x-q*w)<=t&&ea(a*x-e*w)<=t};a.prototype.set=function(a,e,b,c){this.left=a;this.top=e;this.right=b;this.bottom=c};a.prototype.width=function(){return this.right-this.left};a.prototype.height=
function(){return this.bottom-this.top};a.prototype.offset=function(a,e){this.left+=a;this.top+=e;this.right+=a;this.bottom+=e;return this};a.prototype.Oz=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.ye=function(a,e){return a>=this.left&&a<=this.right&&e>=this.top&&e<=this.bottom};ka=a;b.prototype.Fr=function(a){this.ec=a.left;this.fc=a.top;this.pd=a.right;this.qd=a.top;this.fd=a.right;this.gd=a.bottom;this.dd=a.left;this.ed=a.bottom};
b.prototype.Mv=function(a,e){if(0===e)this.Fr(a);else{var b=Math.sin(e),c=Math.cos(e),d=a.left*b,q=a.top*b,k=a.right*b,b=a.bottom*b,t=a.left*c,w=a.top*c,x=a.right*c,c=a.bottom*c;this.ec=t-q;this.fc=w+d;this.pd=x-q;this.qd=w+k;this.fd=x-b;this.gd=c+k;this.dd=t-b;this.ed=c+d}};b.prototype.offset=function(a,e){this.ec+=a;this.fc+=e;this.pd+=a;this.qd+=e;this.fd+=a;this.gd+=e;this.dd+=a;this.ed+=e;return this};b.prototype.Ct=function(a){a.left=ga(ga(this.ec,this.pd),ga(this.fd,this.dd));a.top=ga(ga(this.fc,
this.qd),ga(this.gd,this.ed));a.right=fa(fa(this.ec,this.pd),fa(this.fd,this.dd));a.bottom=fa(fa(this.fc,this.qd),fa(this.gd,this.ed))};b.prototype.ye=function(a,e){var b=this.pd-this.ec,c=this.qd-this.fc,d=this.fd-this.ec,q=this.gd-this.fc,k=a-this.ec,t=e-this.fc,w=b*b+c*c,x=b*d+c*q,c=b*k+c*t,A=d*d+q*q,B=d*k+q*t,C=1/(w*A-x*x),b=(A*c-x*B)*C,w=(w*B-x*c)*C;if(0<=b&&0<w&&1>b+w)return p;b=this.dd-this.ec;c=this.ed-this.fc;w=b*b+c*c;x=b*d+c*q;c=b*k+c*t;C=1/(w*A-x*x);b=(A*c-x*B)*C;w=(w*B-x*c)*C;return 0<=
b&&0<w&&1>b+w};b.prototype.dh=function(a,e){switch(a){case 0:return e?this.ec:this.fc;case 1:return e?this.pd:this.qd;case 2:return e?this.fd:this.gd;case 3:return e?this.dd:this.ed;case 4:return e?this.ec:this.fc;default:return e?this.ec:this.fc}};b.prototype.Fi=function(){return(this.ec+this.pd+this.fd+this.dd)/4};b.prototype.Gi=function(){return(this.fc+this.qd+this.gd+this.ed)/4};b.prototype.Nz=function(a){var e=a.Fi(),b=a.Gi();if(this.ye(e,b))return p;e=this.Fi();b=this.Gi();if(a.ye(e,b))return p;
var c,d,q,k,t,w,x,A;for(x=0;4>x;x++)for(A=0;4>A;A++)if(e=this.dh(x,p),b=this.dh(x,s),c=this.dh(x+1,p),d=this.dh(x+1,s),q=a.dh(A,p),k=a.dh(A,s),t=a.dh(A+1,p),w=a.dh(A+1,s),ja(e,b,c,d,q,k,t,w))return p;return s};la=b;ma=function(a,e){for(var b in e)e.hasOwnProperty(b)&&(a[b]=e[b]);return a};na=function(a,e){var b,c;e=ia(e);if(!(0>e||e>=a.length))if(0===e)a.shift();else if(e===a.length-1)a.pop();else{b=e;for(c=a.length-1;b<c;b++)a[b]=a[b+1];a.length=c}};oa=function(a,e){a.length=e.length;var b,c;b=0;
for(c=e.length;b<c;b++)a[b]=e[b]};pa=function(a,e){var b=a.indexOf(e);-1!==b&&na(a,b)};M=function(a){return a/(180/ha)};ra=function(a){return a*(180/ha)};sa=function(a){a%=360;0>a&&(a+=360);return a};ta=function(a){a%=2*ha;0>a&&(a+=2*ha);return a};ua=function(a){return sa(ra(a))};va=function(a){return ta(M(a))};wa=function(a,e,b,c){return Math.atan2(c-e,b-a)};xa=function(a,e){if(a===e)return 0;var b=Math.sin(a),c=Math.cos(a),d=Math.sin(e),q=Math.cos(e),b=b*d+c*q;return 1<=b?0:-1>=b?ha:Math.acos(b)};
ya=function(a,e,b){var c=Math.sin(a),d=Math.cos(a),q=Math.sin(e),k=Math.cos(e);return Math.acos(c*q+d*k)>b?0<d*q-c*k?ta(a+b):ta(a-b):ta(e)};za=function(a,e){var b=Math.sin(a),c=Math.cos(a),d=Math.sin(e),q=Math.cos(e);return 0>=c*d-b*q};Aa=function(a,e,b,c){a=b-a;e=c-e;return Math.sqrt(a*a+e*e)};Ba=function(a,e){return!a!==!e};Ea=function(a){for(var e in a)if(a.hasOwnProperty(e))return p;return s};Fa=function(a){for(var e in a)a.hasOwnProperty(e)&&delete a[e]};Ga=function(){if("undefined"!==typeof window.performance){var a=
window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()};c.prototype.contains=function(a){return this.xg.hasOwnProperty(a.toString())};c.prototype.add=function(a){var e=a.toString();this.xg.hasOwnProperty(e)||(this.xg[e]=a,this.qj++,this.Ck=s);return this};c.prototype.remove=function(a){a=a.toString();this.xg.hasOwnProperty(a)&&(delete this.xg[a],this.qj--,this.Ck=s);
return this};c.prototype.clear=function(){Fa(this.xg);this.qj=0;this.Ll.length=0;this.Ck=p;return this};c.prototype.Xk=function(){return 0===this.qj};c.prototype.count=y("qj");c.prototype.qB=function(){if(!this.Ck){this.Ll.length=this.qj;var a,e=0;for(a in this.xg)this.xg.hasOwnProperty(a)&&(this.Ll[e++]=this.xg[a]);this.Ck=p}};c.prototype.Pi=function(){this.qB();return this.Ll};Ha=c;d.prototype.add=function(a){this.y=a-this.p;this.Zn=this.Jh+this.y;this.p=this.Zn-this.Jh-this.y;this.Jh=this.Zn};
d.prototype.reset=function(){this.Jh=this.Zn=this.y=this.p=0};Ka=d;La=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.El=function(a){this.xv=a;this.Uf=a.length/2;this.Ic.length=a.length;this.Am=this.Dk=-1;this.Dt=0};e.prototype.oj=function(){return!this.xv.length};e.prototype.Wn=function(a,e,b,c,d){this.Ic.length=8;this.Uf=4;var q=this.Ic;q[0]=a.ec-e;q[1]=a.fc-b;q[2]=a.pd-e;q[3]=a.qd-b;q[4]=a.fd-e;q[5]=a.gd-b;q[6]=a.dd-e;q[7]=a.ed-b;this.Dk=c;this.Am=d};e.prototype.Lv=
function(a){this.Uf=a.Uf;oa(this.Ic,a.Ic)};e.prototype.gj=function(a,e,b){if(!(this.Dk===a&&this.Am===e&&this.Dt===b)){this.Dk=a;this.Am=e;this.Dt=b;var c,d,q,k=0,t=1,w=this.xv,x=this.Ic;0!==b&&(k=Math.sin(b),t=Math.cos(b));b=0;for(c=this.Uf;b<c;b++)d=w[2*b]*a,q=w[2*b+1]*e,x[2*b]=d*t-q*k,x[2*b+1]=q*t+d*k}};e.prototype.ye=function(a,e){var b=this.Ic;if(a===b[0]&&e===b[1])return p;var c=5*-this.Dk-1,d=5*-this.Am-1,q=5*this.Dk+1,k,t,w,x,A,B,C=0,H=0;A=0;for(B=this.Uf;A<B;A++)k=b[2*A],t=b[2*A+1],w=b[2*
((A+1)%B)],x=b[2*((A+1)%B)+1],ja(c,d,a,e,k,t,w,x)&&C++,ja(q,-1,a,e,k,t,w,x)&&H++;return 1===C%2||1===H%2};e.prototype.su=function(a,e,b){var c=a.Ic,d=this.Ic;if(this.ye(c[0]+e,c[1]+b)||a.ye(d[0]-e,d[1]-b))return p;var q,k,t,w,x,A,B,C,H,O,F,D;q=0;for(k=this.Uf;q<k;q++){x=d[2*q];A=d[2*q+1];B=d[2*((q+1)%k)];C=d[2*((q+1)%k)+1];t=0;for(w=a.Uf;t<w;t++)if(H=c[2*t]+e,O=c[2*t+1]+b,F=c[2*((t+1)%w)]+e,D=c[2*((t+1)%w)+1]+b,ja(x,A,B,C,H,O,F,D))return p}return s};Ma=e;var k="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Na=function(a){return 0>=a||11<=a?"source-over":k[a-1]};Oa=function(a,e,b){if(b)switch(a.Vc=b.ONE,a.Oc=b.ONE_MINUS_SRC_ALPHA,e){case 1:a.Vc=b.ONE;a.Oc=b.ONE;break;case 3:a.Vc=b.ONE;a.Oc=b.ZERO;break;case 4:a.Vc=b.ONE_MINUS_DST_ALPHA;a.Oc=b.ONE;break;case 5:a.Vc=b.DST_ALPHA;a.Oc=b.ZERO;break;case 6:a.Vc=b.ZERO;a.Oc=b.SRC_ALPHA;break;case 7:a.Vc=b.ONE_MINUS_DST_ALPHA;a.Oc=b.ZERO;break;case 8:a.Vc=b.ZERO;a.Oc=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Vc=b.DST_ALPHA;a.Oc=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Vc=
b.ONE_MINUS_DST_ALPHA,a.Oc=b.SRC_ALPHA}};Pa=function(a){return Math.round(1E6*a)/1E6}})();var ib="undefined"!==typeof Float32Array?Float32Array:Array;function jb(a){var b=new ib(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function kb(a){var b=new ib(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}
function lb(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}function mb(a,b){var c=b[0],d=b[1];b=b[2];a[0]*=c;a[1]*=c;a[2]*=c;a[3]*=c;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=b;a[9]*=b;a[10]*=b;a[11]*=b}
function nb(a,b,c,d){d||(d=kb());var e,k,f,h,g,l,m,q,u=a[0],t=a[1];a=a[2];k=c[0];f=c[1];e=c[2];c=b[1];l=b[2];u===b[0]&&t===c&&a===l?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(c=u-b[0],l=t-b[1],m=a-b[2],q=1/Math.sqrt(c*c+l*l+m*m),c*=q,l*=q,m*=q,b=f*m-e*l,e=e*c-k*m,k=k*l-f*c,(q=Math.sqrt(b*b+e*e+k*k))?(q=1/q,b*=q,e*=q,k*=q):k=e=b=0,f=l*k-m*e,h=m*b-c*k,g=c*e-l*b,(q=Math.sqrt(f*f+h*h+g*g))?(q=1/q,f*=q,h*=q,g*=q):g=h=f=0,
d[0]=b,d[1]=f,d[2]=c,d[3]=0,d[4]=e,d[5]=h,d[6]=l,d[7]=0,d[8]=k,d[9]=g,d[10]=m,d[11]=0,d[12]=-(b*u+e*t+k*a),d[13]=-(f*u+h*t+g*a),d[14]=-(c*u+l*t+m*a),d[15]=1)}
(function(){function a(a){this.height=this.width=0;this.Et=jb([0,0,100]);this.Mu=jb([0,0,0]);this.gw=jb([0,1,0]);this.cs=jb([1,1,1]);this.Qq=kb();this.Je=kb();this.Du=kb();this.up=kb();this.ia=a;this.pu()}function b(a,b,c){this.ia=a;this.Fl=b;this.name=c;this.De=a.getAttribLocation(b,"aPos");this.ph=a.getAttribLocation(b,"aTex");this.Ku=a.getUniformLocation(b,"matP");this.yj=a.getUniformLocation(b,"matMV");this.zj=a.getUniformLocation(b,"opacity");this.Lu=a.getUniformLocation(b,"samplerFront");this.xn=
a.getUniformLocation(b,"samplerBack");this.xj=a.getUniformLocation(b,"destStart");this.wj=a.getUniformLocation(b,"destEnd");this.zq=a.getUniformLocation(b,"seconds");this.yq=a.getUniformLocation(b,"pixelWidth");this.xq=a.getUniformLocation(b,"pixelHeight");this.wq=a.getUniformLocation(b,"layerScale");this.zj&&a.uniform1f(this.zj,1);this.Lu&&a.uniform1i(this.Lu,0);this.xn&&a.uniform1i(this.xn,1);this.xj&&a.uniform2f(this.xj,0,0);this.wj&&a.uniform2f(this.wj,1,1);this.ji=s}function c(a,b){this.type=
a;this.ua=b;this.ia=b.ia;this.Hf=this.Oe=this.ov=0;this.ra=this.Mi=r;this.Gr=[]}a.prototype.pu=function(){var a=this.ia,b;this.Eu=1;this.ni=r;this.Qt=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.FD=a.getParameter(a.MAX_TEXTURE_SIZE);this.Fu=a.ONE;this.Cu=a.ONE_MINUS_SRC_ALPHA;this.dr=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.dr);this.Ql=Array(4);this.Jl=Array(4);for(b=0;4>
b;b++)this.Ql[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Ql[b]),this.Jl[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Jl[b]);this.ng=0;this.Mz=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Mz);this.bs=new Float32Array(16E3);this.Rr=new Float32Array(16E3);this.NA=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.er=this.ag=0;this.sc=
[];b=this.rp({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.sc.push(b);b=this.rp({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.sc.push(b);for(var g in ob)ob.hasOwnProperty(g)&&this.sc.push(this.rp(ob[g],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",
g));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,r);this.fh=[];this.ig=0;this.Be=this.Gd=s;this.Rt=this.al=-1;this.Ik=r;this.hz=a.createFramebuffer();this.Cv=r;this.Lh=jb([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.GD=a[0];this.ED=a[1];this.Xf(0)};a.prototype.rp=function(a,c,d){var h=this.ia,g=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(g,a.src);h.compileShader(g);if(!h.getShaderParameter(g,h.COMPILE_STATUS))return h.deleteShader(g),r;var l=h.createShader(h.VERTEX_SHADER);
h.shaderSource(l,c);h.compileShader(l);if(!h.getShaderParameter(l,h.COMPILE_STATUS))return h.deleteShader(g),h.deleteShader(l),r;c=h.createProgram();h.attachShader(c,g);h.attachShader(c,l);h.linkProgram(c);if(!h.getProgramParameter(c,h.LINK_STATUS))return h.deleteShader(g),h.deleteShader(l),h.deleteProgram(c),r;h.useProgram(c);h.validateProgram(c);h.deleteShader(g);h.deleteShader(l);d=new b(h,c,d);d.Ap=a.Ap||0;d.Bp=a.Bp||0;d.Ot=!!a.Ot;d.nt=!!a.nt;d.ka=a.ka||[];a=0;for(g=d.ka.length;a<g;a++)d.ka[a][1]=
h.getUniformLocation(c,d.ka[a][0]),h.uniform1f(d.ka[a][1],0);return d};a.prototype.Lp=function(a){var b,c;b=0;for(c=this.sc.length;b<c;b++)if(this.sc[b].name===a)return b;return-1};a.prototype.wv=function(a,b,c){var d=[0,0,this.width,this.height],g=this.Je,l=this.Qq,m=[0,0,0,0,0,0,0,0];m[0]=g[0]*a+g[4]*b+g[12];m[1]=g[1]*a+g[5]*b+g[13];m[2]=g[2]*a+g[6]*b+g[14];m[3]=g[3]*a+g[7]*b+g[15];m[4]=l[0]*m[0]+l[4]*m[1]+l[8]*m[2]+l[12]*m[3];m[5]=l[1]*m[0]+l[5]*m[1]+l[9]*m[2]+l[13]*m[3];m[6]=l[2]*m[0]+l[6]*m[1]+
l[10]*m[2]+l[14]*m[3];m[7]=-m[2];0!==m[7]&&(m[7]=1/m[7],m[4]*=m[7],m[5]*=m[7],m[6]*=m[7],c[0]=(0.5*m[4]+0.5)*d[2]+d[0],c[1]=(0.5*m[5]+0.5)*d[3]+d[1])};a.prototype.Er=function(a,b,c){if(!(this.width===a&&this.height===b&&!c)){this.jh();this.width=a;this.height=b;this.ia.viewport(0,0,a,b);b=a/b;var d=this.Qq,g;g=1*Math.tan(45*Math.PI/360);b*=g;a=-b;c=-g;d||(d=kb());var l=b-a,m=g-c;d[0]=2/l;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/m;d[6]=0;d[7]=0;d[8]=(b+a)/l;d[9]=(g+c)/m;d[10]=-1001/999;d[11]=-1;d[12]=0;
d[13]=0;d[14]=-2E3/999;d[15]=0;nb(this.Et,this.Mu,this.gw,this.Je);a=[0,0];b=[0,0];this.wv(0,0,a);this.wv(1,1,b);this.cs[0]=1/(b[0]-a[0]);this.cs[1]=-1/(b[1]-a[1]);a=0;for(b=this.sc.length;a<b;a++)c=this.sc[a],c.ji=s,c.Ku&&(this.ia.useProgram(c.Fl),this.ia.uniformMatrix4fv(c.Ku,s,this.Qq));this.ia.useProgram(this.sc[this.al].Fl);this.ia.bindTexture(this.ia.TEXTURE_2D,r);this.ni=r}};a.prototype.Wf=function(){nb(this.Et,this.Mu,this.gw,this.Je);mb(this.Je,this.cs)};a.prototype.translate=function(a,
b){if(!(0===a&&0===b)){this.Lh[0]=a;this.Lh[1]=b;this.Lh[2]=0;var c=this.Je,d=this.Lh,g=d[0],l=d[1],d=d[2];c[12]=c[0]*g+c[4]*l+c[8]*d+c[12];c[13]=c[1]*g+c[5]*l+c[9]*d+c[13];c[14]=c[2]*g+c[6]*l+c[10]*d+c[14];c[15]=c[3]*g+c[7]*l+c[11]*d+c[15]}};a.prototype.scale=function(a,b){1===a&&1===b||(this.Lh[0]=a,this.Lh[1]=b,this.Lh[2]=1,mb(this.Je,this.Lh))};a.prototype.tr=function(a){if(0!==a){var b=this.Je,c,d=Math.sin(a);a=Math.cos(a);var g=b[0],l=b[1],m=b[2],q=b[3],u=b[4],t=b[5],w=b[6],x=b[7];c?b!==c&&
(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=g*a+u*d;c[1]=l*a+t*d;c[2]=m*a+w*d;c[3]=q*a+x*d;c[4]=g*-d+u*a;c[5]=l*-d+t*a;c[6]=m*-d+w*a;c[7]=q*-d+x*a}};a.prototype.$f=function(){for(var a=s,b=0;16>b;b++)if(this.Du[b]!==this.Je[b]){a=p;break}a&&(a=this.lf(),a.type=5,a.ra?lb(this.Je,a.ra):a.ra=kb(this.Je),lb(this.Je,this.Du),this.Be=this.Gd=s)};c.prototype.Fy=function(){this.ia.bindTexture(this.ia.TEXTURE_2D,this.Mi)};c.prototype.Cy=function(){var a=
this.ov,b=this.ua;b.Qt=a;b=b.Ik;b.zj&&this.ia.uniform1f(b.zj,a)};c.prototype.zy=function(){this.ia.drawElements(this.ia.TRIANGLES,this.Hf,this.ia.UNSIGNED_SHORT,2*this.Oe)};c.prototype.By=function(){this.ia.blendFunc(this.Oe,this.Hf)};c.prototype.Gy=function(){var a,b,c,d=this.ua.sc,g=this.ua.Rt;a=0;for(b=d.length;a<b;a++)c=d[a],a===g&&c.yj?(this.ia.uniformMatrix4fv(c.yj,s,this.ra),c.ji=p):c.ji=s;lb(this.ra,this.ua.up)};c.prototype.Ay=function(){var a=this.ia,b=this.ua;this.Mi?(a.bindFramebuffer(a.FRAMEBUFFER,
b.hz),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Mi,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,r,0),a.bindFramebuffer(a.FRAMEBUFFER,r))};c.prototype.uy=function(){var a=this.ia;0===this.Oe?(a.clearColor(this.ra[0],this.ra[1],this.ra[2],this.ra[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.ra[0],this.ra[1],this.ra[2],this.ra[3]),a.clearColor(0,0,0,0),a.clear(this.ia.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};
c.prototype.yy=function(){var a=this.ia,b=this.ua,c=b.sc[1];a.useProgram(c.Fl);!c.ji&&c.yj&&(a.uniformMatrix4fv(c.yj,s,b.up),c.ji=p);a.enableVertexAttribArray(c.De);a.bindBuffer(a.ARRAY_BUFFER,b.dr);a.vertexAttribPointer(c.De,4,a.FLOAT,s,0,0);a.drawArrays(a.POINTS,this.Oe/4,this.Hf);c=b.Ik;a.useProgram(c.Fl);0<=c.De&&(a.enableVertexAttribArray(c.De),a.bindBuffer(a.ARRAY_BUFFER,b.Ql[b.ng]),a.vertexAttribPointer(c.De,2,a.FLOAT,s,0,0));0<=c.ph&&(a.enableVertexAttribArray(c.ph),a.bindBuffer(a.ARRAY_BUFFER,
b.Jl[b.ng]),a.vertexAttribPointer(c.ph,2,a.FLOAT,s,0,0))};c.prototype.Dy=function(){var a=this.ia,b=this.ua,c=b.sc[this.Oe];b.Rt=this.Oe;b.Ik=c;a.useProgram(c.Fl);!c.ji&&c.yj&&(a.uniformMatrix4fv(c.yj,s,b.up),c.ji=p);c.zj&&a.uniform1f(c.zj,b.Qt);0<=c.De&&(a.enableVertexAttribArray(c.De),a.bindBuffer(a.ARRAY_BUFFER,b.Ql[b.ng]),a.vertexAttribPointer(c.De,2,a.FLOAT,s,0,0));0<=c.ph&&(a.enableVertexAttribArray(c.ph),a.bindBuffer(a.ARRAY_BUFFER,b.Jl[b.ng]),a.vertexAttribPointer(c.ph,2,a.FLOAT,s,0,0))};
c.prototype.Ey=function(){var a,b,c=this.ua.Ik,d=this.ia;c.xn&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Mi),d.activeTexture(d.TEXTURE0));c.yq&&d.uniform1f(c.yq,this.ra[0]);c.xq&&d.uniform1f(c.xq,this.ra[1]);c.xj&&d.uniform2f(c.xj,this.ra[2],this.ra[3]);c.wj&&d.uniform2f(c.wj,this.ra[4],this.ra[5]);c.wq&&d.uniform1f(c.wq,this.ra[6]);c.zq&&d.uniform1f(c.zq,Ga()/1E3);if(c.ka.length){a=0;for(b=c.ka.length;a<b;a++)d.uniform1f(c.ka[a][1],this.Gr[a])}};a.prototype.lf=function(){this.ig===
this.fh.length&&this.fh.push(new c(0,this));return this.fh[this.ig++]};a.prototype.jh=function(){if(0!==this.ig&&!this.ia.isContextLost()){var a=this.ia;0<this.er&&(a.bindBuffer(a.ARRAY_BUFFER,this.dr),a.bufferData(a.ARRAY_BUFFER,this.NA.subarray(0,this.er),a.STREAM_DRAW),b&&(0<=b.De&&"<point>"===b.name)&&a.vertexAttribPointer(b.De,4,a.FLOAT,s,0,0));if(0<this.ag){var b=this.Ik;a.bindBuffer(a.ARRAY_BUFFER,this.Ql[this.ng]);a.bufferData(a.ARRAY_BUFFER,this.bs.subarray(0,this.ag),a.STREAM_DRAW);b&&(0<=
b.De&&"<point>"!==b.name)&&a.vertexAttribPointer(b.De,2,a.FLOAT,s,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Jl[this.ng]);a.bufferData(a.ARRAY_BUFFER,this.Rr.subarray(0,this.ag),a.STREAM_DRAW);b&&(0<=b.ph&&"<point>"!==b.name)&&a.vertexAttribPointer(b.ph,2,a.FLOAT,s,0,0)}for(var c,a=0,b=this.ig;a<b;a++)switch(c=this.fh[a],c.type){case 1:c.zy();break;case 2:c.Fy();break;case 3:c.Cy();break;case 4:c.By();break;case 5:c.Gy();break;case 6:c.Ay();break;case 7:c.uy();break;case 8:c.yy();break;case 9:c.Dy();break;
case 10:c.Ey()}this.er=this.ag=this.ig=0;this.Be=this.Gd=s;this.ng++;4<=this.ng&&(this.ng=0)}};a.prototype.Tj=function(a){if(a!==this.Eu){var b=this.lf();b.type=3;this.Eu=b.ov=a;this.Be=this.Gd=s}};a.prototype.Ne=function(a){if(a!==this.ni){var b=this.lf();b.type=2;this.ni=b.Mi=a;this.Be=this.Gd=s}};a.prototype.Eh=function(a,b){if(!(a===this.Fu&&b===this.Cu)){var c=this.lf();c.type=4;c.Oe=a;c.Hf=b;this.Fu=a;this.Cu=b;this.Be=this.Gd=s}};a.prototype.Kv=function(){this.Eh(this.ia.ONE,this.ia.ONE_MINUS_SRC_ALPHA)};
a.prototype.On=function(a,b,c,d,g,l,m,q){15992<=this.ag&&this.jh();var u=this.ag,t=this.bs,w=this.Rr;if(this.Gd)this.fh[this.ig-1].Hf+=6;else{var x=this.lf();x.type=1;x.Oe=3*(u/4);x.Hf=6;this.Gd=p;this.Be=s}t[u]=a;w[u++]=0;t[u]=b;w[u++]=0;t[u]=c;w[u++]=1;t[u]=d;w[u++]=0;t[u]=g;w[u++]=1;t[u]=l;w[u++]=1;t[u]=m;w[u++]=0;t[u]=q;w[u++]=1;this.ag=u};a.prototype.xh=function(a,b,c,d,g,l,m,q,u){15992<=this.ag&&this.jh();var t=this.ag,w=this.bs,x=this.Rr;if(this.Gd)this.fh[this.ig-1].Hf+=6;else{var A=this.lf();
A.type=1;A.Oe=3*(t/4);A.Hf=6;this.Gd=p;this.Be=s}w[t]=a;x[t++]=u.left;w[t]=b;x[t++]=u.top;w[t]=c;x[t++]=u.right;w[t]=d;x[t++]=u.top;w[t]=g;x[t++]=u.right;w[t]=l;x[t++]=u.bottom;w[t]=m;x[t++]=u.left;w[t]=q;x[t++]=u.bottom;this.ag=t};a.prototype.Xf=function(a){if(this.al!==a){if(!this.sc[a]){if(0===this.al)return;a=0}var b=this.lf();b.type=9;this.al=b.Oe=a;this.Be=this.Gd=s}};a.prototype.zl=function(a){a=this.sc[a];return!(!a.xj&&!a.wj)};a.prototype.hr=function(a){return this.sc[a].Ot};a.prototype.RA=
function(a){a=this.sc[a];return 0!==a.Ap||0!==a.Bp};a.prototype.sz=function(a){return this.sc[a].Ap};a.prototype.tz=function(a){return this.sc[a].Bp};a.prototype.uz=function(a,b){return this.sc[a].ka[b][2]};a.prototype.Nn=function(a){return this.sc[a].nt};a.prototype.Uj=function(a,b,c,d,g,l,m,q,u){var t=this.sc[this.al];if(t.yq||t.xq||t.zq||t.xn||t.xj||t.wj||t.wq||u.length){t=this.lf();t.type=10;t.ra?lb(this.Je,t.ra):t.ra=kb();t.ra[0]=b;t.ra[1]=c;t.ra[2]=d;t.ra[3]=g;t.ra[4]=l;t.ra[5]=m;t.ra[6]=q;
t.Mi=a;if(u.length){t.Gr.length=u.length;a=0;for(b=u.length;a<b;a++)t.Gr[a]=u[a]}this.Be=this.Gd=s}};a.prototype.clear=function(a,b,c,d){var g=this.lf();g.type=7;g.Oe=0;g.ra||(g.ra=kb());g.ra[0]=a;g.ra[1]=b;g.ra[2]=c;g.ra[3]=d;this.Be=this.Gd=s};a.prototype.clearRect=function(a,b,c,d){var g=this.lf();g.type=7;g.Oe=1;g.ra||(g.ra=kb());g.ra[0]=a;g.ra[1]=b;g.ra[2]=c;g.ra[3]=d;this.Be=this.Gd=s};a.prototype.QA=function(){this.jh();this.ia.flush()};var d=[];a.prototype.Ju=function(a,b,c){this.jh();var h=
this.ia,g=da(a.width)&&da(a.height),l=h.createTexture();h.bindTexture(h.TEXTURE_2D,l);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p);var m=h.RGBA,q=h.RGBA,u=h.UNSIGNED_BYTE;if(c)switch(c){case 1:q=m=h.RGB;break;case 2:u=h.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=h.UNSIGNED_SHORT_5_5_5_1;break;case 4:q=m=h.RGB,u=h.UNSIGNED_SHORT_5_6_5}h.texImage2D(h.TEXTURE_2D,0,m,q,u,a);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);b?
(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),g?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_NEAREST),h.generateMipmap(h.TEXTURE_2D)):h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST));h.bindTexture(h.TEXTURE_2D,r);this.ni=r;l.Bk=a.width;l.Ak=a.height;d.push(l);return l};a.prototype.mg=function(a,b,c,h){this.jh();var g=this.ia,l=
g.createTexture();g.bindTexture(g.TEXTURE_2D,l);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,a,b,0,g.RGBA,h?g.UNSIGNED_SHORT_4_4_4_4:g.UNSIGNED_BYTE,r);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,c?g.LINEAR:g.NEAREST);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,c?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,r);this.ni=r;l.Bk=a;l.Ak=b;d.push(l);return l};a.prototype.vB=
function(a,b,c){this.jh();var d=this.ia;d.bindTexture(d.TEXTURE_2D,b);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a);d.bindTexture(d.TEXTURE_2D,r);this.ni=r};a.prototype.deleteTexture=function(a){a&&(this.jh(),this.ia.bindTexture(this.ia.TEXTURE_2D,r),this.ni=r,this.ia.deleteTexture(a),pa(d,a))};a.prototype.Qg=function(a){if(a!==this.Cv){var b=this.lf();b.type=6;this.Cv=b.Mi=a;this.Be=this.Gd=s}};Qa=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.nj="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.wg=!!a.dc;this.Wk="undefined"!==typeof window.AppMobi||this.wg;if(this.vg=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(p)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(s)});this.Qc=this.wg||this.vg;this.$p=
/tizen/i.test(navigator.userAgent);this.tu=/android/i.test(navigator.userAgent)&&!this.$p;this.oD=/msie/i.test(navigator.userAgent);this.nn=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.Au=/ipad/i.test(navigator.userAgent);this.zu=this.nn||this.Au;this.uu=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.pD=!this.uu&&/safari/i.test(navigator.userAgent);this.Sz=/windows/i.test(navigator.userAgent);this.wu="undefined"!==typeof window.c2nodewebkit;
this.Qz="undefined"!==typeof window.is_scirra_arcade;this.Uz=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);this.Vz=!!("undefined"!==typeof window.c2isWindowsPhone8&&window.c2isWindowsPhone8);this.Rz=!!("undefined"!==typeof window.c2isBlackberry10&&window.c2isBlackberry10);this.devicePixelRatio=1;this.lh=this.nj||this.Wk||this.vg||this.tu||this.zu||this.Vz||this.Rz||this.$p;this.lh||(this.lh=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));
this.canvas=a;this.Ft=document.getElementById("c2canvasdiv");this.hb=this.ua=this.ia=r;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return s};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return s};this.wg&&(window.c2runtime=this);this.width=a.width;this.height=a.height;this.pi=this.width;this.oi=this.height;this.jb=p;this.Zk=s;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.Z=[];this.Jb=[];this.qq={};this.cf=
[];this.zp={};this.ei=[];this.Nh=[];this.ho=[];this.Vx=[];this.yf=new Ha;this.Wp=s;this.$e=0;this.Yp=s;this.xf=[];this.vu=s;this.zg=this.jd=this.vn=this.Dr="";this.Hl=this.Ov=s;this.wB=this.pp=this.zn=this.ih=this.Ca=0;this.Kh=1;this.tj=new Ka;this.rn=0;this.$u=p;this.Ln=this.Tm=this.Nm=this.Sd=this.bl=this.Gp=0;this.jp=r;this.Im=[];this.yp=[];this.Lm=-1;this.Aq=[[]];this.Xr=this.yn=0;this.jr(r);this.qD=[];this.rD=-1;this.hv=this.rl=0;this.Iu=p;this.Lk=0;this.Yn=[];this.Ur=this.mr=0;this.on=p;this.wn=
0;this.jn=s;this.hB=0;this.ii=s;this.Uq=new Ha;this.Vq=new Ha;this.Bv=[];this.Li=new Ma([]);this.Pr=new Ma([]);this.aj=[];this.Zo={};this.hj={};this.$i={};this.$j={};this.At={};this.bf=this.fe=this.Hu=this.tn=this.gb=r;this.Zj=this.aq=s;this.Hp=[r,r];this.Pk=0;this.iz="";this.Kj={};this.Xn=this.vj=r;this.fB="";this.load();this.devicePixelRatio=(this.Yk=!this.Qc&&this.tB&&(this.zu||this.$p))?window.devicePixelRatio||1:1;this.Lc();var c;"undefined"!==typeof jQuery&&0<this.ae&&this.setSize(jQuery(window).width(),
jQuery(window).height());try{if(this.Jy&&(this.vg||!this.Qc)){c={depth:s,antialias:!this.lh};var d=p;if(this.uu&&this.Sz){var e=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",c)||e.getContext("experimental-webgl",c)).getSupportedExtensions().toString())d=s}d&&(this.ia=a.getContext("webgl",c)||a.getContext("experimental-webgl",c))}}catch(m){}if(this.ia){this.Qc||(this.xd=document.createElement("canvas"),jQuery(this.xd).appendTo(this.canvas.parentNode),
this.xd.oncontextmenu=G(s),this.xd.onselectstart=G(s),this.xd.width=a.width,this.xd.height=a.height,this.sv(),this.cr=this.xd.getContext("2d"));this.ua=new Qa(this.ia,this.lh);this.ua.Er(a.width,a.height);this.hb=r;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.CA();window.cr_setSuspended(p)},s);this.canvas.addEventListener("webglcontextrestored",function(){b.ua.pu();b.ua.Er(b.ua.width,b.ua.height,p);b.fe=r;b.bf=r;b.Hp[0]=r;b.Hp[1]=r;b.DA();b.jb=p;window.cr_setSuspended(s)},
s);var h,f,k,g,l;a=0;for(c=this.Z.length;a<c;a++){h=this.Z[a];d=0;for(e=h.za.length;d<e;d++)k=h.za[d],k.Jc=this.ua.Lp(k.id),this.Zj=this.Zj||this.ua.zl(k.Jc)}a=0;for(c=this.cf.length;a<c;a++){g=this.cf[a];d=0;for(e=g.za.length;d<e;d++)k=g.za[d],k.Jc=this.ua.Lp(k.id);d=0;for(e=g.Pa.length;d<e;d++){l=g.Pa[d];h=0;for(f=l.za.length;h<f;h++)k=l.za[h],k.Jc=this.ua.Lp(k.id),this.Zj=this.Zj||this.ua.zl(k.Jc)}}}else{if(0<this.ae&&this.wg){this.canvas=r;document.oncontextmenu=G(s);document.onselectstart=G(s);
this.hb=AppMobi.canvas.getContext("2d");try{this.hb.samplingMode=this.lc?"smooth":"sharp",this.hb.globalScale=1,this.hb.HTML5CompatibilityMode=p}catch(D){}0!==this.width&&0!==this.height&&(this.hb.width=this.width,this.hb.height=this.height)}this.hb||(this.vg?(c={antialias:!!this.lc},this.hb=a.getContext("2d",c)):this.hb=a.getContext("2d"),this.hb.webkitImageSmoothingEnabled=this.lc,this.hb.mozImageSmoothingEnabled=this.lc,this.hb.msImageSmoothingEnabled=this.lc,this.hb.imageSmoothingEnabled=this.lc);
this.cr=this.xd=r}this.Yv=function(){b.Zf()};this.gn=s;!this.Qc&&!this.Uz&&(document.addEventListener("mousedown",function(){b.gn||window.focus();b.gn=p},p),document.addEventListener("touchstart",function(){b.gn||window.focus();b.gn=p},p));"undefined"!==typeof cr_is_preview&&("?continuous"===window.location.search&&(ba("Reloading for continuous preview"),this.vn="__c2_continuouspreview",this.Hl=p),this.MA&&!this.lh&&(jQuery(window).focus(function(){b.setSuspended(s)}),jQuery(window).blur(function(){b.setSuspended(p)})));
this.go();this.Aa={}}}function b(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function c(a,c,d,e){var m=indexedDB.open("_C2SaveStates");m.onupgradeneeded=b;m.onerror=e;m.onsuccess=function(b){b=b.target.result;b.onerror=e;b.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=d}}function d(a,c,d){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=b;e.onerror=d;e.onsuccess=function(b){b=b.target.result;b.onerror=d;var e=b.transaction(["saves"]).objectStore("saves").get(a);
e.onsuccess=function(){e.result?c(e.result.data):c(r)}}}function e(){ba("Reloading for continuous preview");"?continuous"===window.location.search?window.location.reload(p):window.location+="?continuous"}function k(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&!(a[b]instanceof Ha)&&"undefined"===typeof a[b].jg&&(c[b]=a[b]);return c}a.prototype.setSize=function(a,b){var c=this.Kz&&this.nn&&!navigator.standalone&&!this.Qc&&!this.nj,d=0;c&&(this.nn?d=60:this.tu&&(d=56),b+=d);var e=0,m=0,h=0,k=0,f=0,
f=this.ae,g=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.jn;g&&0<this.Pk&&(f=this.Pk);4<=f?(h=this.Od/this.Nd,a/b>h?(h*=b,5===f?(f=h/this.Od,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),h=this.Od*f,k=this.Nd*f,e=(a-h)/2,m=(b-k)/2,a=h,b=k):(e=(a-h)/2,a=h)):(k=a/h,5===f?(f=k/this.Nd,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),h=this.Od*f,k=this.Nd*f,e=(a-h)/2,m=(b-k)/2,a=h):m=(b-k)/2,b=k),g&&!this.wu&&(m=e=0),e=Math.floor(e),m=Math.floor(m),a=Math.floor(a),b=Math.floor(b)):
this.wu&&(this.jn&&0===this.cu)&&(e=Math.floor((a-this.Od)/2),m=Math.floor((b-this.Nd)/2),a=this.Od,b=this.Nd);this.Yk&&(this.Au&&1<this.devicePixelRatio)&&(1024<=a&&(a=1023),1024<=b&&(b=1023));g=this.devicePixelRatio;this.width=a*g;this.height=b*g;this.jb=p;this.Ft&&!this.Qc&&(jQuery(this.Ft).css({width:a+"px",height:b+"px","margin-left":e,"margin-top":m}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:b+"px"}));this.canvas&&(this.canvas.width=a*g,this.canvas.height=
b*g,this.Yk&&jQuery(this.canvas).css({width:a+"px",height:b+"px"}));this.xd&&(this.xd.width=a,this.xd.height=b);this.ua&&this.ua.Er(a,b);this.wg&&this.hb&&(this.hb.width=a,this.hb.height=b);this.hb&&(this.hb.webkitImageSmoothingEnabled=this.lc,this.hb.mozImageSmoothingEnabled=this.lc,this.hb.msImageSmoothingEnabled=this.lc,this.hb.imageSmoothingEnabled=this.lc);c&&0<d&&window.setTimeout(function(){window.scrollTo(0,1)},100)};a.prototype.CA=function(){this.aq=p;var a,b,c;a=0;for(b=this.Z.length;a<
b;a++)c=this.Z[a],c.Xq&&c.Xq()};a.prototype.DA=function(){this.aq=s;var a,b,c;a=0;for(b=this.Z.length;a<b;a++)c=this.Z[a],c.lv&&c.lv()};a.prototype.sv=function(){if(!this.Qc){var a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.jn?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.xd).css(a)}};var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||
window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.Zk){this.Zk=p;0!==this.mr&&f&&f(this.mr);0!==this.Ur&&clearTimeout(this.Ur);a=0;for(b=this.Yn.length;a<b;a++)this.Yn[a](p)}else if(!a&&this.Zk){this.Zk=s;this.rn=Ga();this.bl=Ga();a=this.Tm=0;for(b=this.Yn.length;a<b;a++)this.Yn[a](s);this.Zf()}};a.prototype.load=function(){var a=pb();this.name=a[0];this.au=a[1];this.ae=a[11];this.cu=a[11];this.Qc&&4<=a[11]&&(ba("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.cu=this.ae=3);this.$r=a[17];this.dl=a[18];0===this.dl&&(this.vj=new Image,this.vj.src="logo.png");this.rl=a[20];this.Sg=new P(this);var b,c,d,e,m,h,f,k,g;b=0;for(c=a[2].length;b<c;b++)f=a[2][b],qb(f),g=new f[0](this),g.Mr=f[1],g.mh=f[2],g.cv=f[9],g.ob&&g.ob(),this.plugins.push(g);a=pb();b=0;for(c=a[3].length;b<c;b++){f=a[3][b];m=f[1];g=r;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof m){g=this.plugins[d];break}var l=new g.Nc(g);l.name=f[0];l.Oa=f[2];l.Vp=f[3].slice(0);l.uB=
f[3].length;l.ly=f[4];l.kz=f[5];l.Ja=f[11];l.Oa?(l.Jn=[],l.Df=this.Lk++,l.wb=r):(l.Jn=r,l.Df=-1,l.wb=[]);l.Om=r;l.kj=r;l.Xt=r;l.ee=s;l.ud=r;f[6]?(l.Wv=f[6][0],l.Xv=f[6][1],l.mB=f[6][2]):(l.Wv=r,l.Xv=0,l.mB=0);l.Xb=f[7]?f[7]:r;l.index=b;l.F=[];l.Gm=[];l.Hh=[new Ra(l)];l.og=0;l.ze=r;l.Ih=p;l.io=rb;l.hu=sb;l.rz=tb;l.lb=ub;l.Bl=vb;l.ir=wb;l.Nj=xb;l.Vm=yb;l.Ip=zb;l.Kp=Ab;l.bj=Bb;l.Aa={};l.toString=Cb;l.Jb=[];d=0;for(e=f[8].length;d<e;d++){k=f[8][d];var D=k[1],z=r;m=0;for(h=this.Jb.length;m<h;m++)if(this.Jb[m]instanceof
D){z=this.Jb[m];break}z||(z=new D(this),z.Kn=new Ha,z.ob&&z.ob(),this.Jb.push(z));m=new z.Nc(z,l);m.name=k[0];m.Ja=k[2];m.ob();l.Jb.push(m)}l.global=f[9];l.Xp=f[10];l.za=[];d=0;for(e=f[12].length;d<e;d++)l.za.push({id:f[12][d][0],name:f[12][d][1],Jc:-1,we:p,index:d});(!this.$r||l.Oa||l.Xp||!g.mh)&&l.ob();l.name&&(this.types[l.name]=l);this.Z.push(l);g.Mr&&(d=new g.oc(l),d.uid=this.rl++,d.yv=this.hv++,d.Uk=0,d.Tk=Db,d.toString=Eb,d.Sa=f[13],d.ob(),l.F.push(d))}b=0;for(c=a[4].length;b<c;b++){m=a[4][b];
h=this.Z[m[0]];d=1;for(e=m.length;d<e;d++)f=this.Z[m[d]],f.wb.push(h),h.Jn.push(f)}b=0;for(c=a[22].length;b<c;b++){m=a[22][b];h=[];d=0;for(e=m.length;d<e;d++)h.push(this.Z[m[d]]);d=0;for(e=h.length;d<e;d++)h[d].ee=p,h[d].ud=h}if(0<this.Lk){b=0;for(c=this.Z.length;b<c;b++)if(f=this.Z[b],!f.Oa&&f.wb.length){f.Om=Array(this.Lk);f.kj=Array(this.Lk);f.Xt=Array(this.Lk);l=[];d=z=D=k=0;for(e=f.wb.length;d<e;d++){g=f.wb[d];f.Om[g.Df]=k;k+=g.uB;f.kj[g.Df]=D;D+=g.ly;f.Xt[g.Df]=z;z+=g.kz;m=0;for(h=g.za.length;m<
h;m++)l.push(ma({},g.za[m]))}f.za=l.concat(f.za);d=0;for(e=f.za.length;d<e;d++)f.za[d].index=d}}b=0;for(c=a[5].length;b<c;b++)f=a[5][b],d=new Sa(this,f),this.qq[d.name]=d,this.cf.push(d);b=0;for(c=a[6].length;b<c;b++)f=a[6][b],d=new Ta(this,f),this.zp[d.name]=d,this.ei.push(d);b=0;for(c=this.ei.length;b<c;b++)this.ei[b].ac();b=0;for(c=this.ho.length;b<c;b++)this.ho[b].ac();this.ho.length=0;this.iz=a[7];this.wh=a[8];this.Od=a[9];this.Nd=a[10];this.rm=1;this.Jy=a[12];this.lc=a[13];this.Ht=a[14];this.SD=
a[15];b=a[16];2===b&&(b=this.nn?1:0);this.tB=0!==b;this.Kz=a[19];this.MA=a[21];this.Gl=Date.now()};a.prototype.jz=function(a){var b,c;b=0;for(c=this.Nh.length;b<c;b++)if(this.Nh[b].ny===a)return this.Nh[b];return r};a.prototype.ot=function(){var a=0,b=0,c=p,d,e;d=0;for(e=this.Nh.length;d<e;d++){var m=this.Nh[d].my;if(!m||0>=m)m=5E4;a+=m;this.Nh[d].complete||this.Nh[d].loaded?b+=m:c=s}this.Ji=0==a?0:b/a;return c};a.prototype.go=function(){if(this.hb||this.ua){var a=this.hb||this.cr;this.xd&&this.sv();
this.Ji=0;this.Gu=-1;if(this.ot())this.Iz();else{var b=Date.now()-this.Gl;if(a){if(3!==this.dl&&500<=b&&this.Gu!=this.Ji){a.clearRect(0,0,this.width,this.height);var b=this.width/(2*this.devicePixelRatio),c=this.height/(2*this.devicePixelRatio),d=0===this.dl&&this.vj.complete,e=40,m=0,f=80;d&&(f=this.vj.width,e=f/2,m=this.vj.height/2,a.drawImage(this.vj,ia(b-e),ia(c-m)));1>=this.dl?(b=ia(b-e)+0.5,c=ia(c+(m+(d?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(b,c,Math.floor(f*this.Ji),6),a.strokeStyle=
"black",a.strokeRect(b,c,f,6),a.strokeStyle="white",a.strokeRect(b-1,c-1,f+2,8)):2===this.dl&&(a.font="12pt Arial",a.fillStyle="#999",a.OD="middle",d=Math.round(100*this.Ji)+"%",e=a.measureText?a.measureText(d):r,a.fillText(d,b-(e?e.width:0)/2,c))}this.Gu=this.Ji}setTimeout(function(a){return function(){a.go()}}(this),100)}}};a.prototype.Iz=function(){this.xd&&(this.canvas.parentNode.removeChild(this.xd),this.xd=this.cr=r);this.Gl=Date.now();this.bl=Ga();var a,b,c;if(this.$r){a=0;for(b=this.Z.length;a<
b;a++)c=this.Z[a],!c.Oa&&(!c.Xp&&c.$b.mh)&&c.ob()}else this.on=s;a=0;for(b=this.cf.length;a<b;a++)this.cf[a].oy();2<=this.ae&&(a=this.Od/this.Nd,b=this.width/this.height,this.rm=2!==this.ae&&b>a||2===this.ae&&b<a?this.height/this.Nd:this.width/this.Od);this.au?this.qq[this.au].Nr():this.cf[0].Nr();this.$r||(this.wn=1,this.trigger(P.prototype.Y.Is,r));this.Zf();this.wg&&AppMobi.webview.execute("onGameReady();")};var h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.Zf=function(){if(this.Qz){var a=jQuery(window).width(),b=jQuery(window).height();if(this.pi!==a||this.oi!==b)this.pi=a,this.oi=b,this.setSize(a,b)}a=Ga();this.on&&(b=this.ot(),this.wn=this.Ji,b&&(this.on=s,this.Ji=1,this.trigger(P.prototype.Y.Is,r)));this.Zz();if((this.jb||this.vg)&&!this.aq&&!this.Hl)this.jb=s,this.ua?this.Ye():this.pg(),this.Xn&&(this.canvas&&this.canvas.toDataURL&&(this.fB=this.canvas.toDataURL(this.Xn[0],
this.Xn[1]),this.trigger(P.prototype.Y.Vw,r)),this.Xn=r);this.Sd++;this.Nm++;this.Tm++;this.zn+=Ga()-a;this.Zk||(h?this.mr=h(this.Yv,this.canvas):this.Ur=setTimeout(this.Yv,this.lh?1:16))};a.prototype.Zz=function(){var a,b,c,d,e,m,f,h,k;a=Ga();1E3<=a-this.bl&&(this.bl+=1E3,this.Gp=this.Tm,this.Tm=0,this.pp=this.zn,this.zn=0);this.$u&&(0!==this.rn&&(b=a-this.rn,0===b?(this.wB++,10<=this.UD&&(this.$u=s),this.ih=1/60):(this.ih=b/1E3,0.5<this.ih?this.ih=0:0.1<this.ih&&(this.ih=0.1))),this.rn=a);this.Ca=
this.ih*this.Kh;this.tj.add(this.Ca);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.jn;2<=this.ae||a&&0<this.Pk?(b=this.Od/this.Nd,c=this.width/this.height,d=this.ae,a&&0<this.Pk&&(d=this.Pk),this.rm=2!==d&&c>b||2===d&&c<b?this.height/this.Nd:this.width/this.Od,this.gb&&(this.gb.dB(this.gb.scrollX),this.gb.eB(this.gb.scrollY))):this.rm=1;this.Lc();this.$e++;this.Sg.XA();this.$e--;this.Lc();this.$e++;a=0;for(b=this.Z.length;a<b;a++)if(f=this.Z[a],!(f.Oa||!f.Jb.length&&
!f.wb.length)){c=0;for(d=f.F.length;c<d;c++){h=f.F[c];e=0;for(m=h.Na.length;e<m;e++)h.Na[e].Zf()}}a=0;for(b=this.Z.length;a<b;a++)if(f=this.Z[a],!(f.Oa||!f.Jb.length&&!f.wb.length)){c=0;for(d=f.F.length;c<d;c++){h=f.F[c];e=0;for(m=h.Na.length;e<m;e++)k=h.Na[e],k.PA&&k.PA()}}c=this.Uq.Pi();a=0;for(b=c.length;a<b;a++)c[a].Zf();this.$e--;this.Jz();for(a=0;this.jp&&10>a++;)this.Ut(this.jp);a=0;for(b=this.ei.length;a<b;a++)this.ei[a].Op=s;this.gb.Km&&this.gb.Km.rc();this.Bv.length=0;this.Iu=s;this.$e++;
a=0;for(b=this.Z.length;a<b;a++)if(f=this.Z[a],!(f.Oa||!f.Jb.length&&!f.wb.length)){c=0;for(d=f.F.length;c<d;c++){h=f.F[c];e=0;for(m=h.Na.length;e<m;e++)k=h.Na[e],k.Sr&&k.Sr()}}c=this.Vq.Pi();a=0;for(b=c.length;a<b;a++)c[a].Sr();this.$e--};a.prototype.Ut=function(a){this.gb.jB();var b,c,d,e,m,f,h,k;b=0;for(c=this.Z.length;b<c;b++)f=this.Z[b],f.fw&&-1===a.Vk.indexOf(f)&&f.fw();a.Nr();b=0;for(c=this.Z.length;b<c;b++)if(f=this.Z[b],f.global||f.$b.Mr){a=0;for(d=f.F.length;a<d;a++)if(h=f.F[a],h.Wq&&h.Wq(),
h.Na){e=0;for(m=h.Na.length;e<m;e++)k=h.Na[e],k.Wq&&k.Wq()}}this.Iu=this.jb=p;this.Lc()};a.prototype.Tr=function(a){this.Uq.add(a)};a.prototype.nB=function(a){this.Vq.add(a)};a.prototype.Wm=function(a){return!a||-1===a.Hi?this.Ca:this.ih*a.Hi};a.prototype.pg=function(){this.gb.pg(this.hb);this.wg&&this.hb.present()};a.prototype.Ye=function(){this.gb.Ye(this.ua)};a.prototype.Sx=function(a){a&&this.Im.push(a)};a.prototype.UA=function(a){pa(this.Im,a)};a.prototype.Rk=function(a){return this.Kj[a.toString()]};
a.prototype.Ui=function(a){var b,c;if(!this.yf.contains(a)){this.yf.add(a);if(a.ee){b=0;for(c=a.siblings.length;b<c;b++)this.Ui(a.siblings[b])}this.Wp&&this.yf.Ll.push(a);this.$e++;this.trigger(Object.getPrototypeOf(a.type.$b).Y.Ww,a);this.$e--}};a.prototype.Lc=function(){var a,b,c,d,e,m,f,h,k,g;this.Wp=p;d=0;for(m=this.xf.length;d<m;d++){a=this.xf[d];b=a.type;b.F.push(a);b.Ih=p;e=0;for(f=b.wb.length;e<f;e++)b.wb[e].F.push(a),b.wb[e].Ih=p}this.xf.length=0;m=this.yf.Pi();for(d=0;d<m.length;d++){a=
m[d];b=a.type;c=b.F;e=0;for(f=this.Im.length;e<f;e++)this.Im[e](a);pa(c,a);a.S&&(na(a.S.F,a.de()),a.S.Xd=p);e=0;for(f=b.wb.length;e<f;e++)pa(b.wb[e].F,a),b.wb[e].Ih=p;if(a.Na){e=0;for(f=a.Na.length;e<f;e++)c=a.Na[e],c.sl&&c.sl(),c.rb.Kn.remove(a)}this.Uq.remove(a);this.Vq.remove(a);e=0;for(f=this.Sg.se.length;e<f;e++)if(k=this.Sg.se[e],k.Rd.hasOwnProperty(b.index)&&pa(k.Rd[b.index].li,a),!b.Oa){c=0;for(h=b.wb.length;c<h;c++)g=b.wb[c],k.Rd.hasOwnProperty(g.index)&&pa(k.Rd[g.index].li,a)}a.sl&&a.sl();
this.Kj.hasOwnProperty(a.uid.toString())&&delete this.Kj[a.uid.toString()];this.Ln--;64>b.Gm.length&&b.Gm.push(a);b.Ih=p}this.yf.Xk()||(this.jb=p);this.yf.clear();this.Wp=s};a.prototype.Nt=function(a,b,c,d){if(a.Oa){var e=ia(Math.random()*a.Jn.length);return this.Nt(a.Jn[e],b,c,d)}return!a.ze?r:this.hh(a.ze,b,s,c,d,s)};var g=[];a.prototype.hh=function(a,b,c,d,e,m){var f,h,k,l;if(!a)return r;var F=this.Z[a[1]],D=F.$b.mh;if(this.on&&D&&!F.Xp||D&&!this.ua&&11===a[0][11])return r;D||(b=r);var z;F.Gm.length?
(z=F.Gm.pop(),z.Me=p,F.$b.oc.call(z,F)):(z=new F.$b.oc(F),z.Me=s);z.uid=c&&!m?a[2]:this.rl++;this.Kj[z.uid.toString()]=z;z.yv=this.hv++;z.Uk=0;z.Tk=Db;F.Ih=p;k=a[3];if(z.Me){f=0;for(h=k.length;f<h;f++)z.Pc[f]=k[f];Fa(z.Aa)}else z.Pc=k.slice(0),z.Aa={};if(D){var E=a[0];z.x=ca(d)?E[0]:d;z.y=ca(e)?E[1]:e;z.J=E[2];z.width=E[3];z.height=E[4];z.depth=E[5];z.L=E[6];z.opacity=E[7];z.Hd=E[8];z.Id=E[9];z.sd=E[10];f=E[11];!this.ua&&F.za.length&&(z.sd=f);z.Fk=Na(z.sd);this.ia&&Oa(z,z.sd,this.ia);if(z.Me){f=0;
for(h=E[12].length;f<h;f++){k=0;for(l=E[12][f].length;k<l;k++)z.Qb[f][k]=E[12][f][k]}z.Ma.set(0,0,0,0);z.sb.Fr(z.Ma);z.vm.length=0}else{z.Qb=E[12].slice(0);f=0;for(h=z.Qb.length;f<h;f++)z.Qb[f]=E[12][f].slice(0);z.$a=[];z.bh=[];z.bh.length=F.za.length;z.Ma=new ka(0,0,0,0);z.sb=new la;z.vm=[];z.Wa=Fb;z.KC=Gb;z.ye=Hb;z.tc=Ib;z.de=Jb}f=0;for(h=F.za.length;f<h;f++)z.bh[f]=p;z.Ug=Kb;z.Ug();z.jw=!!z.$a.length;z.gp=p;z.visible=p;z.Hi=-1;z.S=b;z.Qi=b.F.length;"undefined"===typeof z.ab&&(z.ab=r);this.jb=z.gh=
p}z.toString=Eb;var N;f=g.length=0;for(h=F.wb.length;f<h;f++)g.push.apply(g,F.wb[f].Jb);g.push.apply(g,F.Jb);if(z.Me){f=0;for(h=g.length;f<h;f++){var K=g[f];N=z.Na[f];N.Me=p;K.rb.oc.call(N,K,z);E=a[4][f];k=0;for(l=E.length;k<l;k++)N.Sa[k]=E[k];N.ob();K.rb.Kn.add(z)}}else{z.Na=[];f=0;for(h=g.length;f<h;f++)K=g[f],N=new K.rb.oc(K,z),N.Me=s,N.Sa=a[4][f].slice(0),N.ob(),z.Na.push(N),K.rb.Kn.add(z)}E=a[5];if(z.Me){f=0;for(h=E.length;f<h;f++)z.Sa[f]=E[f]}else z.Sa=E.slice(0);this.xf.push(z);b&&b.F.push(z);
this.Ln++;if(F.ee){if(z.ee=p,z.Me?z.siblings.length=0:z.siblings=[],!c&&!m){f=0;for(h=F.ud.length;f<h;f++)if(F.ud[f]!==F){if(!F.ud[f].ze)return r;z.siblings.push(this.hh(F.ud[f].ze,b,s,D?z.x:d,D?z.y:e,p))}f=0;for(h=z.siblings.length;f<h;f++){z.siblings[f].siblings.push(z);for(k=0;k<h;k++)f!==k&&z.siblings[f].siblings.push(z.siblings[k])}}}else z.ee=s,z.siblings=r;z.ob();f=0;for(h=z.Na.length;f<h;f++)z.Na[f].tv&&z.Na[f].tv();return z};a.prototype.Qk=function(a){var b,c;b=0;for(c=this.gb.Pa.length;b<
c;b++){var d=this.gb.Pa[b];if(d.name.toLowerCase()===a.toLowerCase())return d}return r};a.prototype.sg=function(a){a=ia(a);0>a&&(a=0);a>=this.gb.Pa.length&&(a=this.gb.Pa.length-1);return this.gb.Pa[a]};a.prototype.kp=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].lb().Ob=p};a.prototype.Bl=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Bl()};a.prototype.ir=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].ir()};a.prototype.Nj=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Nj()};a.prototype.Qr=
function(a,b,c,d){var e=a.lb(),f,m,h,k,g,l;if(e.Ob){d||(e.Ob=s,e.F.length=0);f=0;for(k=a.F.length;f<k;f++)if(h=a.F[f],h.tc(),g=h.S.Gc(b,c,p),l=h.S.Gc(b,c,s),h.ye(g,l)){if(d)return s;e.F.push(h)}}else{f=m=0;for(k=e.F.length;f<k;f++)if(h=e.F[f],h.tc(),g=h.S.Gc(b,c,p),l=h.S.Gc(b,c,s),h.ye(g,l)){if(d)return s;e.F[m]=e.F[f];m++}d||(e.F.length=m)}a.bj();return d?p:e.Np()};a.prototype.Tv=function(a,b){if(!a||!b||a===b||!a.gh||!b.gh)return s;a.tc();b.tc();var c=a.S,d=b.S,e,f,m,h,k,g;if(c!==d&&(c.oe!==d.oe||
d.pe!==d.pe||c.scale!==d.scale||c.L!==d.L||c.Xc!==d.Xc)){k=a.ab&&!a.ab.oj();e=b.ab&&!b.ab.oj();k?(a.ab.gj(a.width,a.height,a.L),this.Li.Lv(a.ab)):this.Li.Wn(a.sb,a.x,a.y,a.width,a.height);k=this.Li;e?(b.ab.gj(b.width,b.height,b.L),this.Pr.Lv(b.ab)):this.Pr.Wn(b.sb,b.x,b.y,b.width,b.height);g=this.Pr;e=0;for(f=k.Uf;e<f;e++)m=k.Ic[2*e],h=k.Ic[2*e+1],k.Ic[2*e]=c.Kb(m+a.x,h+a.y,p),k.Ic[2*e+1]=c.Kb(m+a.x,h+a.y,s);e=0;for(f=g.Uf;e<f;e++)m=g.Ic[2*e],h=g.Ic[2*e+1],g.Ic[2*e]=d.Kb(m+b.x,h+b.y,p),g.Ic[2*e+1]=
d.Kb(m+b.x,h+b.y,s);return k.su(g,0,0)}if(!a.Ma.Oz(b.Ma)||!a.sb.Nz(b.sb))return s;k=a.ab&&!a.ab.oj();e=b.ab&&!b.ab.oj();if(!k&&!e)return p;k?(a.ab.gj(a.width,a.height,a.L),k=a.ab):(this.Li.Wn(a.sb,a.x,a.y,a.width,a.height),k=this.Li);e?(b.ab.gj(b.width,b.height,b.L),g=b.ab):(this.Li.Wn(b.sb,b.x,b.y,b.width,b.height),g=this.Li);return k.su(g,b.x-a.x,b.y-a.y)};new la;a.prototype.cw=function(a,b){if(!b)return s;var c,d,e,f,m;c=0;for(d=a.Jb.length;c<d;c++)if(a.Jb[c].rb instanceof b)return p;if(!a.Oa){c=
0;for(d=a.wb.length;c<d;c++){m=a.wb[c];e=0;for(f=m.Jb.length;e<f;e++)if(m.Jb[e].rb instanceof b)return p}}return s};a.prototype.dw=function(a){return this.cw(a,hb.hC)};a.prototype.Yr=function(a){return this.cw(a,hb.iC)};a.prototype.vz=function(){if(!hb.gB)return r;var a,b;a=0;for(b=this.Jb.length;a<b;a++)if(this.Jb[a]instanceof hb.gB)return this.Jb[a];return r};a.prototype.Il=function(a){var b=this.vz();if(!b)return r;var c,d,e=b.Kn.Pi(),b=0;for(c=e.length;b<c;++b)if(d=e[b],d.Aa.ND&&this.Tv(a,d))return d;
return r};a.prototype.TA=function(a){for(var b=ca(n)?100:n,c=0,d=a.x,e=a.y,f=0,m=0,h=0,k=r;c<=b;){switch(f){case 0:m=0;h=-1;c++;break;case 1:m=1;h=-1;break;case 2:m=1;h=0;break;case 3:h=m=1;break;case 4:m=0;h=1;break;case 5:m=-1;h=1;break;case 6:m=-1;h=0;break;case 7:h=m=-1}f=(f+1)%8;a.x=ia(d+m*c);a.y=ia(e+h*c);a.Wa();if(!this.Tv(a,k)&&(k=this.Il(a),!k))return p}a.x=d;a.y=e;a.Wa();return s};a.prototype.Cl=function(a,b){a.gh&&b.gh&&this.Bv.push([a,b])};var l=[],m=-1;a.prototype.trigger=function(a,
b,c){if(!this.gb)return s;var d=this.gb.Km;if(!d)return s;m++;m===l.length?l.push(new Ha):l[m].clear();a=this.aw(a,b,d,c);m--;return a};a.prototype.aw=function(a,b,c,d){var e=l[m];if(e.contains(c))return s;e.add(c);var e=c.nu.Pi(),f=s,h,k,g;h=0;for(k=e.length;h<k;h++)g=this.aw(a,b,e[h],d),f=f||g;if(b){g=this.Wr(a,b,b.type.name,c,d);f=f||g;h=0;for(k=b.type.wb.length;h<k;h++)g=this.Wr(a,b,b.type.wb[h].name,c,d),f=f||g}else g=this.Wr(a,b,"system",c,d),f=f||g;return f};a.prototype.Wr=function(a,b,c,d,
e){var f,m=s,h=s,h="undefined"!==typeof e,k=(h?d.Zt:d.bw)[c];if(!k)return m;var g=r;d=0;for(f=k.length;d<f;d++)if(k[d].method==a){g=k[d].Mm;break}if(!g)return m;a=h?g[e]:g;if(!a)return r;d=0;for(f=a.length;d<f;d++)e=a[d][0],h=a[d][1],h=this.gz(b,c,e,h),m=m||h;return m};a.prototype.gz=function(a,b,c,d){var e,f,h=s;this.Xr++;var k=this.be().Xe;k&&this.Bl(k.Fh);var g=1<this.Xr;this.Bl(c.Fh);g&&this.SA();var l=this.jr(c);l.Xe=c;a&&(e=this.types[b].lb(),e.Ob=s,e.F.length=1,e.F[0]=a,this.types[b].bj());
a=p;if(c.parent){b=l.Sv;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(f=b.length;e<f;e++)if(!b[e].ZA()){a=s;break}}a&&(this.Nm++,c.Tf?c.YA(d):c.rc(),h=h||l.uj);this.rv();g&&this.OA();this.Nj(c.Fh);k&&this.Nj(k.Fh);0===this.$e&&(0===m&&!this.Yp&&(!this.yf.Xk()||this.xf.length))&&this.Lc();this.Xr--;return h};a.prototype.eu=function(){var a=this.be();return a.Xe.ic[a.td]};a.prototype.SA=function(){this.yn++;this.yn>=this.Aq.length&&this.Aq.push([])};a.prototype.OA=function(){this.yn--};
a.prototype.fu=function(){return this.Aq[this.yn]};a.prototype.jr=function(a){this.Lm++;this.Lm>=this.yp.length&&this.yp.push(new Ua);var b=this.be();b.reset(a);return b};a.prototype.rv=function(){this.Lm--};a.prototype.be=function(){return this.yp[this.Lm]};a.prototype.gu=function(a,b){for(var c,d,e,f,m,h;b;){c=0;for(d=b.Pe.length;c<d;c++)if(h=b.Pe[c],h instanceof Va&&a.toLowerCase()===h.name.toLowerCase())return h;b=b.parent}c=0;for(d=this.ei.length;c<d;c++){m=this.ei[c];e=0;for(f=m.kh.length;e<
f;e++)if(h=m.kh[e],h instanceof Va&&a.toLowerCase()===h.name.toLowerCase())return h}return r};a.prototype.iu=function(a){var b,c;b=0;for(c=this.cf.length;b<c;b++)if(this.cf[b].Ja===a)return this.cf[b];return r};a.prototype.an=function(a){var b,c;b=0;for(c=this.Z.length;b<c;b++)if(this.Z[b].Ja===a)return this.Z[b];return r};a.prototype.nz=function(a){var b,c;b=0;for(c=this.aj.length;b<c;b++)if(this.aj[b].Ja===a)return this.aj[b];return r};a.prototype.Jz=function(){var a=this,b=this.Dr,f=this.zg,m=
this.vn,h=s;this.Ov&&(h=p,b="__c2_continuouspreview",this.Ov=s);if(b.length){this.Lc();f=this.cB();if(window.indexedDB&&!this.vg)c(b,f,function(){ba("Saved state to IndexedDB storage ("+f.length+" bytes)");a.zg=f;a.trigger(P.prototype.Y.Ho,r);a.zg="";h&&e()},function(c){try{localStorage.setItem("__c2save_"+b,f),ba("Saved state to WebStorage ("+f.length+" bytes)"),a.zg=f,a.trigger(P.prototype.Y.Ho,r),a.zg="",h&&e()}catch(d){ba("Failed to save game state: "+c+"; "+d)}});else try{localStorage.setItem("__c2save_"+
b,f),ba("Saved state to WebStorage ("+f.length+" bytes)"),a.zg=f,this.trigger(P.prototype.Y.Ho,r),a.zg="",h&&e()}catch(k){ba("Error saving to WebStorage: "+k)}this.jd=this.vn=this.Dr=""}m.length&&(window.indexedDB&&!this.vg?d(m,function(b){b?(a.jd=b,ba("Loaded state from IndexedDB storage ("+a.jd.length+" bytes)")):(a.jd=localStorage.getItem("__c2save_"+m)||"",ba("Loaded state from WebStorage ("+a.jd.length+" bytes)"));a.Hl=s;a.jd.length||a.trigger(P.prototype.Y.Go,r)},function(){a.jd=localStorage.getItem("__c2save_"+
m)||"";ba("Loaded state from WebStorage ("+a.jd.length+" bytes)");a.Hl=s;a.jd.length||a.trigger(P.prototype.Y.Go,r)}):(this.jd=localStorage.getItem("__c2save_"+m)||"",ba("Loaded state from WebStorage ("+this.jd.length+" bytes)"),this.Hl=s,a.jd.length||a.trigger(P.prototype.Y.Go,r)),this.Dr=this.vn="");this.jd.length&&(this.Lc(),this.Yz(this.jd),this.zg=this.jd,this.trigger(P.prototype.Y.Zw,r),this.jd=this.zg="")};a.prototype.cB=function(){var a,b,c,d,e,f,m,h={c2save:p,version:1,rt:{time:this.tj.Jh,
timescale:this.Kh,tickcount:this.Sd,execcount:this.Nm,next_uid:this.rl,running_layout:this.gb.Ja,start_time_offset:Date.now()-this.Gl},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.Z.length;a<b;a++)if(e=this.Z[a],!e.Oa&&!this.dw(e)){f={instances:[]};Ea(e.Aa)&&(f.ex=k(e.Aa));c=0;for(d=e.F.length;c<d;c++)f.instances.push(this.Jv(e.F[c]));h.types[e.Ja.toString()]=f}a=0;for(b=this.cf.length;a<b;a++)c=this.cf[a],h.layouts[c.Ja.toString()]=c.Qd();d=h.events.groups;a=0;for(b=
this.aj.length;a<b;a++)c=this.aj[a],d[c.Ja.toString()]=!!this.Zo[c.dn];b=h.events.cnds;for(m in this.hj)this.hj.hasOwnProperty(m)&&(a=this.hj[m],Ea(a.Aa)&&(b[m]={ex:a.Aa}));b=h.events.acts;for(m in this.$i)this.$i.hasOwnProperty(m)&&(a=this.$i[m],Ea(a.Aa)&&(b[m]={ex:a.Aa}));b=h.events.vars;for(m in this.$j)if(this.$j.hasOwnProperty(m)&&(a=this.$j[m],!a.kn&&(!a.parent||a.$k)))b[m]=a.data;h.system=this.Sg.Qd();return JSON.stringify(h)};a.prototype.Av=function(){var a,b,c,d,e,f;this.Kj={};a=0;for(b=
this.Z.length;a<b;a++)if(c=this.Z[a],!c.Oa){d=0;for(e=c.F.length;d<e;d++)f=c.F[d],this.Kj[f.uid.toString()]=f}};a.prototype.Yz=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.tj.reset();this.tj.Jh=b.time;this.Kh=b.timescale;this.Sd=b.tickcount;this.Nm=b.execcount;this.Gl=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.gb.Ja)if(c=this.iu(c))this.Ut(c);else return;this.vu=p;var d,e,f,m,h,k,g;k=a.types;for(e in k)if(k.hasOwnProperty(e)&&(m=this.an(parseInt(e,
10)))&&!m.Oa&&!this.dw(m)){k[e].ex?m.Aa=k[e].ex:Fa(m.Aa);h=m.F;f=k[e].instances;c=0;for(d=ga(h.length,f.length);c<d;c++)this.vq(h[c],f[c]);c=f.length;for(d=h.length;c<d;c++)this.Ui(h[c]);c=h.length;for(d=f.length;c<d;c++){h=r;if(m.$b.mh&&(h=this.gb.Zm(f[c].w.l),!h))continue;h=this.hh(m.ze,h,s,0,0,p);this.vq(h,f[c])}m.Ih=p}this.Lc();this.Av();d=a.layouts;for(e in d)d.hasOwnProperty(e)&&(c=this.iu(parseInt(e,10)))&&c.Ce(d[e]);d=a.events.groups;for(e in d)d.hasOwnProperty(e)&&(c=this.nz(parseInt(e,10)))&&
(this.Zo[c.dn]=d[e]);c=a.events.cnds;for(e in c)c.hasOwnProperty(e)&&this.hj.hasOwnProperty(e)&&(this.hj[e].Aa=c[e].ex);c=a.events.acts;for(e in c)c.hasOwnProperty(e)&&this.$i.hasOwnProperty(e)&&(this.$i[e].Aa=c[e].ex);c=a.events.vars;for(e in c)c.hasOwnProperty(e)&&this.$j.hasOwnProperty(e)&&(this.$j[e].data=c[e]);this.rl=b.next_uid;this.vu=s;this.Sg.Ce(a.system);c=0;for(d=this.Z.length;c<d;c++)if(m=this.Z[c],!m.Oa){e=0;for(a=m.F.length;e<a;e++){h=m.F[e];if(m.ee){k=h.Tk();b=h.siblings.length=0;for(f=
m.ud.length;b<f;b++)g=m.ud[b],m!==g&&h.siblings.push(g.F[k])}h.qm&&h.qm();if(h.Na){b=0;for(f=h.Na.length;b<f;b++)k=h.Na[b],k.qm&&k.qm()}}}this.jb=p}};a.prototype.Jv=function(a){var b,c,d,e,f;e=a.type;d=e.$b;var m={uid:a.uid};Ea(a.Aa)&&(m.ex=k(a.Aa));if(a.Pc&&a.Pc.length){m.ivs={};b=0;for(c=a.Pc.length;b<c;b++)m.ivs[a.type.Vp[b].toString()]=a.Pc[b]}if(d.mh){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.S.Ja,zi:a.de()};0!==a.L&&(d.a=a.L);1!==a.opacity&&(d.o=a.opacity);0.5!==a.Hd&&(d.hX=a.Hd);0.5!==a.Id&&
(d.hY=a.Id);0!==a.sd&&(d.bm=a.sd);a.visible||(d.v=a.visible);a.gh||(d.ce=a.gh);-1!==a.Hi&&(d.mts=a.Hi);if(e.za.length){d.fx=[];b=0;for(c=e.za.length;b<c;b++)f=e.za[b],d.fx.push({name:f.name,active:a.bh[f.index],params:a.Qb[f.index]})}m.w=d}if(a.Na&&a.Na.length){m.behs={};b=0;for(c=a.Na.length;b<c;b++)e=a.Na[b],e.Qd&&(m.behs[e.type.Ja.toString()]=e.Qd())}a.Qd&&(m.data=a.Qd());return m};a.prototype.pz=function(a,b){var c,d;c=0;for(d=a.Vp.length;c<d;c++)if(a.Vp[c]===b)return c;return-1};a.prototype.mz=
function(a,b){var c,d;c=0;for(d=a.Na.length;c<d;c++)if(a.Na[c].type.Ja===b)return c;return-1};a.prototype.vq=function(a,b){var c,d,e,f,m,h;h=a.type;e=h.$b;a.uid=b.uid;b.ex?a.Aa=b.ex:Fa(a.Aa);if(d=b.ivs)for(c in d)d.hasOwnProperty(c)&&(f=this.pz(h,parseInt(c,10)),0>f||f>=a.Pc.length||(a.Pc[f]=d[c]));if(e.mh){f=b.w;a.S.Ja!==f.l&&(d=a.S,a.S=this.gb.Zm(f.l),a.S?(a.S.F.push(a),a.S.Xd=p,pa(d.F,a),d.Xd=p):(a.S=d,this.Ui(a)));a.x=f.x;a.y=f.y;a.width=f.w;a.height=f.h;a.Qi=f.zi;a.L=f.hasOwnProperty("a")?f.a:
0;a.opacity=f.hasOwnProperty("o")?f.o:1;a.Hd=f.hasOwnProperty("hX")?f.hX:0.5;a.Id=f.hasOwnProperty("hY")?f.hY:0.5;a.visible=f.hasOwnProperty("v")?f.v:p;a.gh=f.hasOwnProperty("ce")?f.ce:p;a.Hi=f.hasOwnProperty("mts")?f.mts:-1;a.sd=f.hasOwnProperty("bm")?f.bm:0;a.Fk=Na(a.sd);this.ia&&Oa(a,a.sd,this.ia);a.Wa();if(f.hasOwnProperty("fx")){d=0;for(e=f.fx.length;d<e;d++)m=h.Kp(f.fx[d].name),0>m||(a.bh[m]=f.fx[d].active,a.Qb[m]=f.fx[d].params)}a.Ug()}if(h=b.behs)for(c in h)h.hasOwnProperty(c)&&(f=this.mz(a,
parseInt(c,10)),0>f||a.Na[f].Ce(h[c]));b.data&&a.Ce(b.data)};Wa=function(b){return new a(document.getElementById(b))};Xa=function(b,c){return new a({dc:p,width:b,height:c})};window.cr_createRuntime=Wa;window.cr_createDCRuntime=Xa;window.createCocoonJSRuntime=function(){window.c2cocoonjs=p;var b=document.createElement("screencanvas");document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});
return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:r};window.cr_sizeCanvas=function(a,b){if(!(0===a||0===b)){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}};window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)};
(function(){function a(a,b){this.e=a;this.Km=r;this.scrollX=this.e.Od/2;this.scrollY=this.e.Nd/2;this.scale=1;this.L=0;this.Mk=p;this.name=b[0];this.width=b[1];this.height=b[2];this.ew=b[3];this.Nv=b[4];this.Ja=b[5];var c=b[6],d,g;this.Pa=[];this.Vk=[];d=0;for(g=c.length;d<g;d++){var l=new Ya(this,c[d]);l.iv=d;this.Pa.push(l)}c=b[7];this.ki=[];d=0;for(g=c.length;d<g;d++){var l=c[d],m=this.e.Z[l[1]];m.ze||(m.ze=l);this.ki.push(l);-1===this.Vk.indexOf(m)&&this.Vk.push(m)}this.za=[];this.$a=[];this.Qb=
[];d=0;for(g=b[8].length;d<g;d++)this.za.push({id:b[8][d][0],name:b[8][d][1],Jc:-1,we:p,index:d}),this.Qb.push(b[8][d][2].slice(0));this.Ug();this.Oj=new ka(0,0,1,1);this.nr=new ka(0,0,1,1);this.vh={}}function b(a,b){this.mb=a;this.e=a.e;this.F=[];this.scale=1;this.L=0;this.di=s;this.Tg=new ka(0,0,0,0);this.Zv=new la;this.Td=this.Wd=this.Vd=this.Ud=0;this.Xd=s;this.name=b[0];this.index=b[1];this.Ja=b[2];this.visible=b[3];this.eh=b[4];this.Oi=b[5];this.oe=b[6];this.pe=b[7];this.opacity=b[8];this.Fp=
b[9];this.Xc=b[10];this.sd=b[11];this.Iy=b[12];this.Fk="source-over";this.Oc=this.Vc=0;this.Ah=s;var c=b[13],d,g;this.mj=[];d=0;for(g=c.length;d<g;d++){var l=c[d],m=this.e.Z[l[1]];m.ze||(m.ze=l);this.mj.push(l);-1===this.mb.Vk.indexOf(m)&&this.mb.Vk.push(m)}this.za=[];this.$a=[];this.Qb=[];d=0;for(g=b[14].length;d<g;d++)this.za.push({id:b[14][d][0],name:b[14][d][1],Jc:-1,we:p,index:d}),this.Qb.push(b[14][d][2].slice(0));this.Ug();this.Oj=new ka(0,0,1,1);this.nr=new ka(0,0,1,1)}function c(a,b){return a.Qi-
b.Qi}a.prototype.bB=function(a){var b=a.type.Ja.toString();this.vh.hasOwnProperty(b)||(this.vh[b]=[]);this.vh[b].push(this.e.Jv(a))};a.prototype.lu=function(){var a=this.Pa[0];return!a.Oi&&1===a.opacity&&!a.Fp&&a.visible};a.prototype.Ug=function(){this.$a.length=0;var a,b,c;a=0;for(b=this.za.length;a<b;a++)c=this.za[a],c.we&&this.$a.push(c)};a.prototype.Jp=function(a){var b,c,d;b=0;for(c=this.za.length;b<c;b++)if(d=this.za[b],d.name===a)return d;return r};var d=[];a.prototype.Nr=function(){this.Nv&&
(this.Km=this.e.zp[this.Nv]);this.e.gb=this;this.scrollX=this.e.Od/2;this.scrollY=this.e.Nd/2;var a,b,f,h,g,l,m;a=0;for(f=this.e.Z.length;a<f;a++)if(b=this.e.Z[a],!b.Oa){g=b.F;b=0;for(h=g.length;b<h;b++)if(l=g[b],l.S){var q=l.S.iv;q>=this.Pa.length&&(q=this.Pa.length-1);l.S=this.Pa[q];l.S.F.push(l);l.S.Xd=p}}a=d.length=0;for(f=this.Pa.length;a<f;a++)l=this.Pa[a],l.qy(),l.di=p,b=l.Gc(0,0,p),h=l.Gc(0,0,s),l.di=s,this.e.wh&&(b=b+0.5|0,h=h+0.5|0),l.sr(b,h,r);g=s;if(!this.Mk){for(m in this.vh)if(this.vh.hasOwnProperty(m)&&
(b=this.e.an(parseInt(m,10)))&&!b.Oa&&this.e.Yr(b)){h=this.vh[m];a=0;for(f=h.length;a<f;a++){l=r;if(b.$b.mh&&(l=this.Zm(h[a].w.l),!l))continue;l=this.e.hh(b.ze,l,s,0,0,p);this.e.vq(l,h[a]);g=p;d.push(l)}h.length=0}a=0;for(f=this.Pa.length;a<f;a++)this.Pa[a].F.sort(c),this.Pa[a].Xd=p}g&&(this.e.Lc(),this.e.Av());for(a=0;a<d.length;a++)if(l=d[a],l.type.ee){f=l.Tk();b=0;for(h=l.type.ud.length;b<h;b++)m=l.type.ud[b],l.type!==m&&(m.F.length>f?l.siblings.push(m.F[f]):m.ze&&(g=this.e.hh(m.ze,l.S,p,l.x,l.y,
p),this.e.Lc(),m.io(),l.siblings.push(g),d.push(g)))}a=0;for(f=this.ki.length;a<f;a++)this.e.hh(this.ki[a],r,p);this.e.jp=r;this.e.Lc();if(this.e.hb&&!this.e.Qc){a=0;for(f=this.e.Z.length;a<f;a++)m=this.e.Z[a],!m.Oa&&(m.F.length&&m.uv)&&m.uv(this.e.hb)}a=0;for(f=d.length;a<f;a++)l=d[a],this.e.trigger(Object.getPrototypeOf(l.type.$b).Y.Eo,l);d.length=0;this.e.trigger(P.prototype.Y.Yw,r);this.Mk=s};a.prototype.oy=function(){var a,b,c,d,g;b=a=0;for(c=this.ki.length;a<c;a++)d=this.ki[a],g=this.e.Z[d[1]],
g.global?this.e.hh(d,r,p):(this.ki[b]=d,b++);this.ki.length=b};a.prototype.jB=function(){this.e.trigger(P.prototype.Y.Xw,r);this.e.Sg.se.length=0;var a,b,c,d,g,l;a=0;for(b=this.Pa.length;a<b;a++){g=this.Pa[a].F;c=0;for(d=g.length;c<d;c++)l=g[c],l.type.global||(this.e.Yr(l.type)&&this.bB(l),this.e.Ui(l));this.e.Lc();g.length=0;this.Pa[a].Xd=p}a=0;for(b=this.e.Z.length;a<b;a++)if(g=this.e.Z[a],!g.global&&!g.$b.mh&&!g.$b.Mr&&!g.Oa){c=0;for(d=g.F.length;c<d;c++)this.e.Ui(g.F[c]);this.e.Lc()}};a.prototype.pg=
function(a){a.globalAlpha=1;a.globalCompositeOperation="source-over";this.e.Ht&&!this.lu()&&a.clearRect(0,0,this.e.width,this.e.height);var b,c,d;b=0;for(c=this.Pa.length;b<c;b++)d=this.Pa[b],d.visible&&(0<d.opacity&&11!==d.sd)&&d.pg(a)};a.prototype.Ye=function(a){var b=0<this.$a.length||this.e.Zj;if(b){this.e.bf||(this.e.bf=a.mg(this.e.width,this.e.height,this.e.lc));if(this.e.bf.Bk!==this.e.width||this.e.bf.Ak!==this.e.height)a.deleteTexture(this.e.bf),this.e.bf=a.mg(this.e.width,this.e.height,
this.e.lc);a.Qg(this.e.bf)}this.e.Ht&&!this.lu()&&a.clear(0,0,0,0);var c,d;c=0;for(d=this.Pa.length;c<d;c++)this.Pa[c].visible&&0<this.Pa[c].opacity&&this.Pa[c].Ye(a);b&&(1>=this.$a.length?(1===this.$a.length?(b=this.$a[0].index,a.Xf(this.$a[0].Jc),a.Uj(r,1/this.e.width,1/this.e.height,0,0,1,1,this.scale,this.Qb[b]),a.Nn(this.$a[0].Jc)&&(this.e.jb=p)):a.Xf(0),a.Qg(r),a.Tj(1),a.Ne(this.e.bf),a.Kv(),a.Wf(),a.$f(),b=this.e.width/2,c=this.e.height/2,a.On(-b,c,b,c,b,-c,-b,-c),a.Ne(r)):this.qr(a,r,r,r));
a.QA()};a.prototype.Sk=function(){return 0<this.$a.length||this.e.Zj?this.e.bf:r};a.prototype.ju=function(){var a=this.Pa[0].Fd(),b,c,d;b=1;for(c=this.Pa.length;b<c;b++)d=this.Pa[b],0===d.oe&&0===d.pe||d.Fd()<a&&(a=d.Fd());return a};a.prototype.dB=function(a){if(!this.ew){var b=this.e.width*(1/this.ju())/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.e.jb=p)};a.prototype.eB=function(a){if(!this.ew){var b=this.e.height*(1/this.ju())/2;a>this.height-b&&(a=this.height-
b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.e.jb=p)};a.prototype.qr=function(a,b,c,d){var g=c?c.$a:b?b.$a:this.$a,l=c?c.S.Fd():b?b.Fd():1,m=this.e.Hp,q,u,t,w,x=0,A=1,B,C=this.e.width,H=this.e.height,O=C/2,F=H/2,D=b?b.Oj:this.Oj,z=b?b.nr:this.nr,E=0,N=0,K=0,X=0,S=C,Ca=C,R=H,Da=H,qa=t=0,Ia=c?c.S.Ef():0;if(c){q=0;for(u=g.length;q<u;q++)t+=a.sz(g[q].Jc),qa+=a.tz(g[q].Jc);w=c.Ma;E=b.Kb(w.left,w.top,p);K=b.Kb(w.left,w.top,s);S=b.Kb(w.right,w.bottom,p);R=b.Kb(w.right,w.bottom,s);0!==Ia&&(q=b.Kb(w.right,
w.top,p),u=b.Kb(w.right,w.top,s),N=b.Kb(w.left,w.bottom,p),X=b.Kb(w.left,w.bottom,s),w=Math.min(E,S,q,N),S=Math.max(E,S,q,N),E=w,w=Math.min(K,R,u,X),R=Math.max(K,R,u,X),K=w);E-=t;K-=qa;S+=t;R+=qa;z.left=E/C;z.top=1-K/H;z.right=S/C;z.bottom=1-R/H;N=E=Math.floor(E);X=K=Math.floor(K);Ca=S=Math.ceil(S);Da=R=Math.ceil(R);N-=t;X-=qa;Ca+=t;Da+=qa;0>E&&(E=0);0>K&&(K=0);S>C&&(S=C);R>H&&(R=H);0>N&&(N=0);0>X&&(X=0);Ca>C&&(Ca=C);Da>H&&(Da=H);D.left=E/C;D.top=1-K/H;D.right=S/C;D.bottom=1-R/H}else D.left=z.left=
0,D.top=z.top=0,D.right=z.right=1,D.bottom=z.bottom=1;qa=c&&((c.L||Ia)&&a.zl(g[0].Jc)||0!==t||0!==qa||1!==c.opacity||c.type.$b.cv)||b&&!c&&1!==b.opacity;a.Kv();if(qa){m[x]||(m[x]=a.mg(C,H,this.e.lc));if(m[x].Bk!==C||m[x].Ak!==H)a.deleteTexture(m[x]),m[x]=a.mg(C,H,this.e.lc);a.Xf(0);a.Qg(m[x]);B=Da-X;a.clearRect(N,H-X-B,Ca-N,B);c?c.Ye(a):(a.Ne(this.e.fe),a.Tj(b.opacity),a.Wf(),a.translate(-O,-F),a.$f(),a.xh(E,R,S,R,S,K,E,K,D));z.left=z.top=0;z.right=z.bottom=1;c&&(w=D.top,D.top=D.bottom,D.bottom=w);
x=1;A=0}a.Tj(1);t=g.length-1;var Ia=a.hr(g[t].Jc),Ja=0;q=0;for(u=g.length;q<u;q++){m[x]||(m[x]=a.mg(C,H,this.e.lc));if(m[x].Bk!==C||m[x].Ak!==H)a.deleteTexture(m[x]),m[x]=a.mg(C,H,this.e.lc);a.Xf(g[q].Jc);Ja=g[q].index;a.Nn(g[q].Jc)&&(this.e.jb=p);0==q&&!qa?(a.Qg(m[x]),B=Da-X,w=H-X-B,a.clearRect(N,w,Ca-N,B),c?(a.Uj(d,1/c.width,1/c.height,z.left,z.top,z.right,z.bottom,l,c.Qb[Ja]),c.Ye(a)):(a.Uj(d,1/C,1/H,0,0,1,1,l,b?b.Qb[Ja]:this.Qb[Ja]),a.Ne(b?this.e.fe:this.e.bf),a.Wf(),a.translate(-O,-F),a.$f(),
a.xh(E,R,S,R,S,K,E,K,D)),z.left=z.top=0,z.right=z.bottom=1,c&&!Ia&&(w=R,R=K,K=w)):(a.Uj(d,1/C,1/H,z.left,z.top,z.right,z.bottom,l,c?c.Qb[Ja]:b?b.Qb[Ja]:this.Qb[Ja]),q===t&&!Ia?(c?a.Eh(c.Vc,c.Oc):b&&a.Eh(b.Vc,b.Oc),a.Qg(d)):(a.Qg(m[x]),B=Da-X,w=H-X-B,a.clearRect(N,w,Ca-N,B)),a.Ne(m[A]),a.Wf(),a.translate(-O,-F),a.$f(),a.xh(E,R,S,R,S,K,E,K,D),q===t&&!Ia&&a.Ne(r));x=0===x?1:0;A=0===x?1:0}Ia&&(a.Xf(0),c?a.Eh(c.Vc,c.Oc):b&&a.Eh(b.Vc,b.Oc),a.Qg(d),a.Ne(m[A]),a.Wf(),a.translate(-O,-F),a.$f(),c&&1===g.length&&
!qa?a.xh(E,K,S,K,S,R,E,R,D):a.xh(E,R,S,R,S,K,E,K,D),a.Ne(r))};a.prototype.Zm=function(a){var b,c;b=0;for(c=this.Pa.length;b<c;b++)if(this.Pa[b].Ja===a)return this.Pa[b];return r};a.prototype.Qd=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.L,w:this.width,h:this.height,fv:this.Mk,persist:this.vh,fx:[],layers:{}};a=0;for(b=this.za.length;a<b;a++)c=this.za[a],d.fx.push({name:c.name,active:c.we,params:this.Qb[c.index]});a=0;for(b=this.Pa.length;a<b;a++)c=this.Pa[a],d.layers[c.Ja.toString()]=
c.Qd();return d};a.prototype.Ce=function(a){var b,c,d,g;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.L=a.a;this.width=a.w;this.height=a.h;this.vh=a.persist;"undefined"!==typeof a.fv&&(this.Mk=a.fv);var l=a.fx;b=0;for(c=l.length;b<c;b++)if(d=this.Jp(l[b].name))d.we=l[b].active,this.Qb[d.index]=l[b].params;this.Ug();b=a.layers;for(g in b)b.hasOwnProperty(g)&&(a=this.Zm(parseInt(g,10)))&&a.Ce(b[g])};Sa=a;b.prototype.Ug=function(){this.$a.length=0;var a,b,c;a=0;for(b=this.za.length;a<b;a++)c=
this.za[a],c.we&&this.$a.push(c)};b.prototype.Jp=function(a){var b,c,d;b=0;for(c=this.za.length;b<c;b++)if(d=this.za[b],d.name===a)return d;return r};b.prototype.qy=function(){var a,b,c,h,g,l;b=a=0;for(c=this.mj.length;a<c;a++){h=this.mj[a];g=this.e.Z[h[1]];l=this.e.Yr(g);g=p;if(!l||this.mb.Mk)h=this.e.hh(h,this,p),d.push(h),h.type.global&&(g=s);g&&(this.mj[b]=this.mj[a],b++)}this.mj.length=b;this.e.Lc();!this.e.ua&&this.za.length&&(this.sd=this.Iy);this.Fk=Na(this.sd);this.e.ia&&Oa(this,this.sd,
this.e.ia)};b.prototype.pB=function(){if(this.Xd){var a,b;a=0;for(b=this.F.length;a<b;a++)this.F[a].Qi=a;this.Xd=s}};b.prototype.Fd=function(){return this.qz()*this.e.rm};b.prototype.qz=function(){return(this.scale*this.mb.scale-1)*this.Xc+1};b.prototype.Ef=function(){return this.di?0:ta(this.mb.L+this.L)};b.prototype.pg=function(a){this.Ah=this.Fp||1!==this.opacity||0!==this.sd;var b=this.e.canvas,c=a;a.globalAlpha=1;a.globalCompositeOperation="source-over";this.Ah&&(this.e.tn||(this.e.tn=document.createElement("canvas"),
b=this.e.tn,b.width=this.e.width,b.height=this.e.height,this.e.Hu=b.getContext("2d")),b=this.e.tn,c=this.e.Hu,b.width!==this.e.width&&(b.width=this.e.width),b.height!==this.e.height&&(b.height=this.e.height),this.Oi&&c.clearRect(0,0,this.e.width,this.e.height));this.Oi||(c.fillStyle="rgb("+this.eh[0]+","+this.eh[1]+","+this.eh[2]+")",c.fillRect(0,0,this.e.width,this.e.height));c.save();this.di=p;var d=this.Gc(0,0,p),g=this.Gc(0,0,s);this.di=s;this.e.wh&&(d=d+0.5|0,g=g+0.5|0);this.sr(d,g,c);var l=
this.Fd();c.scale(l,l);c.translate(-d,-g);for(var m,d=0,g=this.F.length;d<g;d++)if(l=this.F[d],l.visible&&!(0===l.width||0===l.height))l.tc(),m=l.Ma,m.right<this.Ud||(m.bottom<this.Wd||m.left>this.Vd||m.top>this.Td)||(c.globalCompositeOperation=l.Fk,l.pg(c));c.restore();this.Ah&&(a.globalCompositeOperation=this.Fk,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.sr=function(a,b,c){var d=this.Fd();this.Ud=a;this.Wd=b;this.Vd=a+this.e.width*(1/d);this.Td=b+this.e.height*(1/d);a=this.Ef();
0!==a&&(c&&(c.translate(this.e.width/2,this.e.height/2),c.rotate(-a),c.translate(this.e.width/-2,this.e.height/-2)),this.Tg.set(this.Ud,this.Wd,this.Vd,this.Td),this.Tg.offset((this.Ud+this.Vd)/-2,(this.Wd+this.Td)/-2),this.Zv.Mv(this.Tg,a),this.Zv.Ct(this.Tg),this.Tg.offset((this.Ud+this.Vd)/2,(this.Wd+this.Td)/2),this.Ud=this.Tg.left,this.Wd=this.Tg.top,this.Vd=this.Tg.right,this.Td=this.Tg.bottom)};b.prototype.Ye=function(a){var b=this.e.width,c=this.e.height,d=0,g=0;if(this.Ah=this.Fp||1!==this.opacity||
0<this.$a.length||0!==this.sd){this.e.fe||(this.e.fe=a.mg(this.e.width,this.e.height,this.e.lc));if(this.e.fe.Bk!==this.e.width||this.e.fe.Ak!==this.e.height)a.deleteTexture(this.e.fe),this.e.fe=a.mg(this.e.width,this.e.height,this.e.lc);a.Qg(this.e.fe);this.Oi&&a.clear(0,0,0,0)}this.Oi||a.clear(this.eh[0]/255,this.eh[1]/255,this.eh[2]/255,1);this.di=p;var g=this.Gc(0,0,p),l=this.Gc(0,0,s);this.di=s;this.e.wh&&(g=g+0.5|0,l=l+0.5|0);this.sr(g,l,r);l=this.Fd();a.Wf();a.scale(l,l);a.tr(-this.Ef());a.translate((this.Ud+
this.Vd)/-2,(this.Wd+this.Td)/-2);a.$f();var m,q,u;m=0;for(q=this.F.length;m<q;m++)if(u=this.F[m],u.visible&&!(0===u.width||0===u.height))if(u.tc(),d=u.Ma,!(d.right<this.Ud||d.bottom<this.Wd||d.left>this.Vd||d.top>this.Td))if(u.jw)if(d=u.$a[0].Jc,g=u.$a[0].index,1===u.$a.length&&!a.hr(d)&&!a.RA(d)&&(!u.L&&!u.S.Ef()||!a.zl(d))&&1===u.opacity&&!u.type.$b.cv){a.Xf(d);a.Eh(u.Vc,u.Oc);a.Nn(d)&&(this.e.jb=p);var t=0,w=0,x=0,A=0;a.zl(d)&&(d=u.Ma,t=this.Kb(d.left,d.top,p),w=this.Kb(d.left,d.top,s),x=this.Kb(d.right,
d.bottom,p),d=this.Kb(d.right,d.bottom,s),t/=b,w=1-w/c,x/=b,A=1-d/c);a.Uj(this.Ah?this.e.fe:this.mb.Sk(),1/u.width,1/u.height,t,w,x,A,this.Fd(),u.Qb[g]);u.Ye(a)}else this.mb.qr(a,this,u,this.Ah?this.e.fe:this.mb.Sk()),a.Wf(),a.scale(l,l),a.tr(-this.Ef()),a.translate((this.Ud+this.Vd)/-2,(this.Wd+this.Td)/-2),a.$f();else a.Xf(0),a.Eh(u.Vc,u.Oc),u.Ye(a);this.Ah&&(d=this.$a.length?this.$a[0].Jc:0,g=this.$a.length?this.$a[0].index:0,0===this.$a.length||1===this.$a.length&&!a.hr(d)&&1===this.opacity?(1===
this.$a.length?(a.Xf(d),a.Uj(this.mb.Sk(),1/this.e.width,1/this.e.height,0,0,1,1,this.Fd(),this.Qb[g]),a.Nn(d)&&(this.e.jb=p)):a.Xf(0),a.Qg(this.mb.Sk()),a.Tj(this.opacity),a.Ne(this.e.fe),a.Eh(this.Vc,this.Oc),a.Wf(),a.$f(),b=this.e.width/2,c=this.e.height/2,a.On(-b,c,b,c,b,-c,-b,-c),a.Ne(r)):this.mb.qr(a,this,r,this.mb.Sk()))};b.prototype.Gc=function(a,b,c){var d=this.e.devicePixelRatio;this.e.Yk&&0<this.e.ae&&(a*=d,b*=d);var d=this.e.Od/2,g=this.e.Nd/2,d=(this.mb.scrollX-d)*this.oe+d,g=(this.mb.scrollY-
g)*this.pe+g,l=1/this.Fd(),d=d-this.e.width*l/2,g=g-this.e.height*l/2,d=d+a*l,g=g+b*l;b=this.Ef();0!==b&&(d-=this.mb.scrollX,g-=this.mb.scrollY,a=Math.cos(b),b=Math.sin(b),l=d*a-g*b,g=g*a+d*b,d=l+this.mb.scrollX,g+=this.mb.scrollY);return c?d:g};b.prototype.Kb=function(a,b,c){var d=this.Ef();if(0!==d){a-=this.mb.scrollX;b-=this.mb.scrollY;var g=Math.cos(-d),d=Math.sin(-d),l=a*g-b*d;b=b*g+a*d;a=l+this.mb.scrollX;b+=this.mb.scrollY}g=this.e.Od/2;d=this.e.Nd/2;g=(this.mb.scrollX-g)*this.oe+g;d=(this.mb.scrollY-
d)*this.pe+d;l=1/this.Fd();g-=this.e.width*l/2;d-=this.e.height*l/2;g=(a-g)/l;d=(b-d)/l;a=this.e.devicePixelRatio;this.e.Yk&&0<this.e.ae&&(g/=a,d/=a);return c?g:d};b.prototype.Qd=function(){var a,b,c,d={s:this.scale,a:this.L,vl:this.Ud,vt:this.Wd,vr:this.Vd,vb:this.Td,v:this.visible,bc:this.eh,t:this.Oi,px:this.oe,py:this.pe,o:this.opacity,zr:this.Xc,fx:[],instances:[]};a=0;for(b=this.za.length;a<b;a++)c=this.za[a],d.fx.push({name:c.name,active:c.we,params:this.Qb[c.index]});return d};b.prototype.Ce=
function(a){var b,d;this.scale=a.s;this.L=a.a;this.Ud=a.vl;this.Wd=a.vt;this.Vd=a.vr;this.Td=a.vb;this.visible=a.v;this.eh=a.bc;this.Oi=a.t;this.oe=a.px;this.pe=a.py;this.opacity=a.o;this.Xc=a.zr;var h=a.fx;a=0;for(b=h.length;a<b;a++)if(d=this.Jp(h[a].name))d.we=h[a].active,this.Qb[d.index]=h[a].params;this.Ug();this.F.sort(c);this.Xd=p};Ya=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return p;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return s;return p}}function b(a,b){return a.index-b.index}function c(c){var d,e,m,f;2===c.length?c[0].index>c[1].index&&(d=c[0],c[0]=c[1],c[1]=d):2<c.length&&c.sort(b);c.length>=t.length&&(t.length=c.length+1);t[c.length]||(t[c.length]=[]);f=t[c.length];d=0;for(e=f.length;d<e;d++)if(m=f[d],a(c,m))return m;f.push(c);return c}
function d(a,b){this.e=a;this.bw={};this.Zt={};this.Op=s;this.nu=new Ha;this.name=b[0];var c=b[1];this.kh=[];var d,e;d=0;for(e=c.length;d<e;d++)this.qu(c[d],r,this.kh)}function e(a){this.type=a;this.F=[];this.ub=[];this.Ob=p}function k(a,b,c){this.sheet=a;this.parent=b;this.e=a.e;this.cc=[];this.Fh=[];this.mu=this.ao=this.Vr=this.Up=this.group=this.Pv=s;this.ic=[];this.Ve=[];this.Pe=[];c[1]?(this.dn=c[1][1].toLowerCase(),this.group=p,this.Up=!!c[1][0],this.e.aj.push(this),this.e.Zo[this.dn.toLowerCase()]=
this.Up):(this.dn="",this.Up=this.group=s);this.Tf=c[2];this.Ja=c[3];this.group||(this.e.At[this.Ja.toString()]=this);var d=c[4];a=0;for(b=d.length;a<b;a++){var e=new $a(this,d[a]);this.ic.push(e);this.jt(e.type)}d=c[5];a=0;for(b=d.length;a<b;a++)e=new ab(this,d[a]),this.Ve.push(e);if(7===c.length){c=c[6];a=0;for(b=c.length;a<b;a++)this.sheet.qu(c[a],this,this.Pe)}this.ln=s;this.ic.length&&(this.ln=this.ic[0].type==r&&this.ic[0].kc==P.prototype.Y.Cw)}function f(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&
b.push(a),a.ee)){c=0;for(d=a.ud.length;c<d;c++)e=a.ud[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}}function h(a,b){this.xe=a;this.sheet=a.sheet;this.e=a.e;this.ka=[];this.Da=[];this.Aa={};this.kc=b[1];this.trigger=0<b[3];this.Yt=2===b[3];this.sD=b[4];this.mi=b[5];this.Wz=b[6];this.Ja=b[7];this.e.hj[this.Ja.toString()]=this;-1===b[0]?(this.type=r,this.rc=this.yr,this.zk=r,this.Fc=-1):(this.type=this.e.Z[b[0]],this.rc=this.Wz?this.$A:this.xr,b[2]?(this.zk=this.type.Vm(b[2]),this.Fc=this.type.Ip(b[2])):(this.zk=
r,this.Fc=-1),this.xe.parent&&this.xe.parent.Vn());this.Yt&&(this.rc=this.aB);if(9===b.length){var c,d,e=b[8];c=0;for(d=e.length;c<d;c++){var m=new bb(this,e[c]);this.ka.push(m)}this.Da.length=e.length}}function g(a,b){this.xe=a;this.sheet=a.sheet;this.e=a.e;this.ka=[];this.Da=[];this.Aa={};this.kc=b[1];-1===b[0]?(this.type=r,this.rc=this.yr,this.zk=r,this.Fc=-1):(this.type=this.e.Z[b[0]],this.rc=this.xr,b[2]?(this.zk=this.type.Vm(b[2]),this.Fc=this.type.Ip(b[2])):(this.zk=r,this.Fc=-1));this.Ja=
b[3];this.e.$i[this.Ja.toString()]=this;if(5===b.length){var c,d,e=b[4];c=0;for(d=e.length;c<d;c++){var m=new bb(this,e[c]);this.ka.push(m)}this.Da.length=e.length}}function l(a,b){this.oa=a;this.xe=a.xe;this.sheet=a.sheet;this.e=a.e;this.type=b[0];this.Cf=r;this.Jt=this.Gh=0;this.mb=r;this.key=0;this.object=r;this.index=0;this.lo=this.Xj=this.$t=this.fi=this.Ml=r;var c,d,e;switch(b[0]){case 0:case 7:this.Cf=new cb(this,b[1]);this.Gh=0;this.get=this.zz;break;case 1:this.Cf=new cb(this,b[1]);this.Gh=
0;this.get=this.Az;break;case 5:this.Cf=new cb(this,b[1]);this.Gh=0;this.get=this.Ez;break;case 3:case 8:this.Jt=b[1];this.get=this.xz;break;case 6:this.mb=this.e.qq[b[1]];this.get=this.Fz;break;case 9:this.key=b[1];this.get=this.Dz;break;case 4:this.object=this.e.Z[b[1]];this.get=this.Gz;this.xe.jt(this.object);this.oa instanceof ab?this.xe.Vn():this.xe.parent&&this.xe.parent.Vn();break;case 10:this.index=b[1];this.get=a.type.Oa?this.Bz:this.Cz;break;case 11:this.Ml=b[1];this.fi=r;this.get=this.yz;
break;case 2:case 12:this.$t=b[1];this.get=this.wz;break;case 13:this.get=this.Hz;this.Xj=[];this.lo=[];c=1;for(d=b.length;c<d;c++)e=new bb(this.oa,b[c]),this.Xj.push(e),this.lo.push(0)}}function m(a,b,c){this.sheet=a;this.parent=b;this.e=a.e;this.cc=[];this.name=c[1];this.Nl=c[2];this.Tp=c[3];this.$k=!!c[4];this.kn=!!c[5];this.Ja=c[6];this.e.$j[this.Ja.toString()]=this;this.data=this.Tp;this.parent?this.si=this.$k||this.kn?-1:this.e.hB++:(this.si=-1,this.e.Vx.push(this))}function q(a,b,c){this.sheet=
a;this.parent=b;this.e=a.e;this.cc=[];this.hn=r;this.Lz=c[1]}function u(){this.Sv=[];this.reset(r)}var t=[];d.prototype.toString=y("name");d.prototype.qu=function(a,b,c){switch(a[0]){case 0:a=new db(this,b,a);if(a.Tf){c.push(a);c=0;for(b=a.ic.length;c<b;c++)a.ic[c].trigger&&this.ru(a,c)}else a.yu()?this.ru(a,0):c.push(a);break;case 1:a=new Va(this,b,a);c.push(a);break;case 2:a=new eb(this,b,a),c.push(a)}};d.prototype.ac=function(){var a,b;a=0;for(b=this.kh.length;a<b;a++)this.kh[a].ac(a<b-1&&this.kh[a+
1].ln)};d.prototype.rc=function(){this.Op=p;this.e.Yp=p;var a,b;a=0;for(b=this.kh.length;a<b;a++){var c=this.kh[a];c.rc();this.e.kp(c.cc);(!this.e.yf.Xk()||this.e.xf.length)&&this.e.Lc()}this.e.Yp=s};d.prototype.ru=function(a,b){a.Tf||this.e.ho.push(a);var c,d,e=a.ic[b],m;m=e.type?e.type.name:"system";var f=(c=e.Yt)?this.Zt:this.bw;f[m]||(f[m]=[]);m=f[m];f=e.kc;if(c){if(e.ka.length&&(e=e.ka[0],!(1!==e.type||2!==e.Cf.type))){e=e.Cf.value.toLowerCase();c=0;for(d=m.length;c<d;c++)if(m[c].method==f){c=
m[c].Mm;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];m.push({method:f,Mm:c})}}else{c=0;for(d=m.length;c<d;c++)if(m[c].method==f){m[c].Mm.push([a,b]);return}m.push({method:f,Mm:[[a,b]]})}};Ta=d;e.prototype.Np=function(){return this.Ob?this.type.F.length:this.F.length};e.prototype.Gf=function(){return this.Ob?this.type.F:this.F};e.prototype.xl=function(a){a&&(a.e.be().Xe.Tf?(this.Ob&&(this.F.length=0,oa(this.ub,a.type.F),this.Ob=s),a=this.ub.indexOf(a),-1!==a&&(this.F.push(this.ub[a]),
this.ub.splice(a,1))):(this.Ob=s,this.F.length=1,this.F[0]=a))};Ra=e;k.prototype.ac=function(a){var b,d=this.parent;if(this.group)for(this.ao=p;d;){if(!d.group){this.ao=s;break}d=d.parent}this.Vr=!this.yu()&&(!this.parent||this.parent.group&&this.parent.ao);this.mu=!!a;this.Fh=this.cc.slice(0);for(d=this.parent;d;){a=0;for(b=d.cc.length;a<b;a++)this.Tx(d.cc[a]);d=d.parent}this.cc=c(this.cc);this.Fh=c(this.Fh);a=0;for(b=this.ic.length;a<b;a++)this.ic[a].ac();a=0;for(b=this.Ve.length;a<b;a++)this.Ve[a].ac();
a=0;for(b=this.Pe.length;a<b;a++)this.Pe[a].ac(a<b-1&&this.Pe[a+1].ln)};k.prototype.jt=function(a){f(a,this.cc)};k.prototype.Tx=function(a){f(a,this.Fh)};k.prototype.Vn=function(){this.Pv=p;this.parent&&this.parent.Vn()};k.prototype.yu=function(){return this.ic.length?this.ic[0].trigger:s};k.prototype.rc=function(){var a,b=s,c=this.e.be();c.Xe=this;this.ln||(c.xp=s);if(this.Tf){0===this.ic.length&&(b=p);c.td=0;for(a=this.ic.length;c.td<a;c.td++)this.ic[c.td].trigger||this.ic[c.td].rc()&&(b=p);(c.uj=
b)&&this.ur()}else{c.td=0;for(a=this.ic.length;c.td<a;c.td++)if(!this.ic[c.td].rc()){c.uj=s;this.Vr&&(!this.e.yf.Xk()||this.e.xf.length)&&this.e.Lc();return}c.uj=p;this.ur()}c.uj&&this.mu&&(c.xp=p);this.Vr&&(!this.e.yf.Xk()||this.e.xf.length)&&this.e.Lc()};k.prototype.YA=function(a){this.e.be().Xe=this;this.ic[a].rc()&&this.ur()};k.prototype.ur=function(){var a=this.e.be(),b;a.ve=0;for(b=this.Ve.length;a.ve<b;a.ve++)if(this.Ve[a.ve].rc())return;this.Dv()};k.prototype.VA=function(){var a=this.e.be(),
b;for(b=this.Ve.length;a.ve<b;a.ve++)if(this.Ve[a.ve].rc())return;this.Dv()};k.prototype.Dv=function(){if(this.Pe.length){var a,b,c,d,e=this.Pe.length-1;this.e.jr(this);if(this.Pv){a=0;for(b=this.Pe.length;a<b;a++)c=this.Pe[a],(d=!this.ao||!this.group&&a<e)&&this.e.ir(c.cc),c.rc(),d?this.e.Nj(c.cc):this.e.kp(c.cc)}else{a=0;for(b=this.Pe.length;a<b;a++)this.Pe[a].rc()}this.e.rv()}};k.prototype.ZA=function(){var a=this.e.be();a.Xe=this;var b=s,c;a.td=0;for(c=this.ic.length;a.td<c;a.td++)if(this.ic[a.td].rc())b=
p;else if(!this.Tf)return s;return this.Tf?b:p};db=k;h.prototype.ac=function(){var a,b;a=0;for(b=this.ka.length;a<b;a++)this.ka[a].ac()};h.prototype.aB=G(p);h.prototype.yr=function(){var a,b;a=0;for(b=this.ka.length;a<b;a++)this.Da[a]=this.ka[a].get();return Ba(this.kc.apply(this.e.Sg,this.Da),this.mi)};h.prototype.$A=function(){var a,b;a=0;for(b=this.ka.length;a<b;a++)this.Da[a]=this.ka[a].get();a=this.kc.apply(this.type,this.Da);this.type.bj();return a};h.prototype.xr=function(){var a,b,c,d,e,m,
f,h=this.type.lb(),g=this.xe.Tf&&!this.trigger,k=0,l=this.type.ee;if(h.Ob){h.F.length=0;a=h.ub.length=0;for(c=this.type.F.length;a<c;a++){m=this.type.F[a];b=0;for(d=this.ka.length;b<d;b++)this.Da[b]=this.ka[b].get(a);-1<this.Fc?(this.type.Oa&&(k=m.type.kj[this.type.Df]),b=this.kc.apply(m.Na[this.Fc+k],this.Da)):b=this.kc.apply(m,this.Da);(e=Ba(b,this.mi))?h.F.push(m):g&&h.ub.push(m)}this.type.finish&&this.type.finish(p);h.Ob=s;this.type.bj();return h.Np()}var q=0,t=g?h.ub:h.F;e=s;a=0;for(c=t.length;a<
c;a++){m=t[a];b=0;for(d=this.ka.length;b<d;b++)this.Da[b]=this.ka[b].get(a);-1<this.Fc?(this.type.Oa&&(k=m.type.kj[this.type.Df]),b=this.kc.apply(m.Na[this.Fc+k],this.Da)):b=this.kc.apply(m,this.Da);if(Ba(b,this.mi))if(e=p,g){if(h.F.push(m),l){b=0;for(d=m.siblings.length;b<d;b++)f=m.siblings[b],f.type.lb().F.push(f)}}else{t[q]=m;if(l){b=0;for(d=m.siblings.length;b<d;b++)f=m.siblings[b],f.type.lb().F[q]=f}q++}else if(g){t[q]=m;if(l){b=0;for(d=m.siblings.length;b<d;b++)f=m.siblings[b],f.type.lb().ub[q]=
f}q++}}t.length=q;if(l){a=0;for(c=this.type.ud.length;a<c;a++)m=this.type.ud[a].lb(),g?m.ub.length=q:m.F.length=q}k=e;if(g&&!e){a=0;for(c=h.F.length;a<c;a++){m=h.F[a];b=0;for(d=this.ka.length;b<d;b++)this.Da[b]=this.ka[b].get(a);b=-1<this.Fc?this.kc.apply(m.Na[this.Fc],this.Da):this.kc.apply(m,this.Da);if(Ba(b,this.mi)){e=p;break}}}this.type.finish&&this.type.finish(k||g);return g?e:h.Np()};$a=h;g.prototype.ac=function(){var a,b;a=0;for(b=this.ka.length;a<b;a++)this.ka[a].ac()};g.prototype.yr=function(){var a,
b;a=0;for(b=this.ka.length;a<b;a++)this.Da[a]=this.ka[a].get();return this.kc.apply(this.e.Sg,this.Da)};g.prototype.xr=function(){var a=this.type.lb().Gf(),b,c,d,e,m;b=0;for(d=a.length;b<d;b++){m=a[b];c=0;for(e=this.ka.length;c<e;c++)this.Da[c]=this.ka[c].get(b);-1<this.Fc?(c=0,this.type.Oa&&(c=m.type.kj[this.type.Df]),this.kc.apply(m.Na[this.Fc+c],this.Da)):this.kc.apply(m,this.Da)}return s};ab=g;var w=[],x=-1;l.prototype.ac=function(){var a,b;if(11===this.type)this.fi=this.e.gu(this.Ml,this.xe.parent);
else if(13===this.type){a=0;for(b=this.Xj.length;a<b;a++)this.Xj[a].ac()}this.Cf&&this.Cf.ac()};l.prototype.qc=function(){x++;w.length===x&&w.push(new fb);return w[x]};l.prototype.nc=function(){x--};l.prototype.zz=function(a){this.Gh=a||0;a=this.qc();this.Cf.get(a);this.nc();return a.data};l.prototype.Az=function(a){this.Gh=a||0;a=this.qc();this.Cf.get(a);this.nc();return L(a.data)?a.data:""};l.prototype.Gz=y("object");l.prototype.xz=y("Jt");l.prototype.Ez=function(a){this.Gh=a||0;a=this.qc();this.Cf.get(a);
this.nc();return a.Ac()?this.e.sg(a.data):this.e.Qk(a.data)};l.prototype.Fz=y("mb");l.prototype.Dz=y("key");l.prototype.Cz=y("index");l.prototype.Bz=function(a){var b=this.oa.type,c=r,c=b.lb(),d=c.Gf(),c=d.length?d[a%d.length].type:c.ub[a%c.ub.length].type;return this.index+c.Om[b.Df]};l.prototype.yz=y("fi");l.prototype.wz=y("$t");l.prototype.Hz=function(){var a,b;a=0;for(b=this.Xj.length;a<b;a++)this.lo[a]=this.Xj[a].get();return this.lo};bb=l;m.prototype.ac=function(){this.cc=c(this.cc)};m.prototype.Rg=
function(a){var b=this.e.fu();!this.parent||this.$k||!b?this.data=a:(this.si>=b.length&&(b.length=this.si+1),b[this.si]=a)};m.prototype.gi=function(){var a=this.e.fu();return!this.parent||this.$k||!a||this.kn?this.data:this.si>=a.length||"undefined"===typeof a[this.si]?this.Tp:a[this.si]};m.prototype.rc=function(){this.parent&&(!this.$k&&!this.kn)&&this.Rg(this.Tp)};Va=m;q.prototype.ac=function(){this.hn=this.e.zp[this.Lz];this.sheet.nu.add(this.hn);this.cc=c(this.cc)};q.prototype.rc=function(){this.parent&&
this.e.Bl(this.e.Z);this.hn.Op||this.hn.rc();this.parent&&this.e.Nj(this.e.Z)};eb=q;u.prototype.reset=function(a){this.Xe=a;this.ve=this.td=0;this.Sv.length=0;this.xp=this.uj=s};Ua=u})();
(function(){function a(a,b){this.oa=a;this.e=a.e;this.type=b[0];this.get=[this.Vy,this.Ry,this.cz,this.fz,this.Ly,this.dz,this.Zy,this.Oy,this.Yy,this.bz,this.My,this.az,this.Py,this.$y,this.Wy,this.Xy,this.Sy,this.Ty,this.Ny,this.ez,this.Wt,this.Uy,this.Wt,this.Qy][this.type];var e=r;this.Md=this.ka=this.Da=this.kc=this.$n=this.Cc=this.first=this.value=r;this.Fc=-1;this.tg=r;this.as=-1;this.fi=this.Ml=this.ky=r;this.Dl=s;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new cb(a,b[1]);break;case 18:this.first=new cb(a,b[1]);this.Cc=new cb(a,b[2]);this.$n=new cb(a,b[3]);break;case 19:this.kc=b[1];this.Da=[];this.ka=[];3===b.length?(e=b[2],this.Da.length=e.length+1):this.Da.length=1;break;case 20:this.Md=this.e.Z[b[1]];this.Fc=-1;this.kc=b[2];this.Dl=b[3];this.tg=b[4]?new cb(a,b[4]):r;this.Da=[];this.ka=[];6===b.length?(e=b[5],this.Da.length=e.length+1):this.Da.length=1;break;case 21:this.Md=this.e.Z[b[1]];this.Dl=b[2];this.tg=b[3]?new cb(a,b[3]):r;this.as=b[4];break;
case 22:this.Md=this.e.Z[b[1]];this.ky=this.Md.Vm(b[2]);this.Fc=this.Md.Ip(b[2]);this.kc=b[3];this.Dl=b[4];this.tg=b[5]?new cb(a,b[5]):r;this.Da=[];this.ka=[];7===b.length?(e=b[6],this.Da.length=e.length+1):this.Da.length=1;break;case 23:this.Ml=b[1],this.fi=r}4<=this.type&&17>=this.type&&(this.first=new cb(a,b[1]),this.Cc=new cb(a,b[2]));if(e){var k,f;k=0;for(f=e.length;k<f;k++)this.ka.push(new cb(a,e[k]))}}function b(a,b){this.type=a||gb.ok;this.data=b||0;this.Jj=r;this.type==gb.ok&&(this.data=
Math.floor(this.data))}a.prototype.ac=function(){23===this.type&&(this.fi=this.oa.e.gu(this.Ml,this.oa.xe.parent));this.first&&this.first.ac();this.Cc&&this.Cc.ac();this.$n&&this.$n.ac();this.tg&&this.tg.ac();if(this.ka){var a,b;a=0;for(b=this.ka.length;a<b;a++)this.ka[a].ac()}};a.prototype.ez=function(a){this.Da[0]=a;a=this.oa.qc();var b,e;b=0;for(e=this.ka.length;b<e;b++)this.ka[b].get(a),this.Da[b+1]=a.data;this.oa.nc();this.kc.apply(this.e.Sg,this.Da)};a.prototype.Wt=function(a){var b=this.Md.lb(),
e=b.Gf();if(!e.length)if(b.ub.length)e=b.ub;else{this.Dl?a.nf(""):a.Ab(0);return}this.Da[0]=a;a.Jj=this.Md;a=this.oa.qc();var k,b=0;for(k=this.ka.length;b<k;b++)this.ka[b].get(a),this.Da[b+1]=a.data;b=this.oa.Gh;this.tg&&(this.tg.get(a),a.Ac()&&(b=a.data,e=this.Md.F));this.oa.nc();b%=e.length;0>b&&(b+=e.length);e=e[b];-1<this.Fc?(a=0,this.Md.Oa&&(a=e.type.kj[this.Md.Df]),this.kc.apply(e.Na[this.Fc+a],this.Da)):this.kc.apply(e,this.Da)};a.prototype.Uy=function(a){var b=this.Md.lb(),e=b.Gf();if(!e.length)if(b.ub.length)e=
b.ub;else{this.Dl?a.nf(""):a.Ab(0);return}b=this.oa.Gh;if(this.tg){var k=this.oa.qc();this.tg.get(k);if(k.Ac()){b=k.data;e=this.Md.F;b%=e.length;0>b&&(b+=e.length);e=e[b].Pc[this.as];L(e)?a.nf(e):a.ea(e);this.oa.nc();return}this.oa.nc()}b%=e.length;0>b&&(b+=e.length);e=e[b];b=0;this.Md.Oa&&(b=e.type.Om[this.Md.Df]);e=e.Pc[this.as+b];L(e)?a.nf(e):a.ea(e)};a.prototype.Vy=function(a){a.type=gb.ok;a.data=this.value};a.prototype.Ry=function(a){a.type=gb.ik;a.data=this.value};a.prototype.cz=function(a){a.type=
gb.So;a.data=this.value};a.prototype.fz=function(a){this.first.get(a);a.Ac()&&(a.data=-a.data)};a.prototype.Ly=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ac()&&b.Ac()&&(a.data+=b.data,b.pj()&&a.Ij());this.oa.nc()};a.prototype.dz=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ac()&&b.Ac()&&(a.data-=b.data,b.pj()&&a.Ij());this.oa.nc()};a.prototype.Zy=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ac()&&b.Ac()&&(a.data*=b.data,b.pj()&&a.Ij());
this.oa.nc()};a.prototype.Oy=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ac()&&b.Ac()&&(a.data/=b.data,a.Ij());this.oa.nc()};a.prototype.Yy=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ac()&&b.Ac()&&(a.data%=b.data,b.pj()&&a.Ij());this.oa.nc()};a.prototype.bz=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ac()&&b.Ac()&&(a.data=Math.pow(a.data,b.data),b.pj()&&a.Ij());this.oa.nc()};a.prototype.My=function(a){this.first.get(a);var b=this.oa.qc();
this.Cc.get(b);a.Ac()?b.mn()?a.nf(a.data.toString()+b.data):a.data&&b.data?a.Ab(1):a.Ab(0):a.mn()&&(a.data=b.mn()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());this.oa.nc()};a.prototype.az=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ac()&&b.Ac()&&(a.data||b.data?a.Ab(1):a.Ab(0));this.oa.nc()};a.prototype.Ny=function(a){this.first.get(a);a.data?this.Cc.get(a):this.$n.get(a)};a.prototype.Py=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ab(a.data===
b.data?1:0);this.oa.nc()};a.prototype.$y=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ab(a.data!==b.data?1:0);this.oa.nc()};a.prototype.Wy=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ab(a.data<b.data?1:0);this.oa.nc()};a.prototype.Xy=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ab(a.data<=b.data?1:0);this.oa.nc()};a.prototype.Sy=function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ab(a.data>b.data?1:0);this.oa.nc()};a.prototype.Ty=
function(a){this.first.get(a);var b=this.oa.qc();this.Cc.get(b);a.Ab(a.data>=b.data?1:0);this.oa.nc()};a.prototype.Qy=function(a){var b=this.fi.gi();J(b)?a.ea(b):a.nf(b)};cb=a;b.prototype.pj=function(){return this.type===gb.ik};b.prototype.Ac=function(){return this.type===gb.ok||this.type===gb.ik};b.prototype.mn=function(){return this.type===gb.So};b.prototype.Ij=function(){this.pj()||(this.mn()&&(this.data=parseFloat(this.data)),this.type=gb.ik)};b.prototype.Ab=function(a){this.type=gb.ok;this.data=
Math.floor(a)};b.prototype.ea=function(a){this.type=gb.ik;this.data=a};b.prototype.nf=function(a){this.type=gb.So;this.data=a};fb=b;gb={ok:0,ik:1,So:2}})();function P(a){this.e=a;this.se=[]}
P.prototype.Qd=function(){var a={},b,c,d,e,k,f,h,g;a.waits=[];var l=a.waits,m;b=0;for(c=this.se.length;b<c;b++){f=this.se[b];m={t:f.time,ev:f.Kk.Ja,sm:[],sols:{}};f.Kk.Ve[f.ve]&&(m.act=f.Kk.Ve[f.ve].Ja);d=0;for(e=f.cc.length;d<e;d++)m.sm.push(f.cc[d].Ja);for(k in f.Rd)if(f.Rd.hasOwnProperty(k)){h=this.e.Z[parseInt(k,10)];g={sa:f.Rd[k].Iv,insts:[]};d=0;for(e=f.Rd[k].li.length;d<e;d++)g.insts.push(f.Rd[k].li[d].uid);m.sols[h.Ja.toString()]=g}l.push(m)}return a};
P.prototype.Ce=function(a){a=a.waits;var b,c,d,e,k,f,h,g,l,m,q;b=this.se.length=0;for(c=a.length;b<c;b++)if(f=a[b],g=this.e.At[f.ev.toString()]){l=-1;d=0;for(e=g.Ve.length;d<e;d++)if(g.Ve[d].Ja===f.act){l=d;break}if(-1!==l){h={Rd:{},cc:[],St:s};h.time=f.t;h.Kk=g;h.ve=l;d=0;for(e=f.sm.length;d<e;d++)(g=this.e.an(f.sm[d]))&&h.cc.push(g);for(k in f.sols)if(f.sols.hasOwnProperty(k)&&(g=this.e.an(parseInt(k,10)))){l=f.sols[k];m={Iv:l.sa,li:[]};d=0;for(e=l.insts.length;d<e;d++)(q=this.e.Rk(l.insts[d]))&&
m.li.push(q);h.Rd[g.index.toString()]=m}this.se.push(h)}}};
(function(){function a(){}function b(){}function c(){}var d=P.prototype;a.prototype.to=G(p);a.prototype.Yw=G(p);a.prototype.Xw=G(p);a.prototype.Qs=function(a,b){if(!a)return s;var c=a.lb(),d=c.Gf();b=ia(b);if(0>b||b>=d.length)return s;c.xl(d[b]);a.bj();return p};a.prototype.ms=function(a,b,c){return Lb(a.gi(),b,c)};a.prototype.Cw=function(){var a=this.e.be();return a.xp?s:!a.uj};a.prototype.Is=G(p);a.prototype.Vw=G(p);a.prototype.Ho=G(p);a.prototype.Zw=G(p);a.prototype.Go=G(p);d.Y=new a;b.prototype.Yl=
function(a,b,c,d){if(b&&a&&(b=this.e.Nt(a,b,c,d))){this.e.$e++;var e;this.e.trigger(Object.getPrototypeOf(a.$b).Y.Eo,b);if(b.ee){c=0;for(d=b.siblings.length;c<d;c++)e=b.siblings[c],this.e.trigger(Object.getPrototypeOf(e.type.$b).Y.Eo,e)}this.e.$e--;a=a.lb();a.Ob=s;a.F.length=1;a.F[0]=b;if(b.ee){c=0;for(d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.lb(),a.Ob=s,a.F.length=1,a.F[0]=e}}};b.prototype.$s=function(a,b){0===a.Nl?J(b)?a.Rg(b):a.Rg(parseFloat(b)):1===a.Nl&&a.Rg(b.toString())};b.prototype.no=
function(a,b){0===a.Nl?J(b)?a.Rg(a.gi()+b):a.Rg(a.gi()+parseFloat(b)):1===a.Nl&&a.Rg(a.gi()+b.toString())};b.prototype.wx=function(a,b){0===a.Nl&&(J(b)?a.Rg(a.gi()-b):a.Rg(a.gi()-parseFloat(b)))};var e=[],k=[];d.Ha=new b;c.prototype["int"]=function(a,b){L(b)?(a.Ab(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Ab(b)};c.prototype["float"]=function(a,b){L(b)?(a.ea(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ea(b)};c.prototype.random=function(a,b,c){c===n?a.ea(Math.random()*b):a.ea(Math.random()*(c-b)+
b)};c.prototype.sqrt=function(a,b){a.ea(Math.sqrt(b))};c.prototype.abs=function(a,b){a.ea(Math.abs(b))};c.prototype.round=function(a,b){a.Ab(Math.round(b))};c.prototype.floor=function(a,b){a.Ab(Math.floor(b))};c.prototype.ceil=function(a,b){a.Ab(Math.ceil(b))};c.prototype.sin=function(a,b){a.ea(Math.sin(M(b)))};c.prototype.cos=function(a,b){a.ea(Math.cos(M(b)))};c.prototype.tan=function(a,b){a.ea(Math.tan(M(b)))};c.prototype.asin=function(a,b){a.ea(ra(Math.asin(b)))};c.prototype.acos=function(a,b){a.ea(ra(Math.acos(b)))};
c.prototype.max=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b<arguments[c]&&(b=arguments[c]);a.ea(b)};c.prototype.min=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b>arguments[c]&&(b=arguments[c]);a.ea(b)};c.prototype.Ca=function(a){a.ea(this.e.Ca)};c.prototype.Kh=function(a){a.ea(this.e.Kh)};c.prototype.time=function(a){a.ea(this.e.tj.Jh)};c.prototype.Sd=function(a){a.Ab(this.e.Sd)};c.prototype.Ln=function(a){a.Ab(this.e.Ln)};c.prototype.Gp=function(a){a.Ab(this.e.Gp)};
c.prototype.Bf=function(a,b,c,d,e){a.ea(Aa(b,c,d,e))};c.prototype.L=function(a,b,c,d,e){a.ea(ra(wa(b,c,d,e)))};c.prototype.left=function(a,b,c){a.nf(L(b)?b.substr(0,c):"")};c.prototype.right=function(a,b,c){a.nf(L(b)?b.substr(b.length-c):"")};c.prototype.replace=function(a,b,c,d){L(b)&&L(c)&&L(d)?a.nf(b.replace(RegExp(La(c),"gi"),d)):a.nf(L(b)?b:"")};c.prototype.pp=function(a){a.ea(this.e.pp/1E3)};c.prototype.wn=function(a){a.ea(this.e.wn)};d.ib=new c;d.XA=function(){var a,b,c,d,m,q,u=this.e.be();
a=0;for(c=this.se.length;a<c;a++)if(d=this.se[a],!(d.time>this.e.tj.Jh)){u.Xe=d.Kk;u.ve=d.ve;u.td=0;for(b in d.Rd)d.Rd.hasOwnProperty(b)&&(m=this.e.Z[parseInt(b,10)].lb(),q=d.Rd[b],m.Ob=q.Iv,oa(m.F,q.li),m=q,m.li.length=0,k.push(m));d.Kk.VA();this.e.kp(d.cc);d.St=p}b=a=0;for(c=this.se.length;a<c;a++)d=this.se[a],this.se[b]=d,d.St?(Fa(d.Rd),d.cc.length=0,e.push(d)):b++;this.se.length=b}})();
function qb(a){var b=a[0].prototype,c=a[1],d=a[3],e=a[4],k=a[5],f=a[6],h=a[7];a=a[8];b.Y||(b.Y={});b.Ha||(b.Ha={});b.ib||(b.ib={});var g=b.Y,l=b.Ha,b=b.ib;d&&(g.IB=function(a,b){return Lb(this.x,a,b)},g.JB=function(a,b){return Lb(this.y,a,b)},g.VB=function(){var a=this.S;this.tc();var b=this.Ma;return!(b.right<a.Ud||b.bottom<a.Wd||b.left>a.Vd||b.top>a.Td)},g.WB=function(){this.tc();var a=this.Ma,b=this.e.gb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},g.kC=function(a,b,c){var d=this.lb(),
e=d.Gf();if(!e.length)return s;var f=e[0],h=f,g=Aa(f.x,f.y,b,c),k,l,O;k=1;for(l=e.length;k<l;k++)if(f=e[k],O=Aa(f.x,f.y,b,c),0===a&&O<g||1===a&&O>g)g=O,h=f;d.xl(h);return p},l.AC=function(a){this.x!==a&&(this.x=a,this.Wa())},l.BC=function(a){this.y!==a&&(this.y=a,this.Wa())},l.mx=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Wa()},l.nx=function(a,b){var c=a.rz(this);if(c){var d;c.Ff?(d=c.Ff(b,p),c=c.Ff(b,s)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Wa()}},l.cC=
function(a){0!==a&&(this.x+=Math.cos(this.L)*a,this.y+=Math.sin(this.L)*a,this.Wa())},l.bC=function(a,b){0!==b&&(this.x+=Math.cos(M(a))*b,this.y+=Math.sin(M(a))*b,this.Wa())},b.tf=function(a){a.ea(this.x)},b.uf=function(a){a.ea(this.y)},b.Ca=function(a){a.ea(this.e.Wm(this))});e&&(g.HB=function(a,b){return Lb(this.width,a,b)},g.DB=function(a,b){return Lb(this.height,a,b)},l.at=function(a){this.width!==a&&(this.width=a,this.Wa())},l.wC=function(a){this.height!==a&&(this.height=a,this.Wa())},l.zC=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Wa()},b.HC=function(a){a.ea(this.width)},b.OB=function(a){a.ea(this.height)},b.AB=function(a){this.tc();a.ea(this.Ma.left)},b.CB=function(a){this.tc();a.ea(this.Ma.top)},b.BB=function(a){this.tc();a.ea(this.Ma.right)},b.zB=function(a){this.tc();a.ea(this.Ma.bottom)});k&&(g.yB=function(a,b){return xa(this.L,M(b))<=M(a)},g.TB=function(a){return za(this.L,M(a))},g.RB=function(a,b){var c=va(a),d=va(b),e=ta(this.L);return za(d,c)?za(e,
c)&&!za(e,d):!(!za(e,c)&&za(e,d))},l.mm=function(a){a=M(sa(a));!isNaN(a)&&this.L!==a&&(this.L=a,this.Wa())},l.pC=function(a){0!==a&&!isNaN(a)&&(this.L+=M(a),this.L=ta(this.L),this.Wa())},l.qC=function(a){0!==a&&!isNaN(a)&&(this.L-=M(a),this.L=ta(this.L),this.Wa())},l.rC=function(a,b){var c=ya(this.L,M(b),M(a));!isNaN(c)&&this.L!==c&&(this.L=c,this.Wa())},l.sC=function(a,b,c){a=ya(this.L,Math.atan2(c-this.y,b-this.x),M(a));!isNaN(a)&&this.L!==a&&(this.L=a,this.Wa())},l.Zs=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);!isNaN(c)&&this.L!==c&&(this.L=c,this.Wa())},b.xB=function(a){a.ea(ua(this.L))});c||(g.EB=function(a,b,c){return Lb(this.Pc[a],b,c)},g.SB=function(a){return this.Pc[a]},g.jC=function(a){var b,c,d,e,f;if(this.e.eu().mi){f=this.lb();if(f.Ob){f.Ob=s;f.F.length=0;f.ub.length=0;d=this.F;b=0;for(c=d.length;b<c;b++)e=d[b],e.uid===a?f.ub.push(e):f.F.push(e)}else{d=b=0;for(c=f.F.length;b<c;b++)e=f.F[b],f.F[d]=e,e.uid===a?f.ub.push(e):d++;f.F.length=d}return!!f.F.length}e=this.e.Rk(a);if(!e)return s;
if(this.Oa){a=e.type.wb;b=0;for(c=a.length;b<c;b++)if(a[b]===this)return f=this.lb(),f.xl(e),p}else if(e.type===this)return f=this.lb(),f.xl(e),p;return s},g.Eo=G(p),g.Ww=G(p),l.xC=function(a,b){var c=this.Pc;J(c[a])?c[a]=J(b)?b:parseFloat(b):L(c[a])&&(c[a]=L(b)?b:b.toString())},l.ow=function(a,b){var c=this.Pc;J(c[a])?c[a]=J(b)?c[a]+b:c[a]+parseFloat(b):L(c[a])&&(c[a]=L(b)?c[a]+b:c[a]+b.toString())},l.CC=function(a,b){var c=this.Pc;J(c[a])&&(c[a]=J(b)?c[a]-b:c[a]-parseFloat(b))},l.tC=function(a,
b){this.Pc[a]=b?1:0},l.EC=function(a){this.Pc[a]=1-this.Pc[a]},l.rd=function(){this.e.Ui(this)},b.MB=function(a){var b=a.Jj.F.length,c,d,e;c=0;for(d=this.e.xf.length;c<d;c++)e=this.e.xf[c],a.Jj.Oa?0<=e.type.wb.indexOf(a.Jj)&&b++:e.type===a.Jj&&b++;a.Ab(b)},b.mC=function(a){a.Ab(a.Jj.lb().Gf().length)},b.FC=function(a){a.Ab(this.uid)},b.QB=function(a){a.Ab(this.Tk())});f&&(g.YB=y("visible"),l.Po=function(a){!a!==!this.visible&&(this.visible=a,this.e.jb=p)},g.GB=function(a,b){return Lb(Pa(100*this.opacity),
a,b)},l.yC=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.e.jb=p)},b.Opacity=function(a){a.ea(Pa(100*this.opacity))});h&&(g.UB=function(a){return!a?s:this.S===a},g.lC=function(a){var b=this.lb(),c=b.Gf();if(!c.length)return s;var d=c[0],e=d,f,h;f=1;for(h=c.length;f<h;f++)if(d=c[f],0===a){if(d.S.index>e.S.index||d.S.index===e.S.index&&d.de()>e.de())e=d}else if(d.S.index<e.S.index||d.S.index===e.S.index&&d.de()<e.de())e=d;b.xl(e);return p},l.fC=function(){var a=this.de();
a!==this.S.F.length-1&&(na(this.S.F,a),this.S.F.push(this),this.e.jb=p,this.S.Xd=p)},l.dC=function(){var a=this.de();0!==a&&(na(this.S.F,a),this.S.F.unshift(this),this.e.jb=p,this.S.Xd=p)},l.eC=function(a){a&&a!=this.S&&(na(this.S.F,this.de()),this.S.Xd=p,this.S=a,this.Qi=a.F.length,a.F.push(this),this.e.jb=p)},l.JC=function(a,b){var c=0===a;if(b){var d=b.hu(this);if(d&&d.uid!==this.uid){this.S.index!==d.S.index&&(na(this.S.F,this.de()),this.S.Xd=p,this.S=d.S,this.Qi=d.S.F.length,d.S.F.push(this));
var e=this.de(),d=d.de();na(this.S.F,e);e<d&&d--;c&&d++;d===this.S.F.length?this.S.F.push(this):this.S.F.splice(d,0,this);this.S.Xd=p;this.e.jb=p}}},b.$B=function(a){a.Ab(this.S.iv)},b.ZB=function(a){a.nf(this.S.name)},b.IC=function(a){a.Ab(this.de())});a&&(l.uC=function(a,b){if(this.e.ua){var c=this.type.Kp(b);if(!(0>c)){var d=1===a;this.bh[c]!==d&&(this.bh[c]=d,this.Ug(),this.e.jb=p)}}},l.vC=function(a,b,c){if(this.e.ua){var d=this.type.Kp(a);0>d||(a=this.type.za[d],d=this.Qb[d],b=Math.floor(b),
0>b||b>=d.length||(1===this.e.ua.uz(a.Jc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.we&&(this.e.jb=p))))}})}function Fb(){this.gp=p;this.e.jb=p;var a,b;a=0;for(b=this.vm.length;a<b;a++)this.vm[a](this)}function Gb(a){a&&this.vm.push(a)}
function Ib(){if(this.gp){this.Ma.set(this.x,this.y,this.x+this.width,this.y+this.height);this.Ma.offset(-this.Hd*this.width,-this.Id*this.height);this.L?(this.Ma.offset(-this.x,-this.y),this.sb.Mv(this.Ma,this.L),this.sb.offset(this.x,this.y),this.sb.Ct(this.Ma)):this.sb.Fr(this.Ma);var a=0;this.Ma.left>this.Ma.right&&(a=this.Ma.left,this.Ma.left=this.Ma.right,this.Ma.right=a);this.Ma.top>this.Ma.bottom&&(a=this.Ma.top,this.Ma.top=this.Ma.bottom,this.Ma.bottom=a);this.gp=s}}
function Hb(a,b){return!this.Ma.ye(a,b)||!this.sb.ye(a,b)?s:this.ab&&!this.ab.oj()?(this.ab.gj(this.width,this.height,this.L),this.ab.ye(a-this.x,b-this.y)):p}function Db(){this.type.io();return this.Uk}function Jb(){this.S.pB();return this.Qi}function Kb(){this.$a.length=0;var a,b;a=0;for(b=this.bh.length;a<b;a++)this.bh[a]&&this.$a.push(this.type.za[a]);this.jw=!!this.$a.length}function Eb(){return"Inst"+this.yv}
function sb(a){if(a&&a.ee&&a.type!=this){var b,c,d;b=0;for(c=a.siblings.length;b<c;b++)if(d=a.siblings[b],d.type==this)return d}a=this.lb().Gf();return a.length?a[0]:r}function tb(a){var b=this.lb().Gf();return b.length?b[a.Tk()%b.length]:r}function rb(){if(this.Ih&&!this.Oa){var a,b;a=0;for(b=this.F.length;a<b;a++)this.F[a].Uk=a;this.Ih=s}}function ub(){return this.Hh[this.og]}function vb(){this.og++;this.og===this.Hh.length?this.Hh.push(new Ra(this)):this.Hh[this.og].Ob=p}
function wb(){this.og++;this.og===this.Hh.length&&this.Hh.push(new Ra(this));var a=this.Hh[this.og],b=this.Hh[this.og-1];b.Ob?a.Ob=p:(a.Ob=s,oa(a.F,b.F))}function xb(){this.og--}function yb(a){var b,c,d,e,k,f=0;if(!this.Oa){b=0;for(c=this.wb.length;b<c;b++){k=this.wb[b];d=0;for(e=k.Jb.length;d<e;d++){if(a===k.Jb[d].name)return this.Aa.Bu=f,k.Jb[d];f++}}}b=0;for(c=this.Jb.length;b<c;b++){if(a===this.Jb[b].name)return this.Aa.Bu=f,this.Jb[b];f++}return r}
function zb(a){return this.Vm(a)?this.Aa.Bu:-1}function Ab(a){var b,c;b=0;for(c=this.za.length;b<c;b++)if(this.za[b].name===a)return b;return-1}
function Bb(){if(this.ee&&!this.Oa){var a,b,c,d,e,k,f;this.io();k=this.lb();var h=k.Ob,g=(a=this.e.be())&&a.Xe&&a.Xe.Tf;a=0;for(b=this.ud.length;a<b;a++)if(e=this.ud[a],e!==this&&(e.io(),f=e.lb(),f.Ob=h,!h)){f.F.length=k.F.length;c=0;for(d=k.F.length;c<d;c++)f.F[c]=e.F[k.F[c].Uk];if(g){f.ub.length=k.ub.length;c=0;for(d=k.ub.length;c<d;c++)f.ub[c]=e.F[k.ub[c].Uk]}}}}function Cb(){return"Type"+this.Ja}
function Lb(a,b,c){if("undefined"===typeof a||"undefined"===typeof c)return s;switch(b){case 0:return a===c;case 1:return a!==c;case 2:return a<c;case 3:return a<=c;case 4:return a>c;case 5:return a>=c;default:return s}}var ob={};function Mb(a){this.e=a}
(function(){function a(){this.name="";this.WA=0;this.Pd=[]}function b(){}function c(){}var d=Mb.prototype;d.Nc=function(a){this.$b=a;this.e=a.e};d.Nc.prototype.ob=v();d.oc=function(a){this.type=a;this.e=a.e};var e=[],k=-1;d.oc.prototype.ob=v();b.prototype.Fo=function(a){var b=0>k?r:e[k];return!b?s:a.toLowerCase()===b.name};d.Y=new b;c.prototype.CallFunction=function(b,c){var d;k++;k===e.length&&e.push(new a);d=e[k];d.name=b.toLowerCase();d.WA=0;oa(d.Pd,c);this.e.trigger(Mb.prototype.Y.Fo,this,d.name);
k--};d.Ha=new c;d.ib=new (v())})();function Nb(a){this.e=a}
(function(){function a(){}function b(){}var c=Nb.prototype;c.Nc=function(a){this.$b=a;this.e=a.e};c.Nc.prototype.ob=v();c.oc=function(a){this.type=a;this.e=a.e;this.hp=Array(4);this.$v=this.eo=this.Yj=this.Lg=this.Kg=0;this.Mp=s};var d=c.oc.prototype;d.ob=function(){var a=this;if(!this.e.Qc){jQuery(document).mousemove(function(b){a.Zq(b)});jQuery(document).mousedown(function(b){a.Yq(b)});jQuery(document).mouseup(function(b){a.$q(b)});jQuery(document).dblclick(function(b){a.EA(b)});var b=function(b){a.LA(b)};
document.addEventListener("mousewheel",b,s);document.addEventListener("DOMMouseScroll",b,s)}};var e={left:0,top:0};d.Zq=function(a){var b=this.e.Qc?e:jQuery(this.e.canvas).offset();this.Kg=a.pageX-b.left;this.Lg=a.pageY-b.top};d.av=function(){return 0<this.e.ae?p:0<=this.Kg&&0<=this.Lg&&this.Kg<this.e.width&&this.Lg<this.e.height};d.Yq=function(a){this.av()&&(this.e.ii&&a.preventDefault(),this.hp[a.which]=p,this.e.trigger(Nb.prototype.Y.Tw,this),this.Yj=a.which-1,this.eo=0,this.e.trigger(Nb.prototype.Y.Hs,
this),this.e.trigger(Nb.prototype.Y.Ls,this))};d.$q=function(a){this.hp[a.which]&&(this.e.ii&&a.preventDefault(),this.e.ii=p,this.hp[a.which]=s,this.Yj=a.which-1,this.e.trigger(Nb.prototype.Y.Ms,this))};d.EA=function(a){this.av()&&(a.preventDefault(),this.Yj=a.which-1,this.eo=1,this.e.trigger(Nb.prototype.Y.Hs,this),this.e.trigger(Nb.prototype.Y.Ls,this))};d.LA=function(a){this.$v=0>(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0)?0:1;this.Mp=s;this.e.trigger(Nb.prototype.Y.$w,this);this.Mp&&a.preventDefault()};
a.prototype.Hs=function(a,b){return a===this.Yj&&b===this.eo};a.prototype.Tw=G(p);a.prototype.Ms=function(a){return a===this.Yj};a.prototype.Nw=function(a){var b=this.e.eu();ca(b.Aa.bv)&&(b.Aa.bv=b.mi,b.mi=s);return this.e.Qr(a,this.Kg,this.Lg,b.Aa.bv)};a.prototype.Ls=function(a,b,c){return a!==this.Yj||b!==this.eo?s:this.e.Qr(c,this.Kg,this.Lg,s)};a.prototype.$w=function(a){this.Mp=p;return a===this.$v};c.Y=new a;c.Ha=new (v());b.prototype.tf=function(a,b){var c,d,e,m,q;ca(b)?(c=this.e.sg(0),d=c.scale,
e=c.Xc,m=c.oe,q=c.L,c.scale=this.e.gb.scale,c.Xc=1,c.oe=1,c.L=this.e.gb.L,a.ea(c.Gc(this.Kg,this.Lg,p)),c.scale=d,c.Xc=e,c.oe=m,c.L=q):(c=J(b)?this.e.sg(b):this.e.Qk(b))?a.ea(c.Gc(this.Kg,this.Lg,p)):a.ea(0)};b.prototype.uf=function(a,b){var c,d,e,m,q;ca(b)?(c=this.e.sg(0),d=c.scale,e=c.Xc,m=c.pe,q=c.L,c.scale=this.e.gb.scale,c.Xc=1,c.pe=1,c.L=this.e.gb.L,a.ea(c.Gc(this.Kg,this.Lg,s)),c.scale=d,c.Xc=e,c.pe=m,c.L=q):(c=J(b)?this.e.sg(b):this.e.Qk(b))?a.ea(c.Gc(this.Kg,this.Lg,s)):a.ea(0)};c.ib=new b})();
function Q(a){this.e=a}
(function(){function a(){if(0===this.vp.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Vj?b.drawImage(this.pb,this.Lj,this.Mj,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.pb,0,0,this.width,this.height);this.vp=a.toDataURL("image/png")}return this.vp}function b(){}function c(){}var d=Q.prototype;d.Nc=function(a){this.$b=a;this.e=a.e};var e=d.Nc.prototype;e.ob=function(){if(!this.Oa){var b,c,d,e,f,h,g,k,l;b=
0;for(c=this.Xb.length;b<c;b++){f=this.Xb[b];g={};g.name=f[0];g.speed=f[1];g.loop=f[2];g.rr=f[3];g.Qn=f[4];g.pv=f[5];g.Ja=f[6];g.frames=[];d=0;for(e=f[7].length;d<e;d++)h=f[7][d],k={},k.Wv=h[0],k.Xv=h[1],k.Lj=h[2],k.Mj=h[3],k.width=h[4],k.height=h[5],k.duration=h[6],k.Hd=h[7],k.Id=h[8],k.Qp=h[9],k.Mn=h[10],k.qv=h[11],k.Vj=0!==k.width,k.vp="",k.lD=a,l={left:0,top:0,right:1,bottom:1},k.Hr=l,k.Wg=r,(l=this.e.jz(h[0]))?k.pb=l:(k.pb=new Image,k.pb.src=h[0],k.pb.ny=h[0],k.pb.my=h[1],k.pb.kg=r,this.e.Nh.push(k.pb)),
g.frames.push(k);this.Xb[b]=g}}};e.PD=function(){var a,b,c;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],c.Gk=c.$d.Wg};e.Xq=function(){if(!this.Oa){var a,b,c,d,e,f;a=0;for(b=this.Xb.length;a<b;a++){e=this.Xb[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.pb.kg=r,f.Wg=r}}};e.lv=function(){if(!this.Oa&&this.F.length){var a,b,c,d,e,f;a=0;for(b=this.Xb.length;a<b;a++){e=this.Xb[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.pb.kg||(f.pb.kg=this.e.ua.Ju(f.pb,this.e.lc,f.qv)),f.Wg=f.pb.kg}a=0;
for(b=this.F.length;a<b;a++)c=this.F[a],c.Gk=c.$d.Wg}};var k=[];e.fw=function(){if(!this.Oa&&!this.F.length){var a=!!this.e.ua,b,c,d,e,f,h,g,l;b=k.length=0;for(c=this.Xb.length;b<c;b++){h=this.Xb[b];d=0;for(e=h.frames.length;d<e;d++)if(g=h.frames[d],l=a?g.pb.kg:g.pb)f=k.indexOf(l),-1===f&&k.push(l),g.pb.kg=r,g.Wg=r}b=0;for(c=k.length;b<c;b++)l=k[b],a?this.e.ua.deleteTexture(l):l.hintUnload&&l.hintUnload();k.length=0}};var f=[];e.uv=function(a){var b,c,d,e,h,g;b=f.length=0;for(c=this.Xb.length;b<c;b++){h=
this.Xb[b];d=0;for(e=h.frames.length;d<e;d++)g=h.frames[d].pb,-1===f.indexOf(g)&&(a.drawImage(g,0,0),f.push(g))}};d.oc=function(a){this.type=a;this.e=a.e;a=this.type.Xb[0].frames[0].Mn;this.Me?this.ab.El(a):this.ab=new Ma(a)};var h=d.oc.prototype;h.ob=function(){this.visible=0===this.Sa[0];this.Sp=this.Zp=s;this.gh=0!==this.Sa[3];!(1===this.type.Xb.length&&1===this.type.Xb[0].frames.length)&&0!==this.type.Xb[0].speed&&(this.e.Tr(this),this.Zp=p);this.tb=this.du(this.Sa[1])||this.type.Xb[0];this.ba=
this.Sa[2];0>this.ba&&(this.ba=0);this.ba>=this.tb.frames.length&&(this.ba=this.tb.frames.length-1);var a=this.tb.frames[this.ba];this.ab.El(a.Mn);this.Hd=a.Hd;this.Id=a.Id;this.Hk=this.tb.speed;this.qg=this.$m();this.Xh=p;this.hg=0;this.Wh=p;this.Bm=this.mt="";this.Gt=0;this.ip=-1;var b,c,d,e,f,h,g,a=0;for(b=this.type.Xb.length;a<b;a++){e=this.type.Xb[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.pb.hintLoad&&f.pb.hintLoad(),0===f.width&&(f.width=f.pb.width,f.height=f.pb.height),f.Vj&&(g=
f.pb,h=f.Hr,h.left=f.Lj/g.width,h.top=f.Mj/g.height,h.right=(f.Lj+f.width)/g.width,h.bottom=(f.Mj+f.height)/g.height,0===f.Lj&&(0===f.Mj&&f.width===g.width&&f.height===g.height)&&(f.Vj=s)),this.e.ua&&(f.pb.kg||(f.pb.kg=this.e.ua.Ju(f.pb,this.e.lc,f.qv)),f.Wg=f.pb.kg)}this.$d=this.tb.frames[this.ba];this.Gk=this.$d.Wg};h.Qd=function(){var a={a:this.tb.Ja,f:this.ba,cas:this.Hk,fs:this.qg,ar:this.hg};this.Xh||(a.ap=this.Xh);this.Wh||(a.af=this.Wh);return a};h.Ce=function(a){var b=this.lz(a.a);b&&(this.tb=
b);this.ba=a.f;0>this.ba&&(this.ba=0);this.ba>=this.tb.frames.length&&(this.ba=this.tb.frames.length-1);this.Hk=a.cas;this.qg=a.fs;this.hg=a.ar;this.Xh=a.hasOwnProperty("ap")?a.ap:p;this.Wh=a.hasOwnProperty("af")?a.af:p;this.$d=this.tb.frames[this.ba];this.Gk=this.$d.Wg;this.ab.El(this.$d.Mn);this.Hd=this.$d.Hd;this.Id=this.$d.Id};h.bp=function(a){this.ba=a?0:this.tb.frames.length-1;this.Xh=s;this.mt=this.tb.name;this.Sp=p;this.e.trigger(Q.prototype.Y.Sw,this);this.e.trigger(Q.prototype.Y.Rw,this);
this.Sp=s;this.hg=0};h.$m=function(){return(Date.now()-this.e.Gl)/1E3};h.Zf=function(){this.Bm.length&&this.Tt();0<=this.ip&&this.ty();var a=this.$m(),b=this.tb,c=b.frames[this.ba],d=c.duration/this.Hk,e=this.e.Kh;-1!==this.Hi&&(e=this.Hi);d/=0===e?1E-9:e;if(this.Xh&&a>=this.qg+d){this.Wh?this.ba++:this.ba--;this.qg+=d;this.ba>=b.frames.length&&(b.pv?(this.Wh=s,this.ba=b.frames.length-2):b.loop?this.ba=b.Qn:(this.hg++,this.hg>=b.rr?this.bp(s):this.ba=b.Qn));0>this.ba&&(b.pv?(this.ba=1,this.Wh=p,b.loop||
(this.hg++,this.hg>=b.rr&&this.bp(p))):b.loop?this.ba=b.Qn:(this.hg++,this.hg>=b.rr?this.bp(p):this.ba=b.Qn));0>this.ba?this.ba=0:this.ba>=b.frames.length&&(this.ba=b.frames.length-1);if(a>this.qg+b.frames[this.ba].duration/this.Hk/(0===e?1E-9:e))this.qg=a;a=b.frames[this.ba];this.sk(c,a);this.e.jb=p}};h.du=function(a){var b,c,d=a.toLowerCase();a=0;for(b=this.type.Xb.length;a<b;a++)if(c=this.type.Xb[a],c.name.toLowerCase()===d)return c;return r};h.lz=function(a){var b,c,d;b=0;for(c=this.type.Xb.length;b<
c;b++)if(d=this.type.Xb[b],d.Ja===a)return d;return r};h.Tt=function(){var a=this.tb.frames[this.ba],b=this.du(this.Bm);this.Bm="";b&&!(b.name.toLowerCase()===this.tb.name.toLowerCase()&&this.Xh)&&(this.tb=b,this.Hk=b.speed,0>this.ba&&(this.ba=0),this.ba>=this.tb.frames.length&&(this.ba=this.tb.frames.length-1),1===this.Gt&&(this.ba=0),this.Xh=p,this.qg=this.$m(),this.Wh=p,this.sk(a,this.tb.frames[this.ba]),this.e.jb=p)};h.ty=function(){var a=this.tb.frames[this.ba],b=this.ba;this.ba=ia(this.ip);
0>this.ba&&(this.ba=0);this.ba>=this.tb.frames.length&&(this.ba=this.tb.frames.length-1);b!==this.ba&&(this.sk(a,this.tb.frames[this.ba]),this.qg=this.$m(),this.e.jb=p);this.ip=-1};h.sk=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Hd=b.Hd;this.Id=b.Id;this.ab.El(b.Mn);this.Wa();this.$d=b;this.Gk=b.Wg;c=0;for(d=this.Na.length;c<d;c++)e=this.Na[c],e.KA&&e.KA(a,b);this.e.trigger(Q.prototype.Y.sk,this)};h.pg=function(a){a.globalAlpha=
this.opacity;var b=this.$d,c=b.Vj,d=b.pb,e=this.x,f=this.y,h=this.width,g=this.height;if(0===this.L&&0<=h&&0<=g)e-=this.Hd*h,f-=this.Id*g,this.e.wh&&(e=e+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.Lj,b.Mj,b.width,b.height,e,f,h,g):a.drawImage(d,e,f,h,g);else{this.e.wh&&(e=e+0.5|0,f=f+0.5|0);a.save();var k=0<h?1:-1,l=0<g?1:-1;a.translate(e,f);(1!==k||1!==l)&&a.scale(k,l);a.rotate(this.L*k*l);e=0-this.Hd*ea(h);f=0-this.Id*ea(g);c?a.drawImage(d,b.Lj,b.Mj,b.width,b.height,e,f,ea(h),ea(g)):a.drawImage(d,e,f,ea(h),
ea(g));a.restore()}};h.Ye=function(a){a.Ne(this.Gk);a.Tj(this.opacity);var b=this.$d,c=this.sb;if(this.e.wh){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;b.Vj?a.xh(c.ec+d,c.fc+e,c.pd+d,c.qd+e,c.fd+d,c.gd+e,c.dd+d,c.ed+e,b.Hr):a.On(c.ec+d,c.fc+e,c.pd+d,c.qd+e,c.fd+d,c.gd+e,c.dd+d,c.ed+e)}else b.Vj?a.xh(c.ec,c.fc,c.pd,c.qd,c.fd,c.gd,c.dd,c.ed,b.Hr):a.On(c.ec,c.fc,c.pd,c.qd,c.fd,c.gd,c.dd,c.ed)};h.oz=function(a){var b=this.$d,c,d;c=0;for(d=b.Qp.length;c<d;c++)if(a.toLowerCase()===b.Qp[c][0].toLowerCase())return c;
return-1};h.Ff=function(a,b){var c=this.$d,d=c.Qp,e;e=L(a)?this.oz(a):a-1;e=ia(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Hd)*this.width,d=d[e][2],d=(d-c.Id)*this.height,c=Math.cos(this.L);e=Math.sin(this.L);var h=f*c-d*e,d=d*c+f*e,f=h+this.x,d=d+this.y;return b?f:d};var g=new Ha,l=s;e.finish=function(a){if(l){if(a){var b=this.e.be().Xe.Tf;a=r.lb();var c=g.Pi(),d,e;if(a.Ob){a.Ob=s;a.F.length=c.length;d=0;for(e=c.length;d<e;d++)a.F[d]=c[d];if(b){d=a.ub.length=0;for(e=r.F.length;d<
e;d++)b=r.F[d],g.contains(b)||a.ub.push(b)}}else{var f=a.F.length;a.F.length=f+c.length;d=0;for(e=c.length;d<e;d++)a.F[f+d]=c[d],b&&pa(a.ub,c[d])}r.bj()}g.clear();l=s}};b.prototype.Rw=function(a){return this.mt.toLowerCase()===a.toLowerCase()};b.prototype.Sw=G(p);b.prototype.sk=G(p);d.Y=new b;c.prototype.hx=function(a,b){this.Bm=a;this.Gt=b;this.Zp||(this.e.Tr(this),this.Zp=p);this.Sp||this.Tt()};d.Ha=new c;d.ib=new (v())})();function Ob(a){this.e=a}
(function(){function a(){return f.length?f.pop():{}}function b(a){var b,c;b=0;for(c=a.length;b<c;b++)f.push(a[b]);a.length=0}function c(){}var d=Ob.prototype;d.ob=function(){d.Ha.at=function(a){this.width!==a&&(this.width=a,this.Ni=p,this.Wa())}};d.Nc=function(a){this.$b=a;this.e=a.e};var e=d.Nc.prototype;e.ob=v();e.Xq=function(){if(!this.Oa){var a,b,c;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],c.Sf=r,c.Ii=r,c.Ld=r}};d.oc=function(a){this.type=a;this.e=a.e;this.Me?this.oh.length=0:this.oh=[];this.Ni=
p};e=d.oc.prototype;e.ob=function(){this.text=this.Sa[0];this.visible=0===this.Sa[1];this.font=this.Sa[2];this.color=this.Sa[3];this.en=this.Sa[4];this.ko=this.Sa[5];this.ds=0===this.Sa[7];this.nq=this.pi=this.width;this.oi=this.height;this.tq=this.Sa[8];this.Sm=this.jj="";var a=this.font.split(" ");this.Uv=this.Vv=this.Al=0;var b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Al=parseInt(a[b].substr(0,a[b].length-2));this.kr=Math.ceil(96*(this.Al/72))+4;0<b&&(this.Sm=a[b-1]);
this.jj=a[b+1];for(b+=2;b<a.length;b++)this.jj+=" "+a[b];break}this.Ld=this.Ii=this.Sf=r;this.gv=s;this.cl=this.e.Sd;this.Me?this.Oj.set(0,0,1,1):this.Oj=new ka(0,0,1,1);this.e.ua&&this.e.Tr(this)};e.Qd=function(){return{t:this.text,f:this.font,c:this.color,ha:this.en,va:this.ko,wr:this.ds,lho:this.tq,fn:this.jj,fs:this.Sm,ps:this.Al,pxh:this.kr,tw:this.Vv,th:this.Uv,lrt:this.cl}};e.Ce=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.en=a.ha;this.ko=a.va;this.ds=a.wr;this.tq=a.lho;this.jj=
a.fn;this.Sm=a.fs;this.Al=a.ps;this.kr=a.pxh;this.Vv=a.tw;this.Uv=a.th;this.cl=a.lrt;this.Ni=p;this.nq=this.pi=this.width;this.oi=this.height};e.Zf=function(){if(this.e.ua&&this.Ld&&300<=this.e.Sd-this.cl){var a=this.S;this.tc();var b=this.Ma;if(b.right<a.Ud||b.bottom<a.Wd||b.left>a.Vd||b.top>a.Td)this.e.ua.deleteTexture(this.Ld),this.Sf=this.Ii=this.Ld=r}};e.sl=function(){this.Sf=this.Ii=r;this.e.ua&&this.Ld&&this.e.ua.deleteTexture(this.Ld);this.Ld=r};e.QD=function(){this.font=this.Sm+" "+this.Al.toString()+
"pt "+this.jj;this.Ni=p;this.e.jb=p};e.pg=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.S.Fd(),a.save(),a.scale(c,c));if(this.Ni||this.width!==this.nq)this.type.$b.Cx(this.text,this.oh,a,this.width,this.ds),this.Ni=s,this.nq=this.width;this.tc();var c=b?0:this.sb.ec,d=b?0:this.sb.fc;this.e.wh&&(c=c+0.5|0,d=d+0.5|0);0!==this.L&&!b&&(a.save(),a.translate(c,d),a.rotate(this.L),d=c=0);var e=d+this.height,f=this.kr,f=f+this.tq*
this.e.devicePixelRatio,k,w;1===this.ko?d+=Math.max(this.height/2-this.oh.length*f/2,0):2===this.ko&&(d+=Math.max(this.height-this.oh.length*f-2,0));for(w=0;w<this.oh.length&&!(k=c,1===this.en?k=c+(this.width-this.oh[w].width)/2:2===this.en&&(k=c+(this.width-this.oh[w].width)),a.fillText(this.oh[w].text,k,d),d+=f,d>=e-f);w++);(0!==this.L||b)&&a.restore();this.cl=this.e.Sd};e.Ye=function(a){if(!(1>this.width||1>this.height)){var b=this.Ni||this.gv;this.gv=s;var c=this.S.Fd(),d=this.S.Ef(),e=this.Oj,
f=c*this.width,k=c*this.height,w=Math.ceil(f),x=Math.ceil(k),A=this.e.width/2,B=this.e.height/2;this.Ii||(this.Sf=document.createElement("canvas"),this.Sf.width=w,this.Sf.height=x,this.pi=w,this.oi=x,b=p,this.Ii=this.Sf.getContext("2d"));if(w!==this.pi||x!==this.oi)this.Sf.width=w,this.Sf.height=x,this.Ld&&(a.deleteTexture(this.Ld),this.Ld=r),b=p;b&&(this.Ii.clearRect(0,0,w,x),this.pg(this.Ii,p),this.Ld||(this.Ld=a.mg(w,x,this.e.lc,this.e.lh)),a.vB(this.Sf,this.Ld,this.e.lh));this.pi=w;this.oi=x;
a.Ne(this.Ld);a.Tj(this.opacity);a.Wf();a.translate(-A,-B);a.$f();var C=this.sb,b=this.S.Kb(C.ec,C.fc,p),A=this.S.Kb(C.ec,C.fc,s),B=this.S.Kb(C.pd,C.qd,p),H=this.S.Kb(C.pd,C.qd,s),O=this.S.Kb(C.fd,C.gd,p),F=this.S.Kb(C.fd,C.gd,s),D=this.S.Kb(C.dd,C.ed,p),C=this.S.Kb(C.dd,C.ed,s);if(this.e.wh||0===this.L&&0===d)var z=(b+0.5|0)-b,E=(A+0.5|0)-A,b=b+z,A=A+E,B=B+z,H=H+E,O=O+z,F=F+E,D=D+z,C=C+E;0===this.L&&0===d?(B=b+w,H=A,O=B,F=A+x,D=b,C=F,e.right=1,e.bottom=1):(e.right=f/w,e.bottom=k/x);a.xh(b,A,B,H,
O,F,D,C,e);a.Wf();a.scale(c,c);a.tr(-this.S.Ef());a.translate((this.S.Ud+this.S.Vd)/-2,(this.S.Wd+this.S.Td)/-2);a.$f();this.cl=this.e.Sd}};var k=[];d.zx=function(a){k.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(k.push(b),b=""),k.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));k.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&k.push(b)};var f=[];d.Cx=function(c,d,e,f,k){if(!c||!c.length)b(d);
else if(2>=f)b(d);else{if(100>=c.length&&-1===c.indexOf("\n")){var u=e.measureText(c).width;if(u<=f){b(d);d.push(a());d[0].text=c;d[0].width=u;return}}this.Dx(c,d,e,f,k)}};d.Dx=function(b,c,d,e,q){q&&(this.zx(b),b=k);var u="",t,w,x,A=0;for(x=0;x<b.length;x++)"\n"===b[x]?(A>=c.length&&c.push(a()),w=c[A],w.text=u,w.width=d.measureText(u).width,A++,u=""):(t=u,u+=b[x],w=d.measureText(u).width,w>=e&&(A>=c.length&&c.push(a()),w=c[A],w.text=t,w.width=d.measureText(t).width,A++,u=b[x],!q&&" "===u&&(u="")));
u.length&&(A>=c.length&&c.push(a()),w=c[A],w.text=u,w.width=d.measureText(u).width,A++);for(x=A;x<c.length;x++)f.push(c[x]);c.length=A};d.Y=new (v());c.prototype.ox=function(a){J(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Ni=p,this.e.jb=p)};d.Ha=new c;d.ib=new (v())})();function T(a){this.e=a}
(function(){function a(a){h=a.x;g=a.y;l=a.J}function b(a){m=a.x;q=a.y;u=a.J}function c(){}function d(){}var e=T.prototype;e.Nc=function(a){this.$b=a;this.e=a.e};e.Nc.prototype.ob=v();e.oc=function(a){this.type=a;this.e=a.e;this.touches=[];this.Tq=s};var k=e.oc.prototype,f={left:0,top:0};k.Qm=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var h=0,g=0,l=0,m=0,q=0,u=0;k.ob=function(){this.Tz=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);
this.fo=this.Mh=this.tp=this.sp=this.it=this.ht=this.gt=this.Rx=this.Qx=this.Px=this.wl=this.ul=this.tl=0;this.rB=0!==this.Sa[0];var c=0<this.e.ae?document:this.e.canvas,d=document;this.e.wg?d=c=window.Canvas:this.e.vg&&(d=c=window);var e=this;window.navigator.msPointerEnabled?(c.addEventListener("MSPointerDown",function(a){e.JA(a)},s),c.addEventListener("MSPointerMove",function(a){e.IA(a)},s),d.addEventListener("MSPointerUp",function(a){e.kv(a)},s),d.addEventListener("MSPointerCancel",function(a){e.kv(a)},
s),this.e.canvas&&(this.e.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},s),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},s))):(c.addEventListener("touchstart",function(a){e.nv(a)},s),c.addEventListener("touchmove",function(a){e.mv(a)},s),d.addEventListener("touchend",function(a){e.br(a)},s),d.addEventListener("touchcancel",function(a){e.br(a)},s));if(this.Tz){var f=function(a){a=a.reading;e.gt=a.accelerationX;e.ht=a.accelerationY;e.it=a.accelerationZ},
m=function(a){a=a.reading;e.tl=a.yawDegrees;e.ul=a.pitchDegrees;e.wl=a.rollDegrees},k=Windows.Devices.Sensors.Accelerometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",m));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(k&&k.removeEventListener("readingchanged",
f),g&&g.removeEventListener("readingchanged",m)):(k&&k.addEventListener("readingchanged",f),g&&g.addEventListener("readingchanged",m))},s)}else window.addEventListener("deviceorientation",function(a){e.tl=a.alpha||0;e.ul=a.beta||0;e.wl=a.gamma||0},s),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(e.Px=a.accelerationIncludingGravity.x,e.Qx=a.accelerationIncludingGravity.y,e.Rx=a.accelerationIncludingGravity.z);a.acceleration&&(e.gt=a.acceleration.x,e.ht=a.acceleration.y,
e.it=a.acceleration.z)},s);this.rB&&!this.e.Qc&&(jQuery(document).mousemove(function(a){e.Zq(a)}),jQuery(document).mousedown(function(a){e.Yq(a)}),jQuery(document).mouseup(function(a){e.$q(a)}));this.e.Wk&&!this.e.wg&&AppMobi.accelerometer.watchAcceleration(a,{frequency:40,adjustForRotation:p});this.e.nj&&navigator.accelerometer.watchAcceleration(b,r,{frequency:40});this.e.nB(this)};k.IA=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.Qm(a.pointerId),
c=Ga();if(0<=b){var d=this.e.Qc?f:jQuery(this.e.canvas).offset(),b=this.touches[b];2>c-b.time||(b.sn=b.time,b.oq=b.x,b.pq=b.y,b.time=c,b.x=a.pageX-d.left,b.y=a.pageY-d.top)}}};k.JA=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.e.Qc?f:jQuery(this.e.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top,d=Ga();this.Mh=this.touches.length;this.fo=a.pointerId;this.touches.push({time:d,x:c,y:b,sn:d,oq:c,pq:b,id:a.pointerId,Or:this.Mh});this.e.trigger(T.prototype.Y.Ks,
this);this.e.trigger(T.prototype.Y.Ps,this);this.sp=c;this.tp=b;this.e.trigger(T.prototype.Y.Os,this)}};k.kv=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),a=this.Qm(a.pointerId),this.Mh=0<=a?this.touches[a].Or:-1,this.fo=0<=a?this.touches[a].id:-1,this.e.trigger(T.prototype.Y.Js,this),this.e.trigger(T.prototype.Y.Ns,this),0<=a&&this.touches.splice(a,1))};k.mv=function(a){a.preventDefault&&a.preventDefault();var b=Ga(),c,d,e,m;c=0;for(d=a.changedTouches.length;c<
d;c++)if(e=a.changedTouches[c],m=this.Qm(e.identifier),0<=m){var k=this.e.Qc?f:jQuery(this.e.canvas).offset();m=this.touches[m];2>b-m.time||(m.sn=m.time,m.oq=m.x,m.pq=m.y,m.time=b,m.x=e.pageX-k.left,m.y=e.pageY-k.top)}};k.nv=function(a){a.preventDefault&&a.preventDefault();var b=this.e.Qc?f:jQuery(this.e.canvas).offset(),c=Ga(),d,e,m;d=0;for(e=a.changedTouches.length;d<e;d++){m=a.changedTouches[d];var k=m.pageX-b.left,g=m.pageY-b.top;this.Mh=this.touches.length;this.fo=m.identifier;this.touches.push({time:c,
x:k,y:g,sn:c,oq:k,pq:g,id:m.identifier,Or:this.Mh});this.e.trigger(T.prototype.Y.Ks,this);this.e.trigger(T.prototype.Y.Ps,this);this.sp=k;this.tp=g;this.e.trigger(T.prototype.Y.Os,this)}};k.br=function(a){a.preventDefault&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=this.Qm(d.identifier),this.Mh=0<=d?this.touches[d].Or:-1,this.fo=0<=d?this.touches[d].id:-1,this.e.trigger(T.prototype.Y.Js,this),this.e.trigger(T.prototype.Y.Ns,this),0<=d&&this.touches.splice(d,
1)};k.jD=function(){return this.e.Wk&&0===this.tl&&0!==l?90*l:this.e.nj&&0===this.tl&&0!==u?90*u:this.tl};k.kD=function(){return this.e.Wk&&0===this.ul&&0!==g?-90*g:this.e.nj&&0===this.ul&&0!==q?-90*q:this.ul};k.mD=function(){return this.e.Wk&&0===this.wl&&0!==h?90*h:this.e.nj&&0===this.wl&&0!==m?90*m:this.wl};k.Yq=function(a){a.preventDefault&&this.e.ii&&a.preventDefault();this.nv({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Tq=p};k.Zq=function(a){a.preventDefault&&this.e.ii&&
a.preventDefault();this.Tq&&this.mv({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};k.$q=function(a){a.preventDefault&&this.e.ii&&a.preventDefault();this.e.ii=p;this.br({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Tq=s};k.Sr=function(){var a,b,c,d=Ga();a=0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.sn=d)};c.prototype.Ps=G(p);c.prototype.Ns=G(p);c.prototype.Mw=function(){return this.touches.length};c.prototype.Os=function(a){return!a?
s:this.e.Qr(a,this.sp,this.tp,s)};c.prototype.Ks=function(a){a=Math.floor(a);return a===this.Mh};c.prototype.Js=function(a){a=Math.floor(a);return a===this.Mh};c.prototype.Lw=function(a){a=Math.floor(a);return this.touches.length>=a+1};e.Y=new c;d.prototype.tf=function(a,b){if(this.touches.length){var c,d,e,f,m;ca(b)?(c=this.e.sg(0),d=c.scale,e=c.Xc,f=c.oe,m=c.L,c.scale=this.e.gb.scale,c.Xc=1,c.oe=1,c.L=this.e.gb.L,a.ea(c.Gc(this.touches[0].x,this.touches[0].y,p)),c.scale=d,c.Xc=e,c.oe=f,c.L=m):(c=
J(b)?this.e.sg(b):this.e.Qk(b))?a.ea(c.Gc(this.touches[0].x,this.touches[0].y,p)):a.ea(0)}else a.ea(0)};d.prototype.uf=function(a,b){if(this.touches.length){var c,d,e,f,m;ca(b)?(c=this.e.sg(0),d=c.scale,e=c.Xc,f=c.pe,m=c.L,c.scale=this.e.gb.scale,c.Xc=1,c.pe=1,c.L=this.e.gb.L,a.ea(c.Gc(this.touches[0].x,this.touches[0].y,s)),c.scale=d,c.Xc=e,c.pe=f,c.L=m):(c=J(b)?this.e.sg(b):this.e.Qk(b))?a.ea(c.Gc(this.touches[0].x,this.touches[0].y,s)):a.ea(0)}else a.ea(0)};e.ib=new d})();
function Pb(a){this.e=a}
(function(){function a(){}var b=Pb.prototype;b.Nc=function(a,b){this.rb=a;this.jv=b;this.e=a.e};b.Nc.prototype.ob=v();b.oc=function(a,b){this.type=a;this.rb=a.rb;this.R=b;this.e=a.e;this.Kr=this.Jr=this.Ir=this.Lr=this.Pp=this.Rn=this.un=this.Jm=this.jo=s;this.lq=this.kq=this.jq=this.mq=-1;this.ya=this.xa=0;this.enabled=p};var c=b.oc.prototype;c.ob=function(){this.pl=this.Sa[0];this.vf=this.Sa[1];this.zf=this.Sa[2];this.wp=this.Sa[3];this.$o=this.Sa[4];if((this.ry=1===this.Sa[5])&&!this.e.Qc)jQuery(document).keydown(function(a){return function(b){a.GA(b)}}(this)),
jQuery(document).keyup(function(a){return function(b){a.HA(b)}}(this))};c.Qd=function(){return{dx:this.xa,dy:this.ya,enabled:this.enabled,maxspeed:this.pl,acc:this.vf,dec:this.zf,ignoreInput:this.Pp}};c.Ce=function(a){this.xa=a.dx;this.ya=a.dy;this.enabled=a.enabled;this.pl=a.maxspeed;this.vf=a.acc;this.zf=a.dec;this.Pp=a.ignoreInput;this.Kr=this.Jr=this.Ir=this.Lr=this.Rn=this.un=this.Jm=this.jo=s;this.lq=this.kq=this.jq=this.mq=-1};c.GA=function(a){var b=this.e.Sd;switch(a.which){case 37:a.preventDefault();
this.kq<b&&(this.un=p);break;case 38:a.preventDefault();this.mq<b&&(this.jo=p);break;case 39:a.preventDefault();this.lq<b&&(this.Rn=p);break;case 40:a.preventDefault(),this.jq<b&&(this.Jm=p)}};c.HA=function(a){var b=this.e.Sd;switch(a.which){case 37:a.preventDefault();this.un=s;this.kq=b;break;case 38:a.preventDefault();this.jo=s;this.mq=b;break;case 39:a.preventDefault();this.Rn=s;this.lq=b;break;case 40:a.preventDefault(),this.Jm=s,this.jq=b}};c.Zf=function(){var a=this.e.Wm(this.R),b=this.un||
this.Jr,c=this.Rn||this.Kr,f=this.jo||this.Lr,h=this.Jm||this.Ir;this.Ir=this.Lr=this.Kr=this.Jr=s;if(this.enabled){var g=this.e.Il(this.R);if(g&&(this.e.Cl(this.R,g),!this.e.TA(this.R)))return;this.Pp&&(h=f=c=b=s);0===this.wp?c=b=s:1===this.wp&&(h=f=s);if(2===this.wp&&(f||h))c=b=s;b==c&&(0>this.xa?(this.xa+=this.zf*a,0<this.xa&&(this.xa=0)):0<this.xa&&(this.xa-=this.zf*a,0>this.xa&&(this.xa=0)));f==h&&(0>this.ya?(this.ya+=this.zf*a,0<this.ya&&(this.ya=0)):0<this.ya&&(this.ya-=this.zf*a,0>this.ya&&
(this.ya=0)));b&&!c&&(this.xa=0<this.xa?this.xa-(this.vf+this.zf)*a:this.xa-this.vf*a);c&&!b&&(this.xa=0>this.xa?this.xa+(this.vf+this.zf)*a:this.xa+this.vf*a);f&&!h&&(this.ya=0<this.ya?this.ya-(this.vf+this.zf)*a:this.ya-this.vf*a);h&&!f&&(this.ya=0>this.ya?this.ya+(this.vf+this.zf)*a:this.ya+this.vf*a);if(0!==this.xa||0!==this.ya){Math.sqrt(this.xa*this.xa+this.ya*this.ya)>this.pl&&(g=Math.atan2(this.ya,this.xa),this.xa=this.pl*Math.cos(g),this.ya=this.pl*Math.sin(g));c=this.R.x;f=this.R.y;b=this.R.L;
this.R.x+=this.xa*a;this.R.Wa();if(g=this.e.Il(this.R))this.R.x=c,this.xa=0,this.R.Wa(),this.e.Cl(this.R,g);this.R.y+=this.ya*a;this.R.Wa();if(g=this.e.Il(this.R))this.R.y=f,this.ya=0,this.R.Wa(),this.e.Cl(this.R,g);a=Pa(this.xa);g=Pa(this.ya);if(0!==a||0!==g)1===this.$o?this.R.L=va(90*Math.round(ra(Math.atan2(g,a))/90)):2===this.$o?this.R.L=va(45*Math.round(ra(Math.atan2(g,a))/45)):3===this.$o&&(this.R.L=Math.atan2(g,a));this.R.Wa();if(this.R.L!=b&&(g=this.e.Il(this.R)))this.R.L=b,this.R.Wa(),this.e.Cl(this.R,
g)}}};a.prototype.As=function(){return 0!==this.xa||0!==this.ya};b.Y=new a;b.Ha=new (v());b.ib=new (v())})();var U=r;function V(a,b){for(var c in b.prototype)b.prototype.hasOwnProperty(c)&&(a.prototype[c]=b.prototype[c])}
if(navigator.isCocoonJS)ba("Using CocoonJS native physics"),!window.ext||"undefined"===typeof window.ext.IDTK_SRV_BOX2D?console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available"):(U=window.Za={},window.Za.uc={},window.Za.uc.Bo={},window.Za.k={},window.Za.k.q={},window.Za.u={},window.Za.u.Qo={},function(){function a(a){this.M=a.M;this.P=a.P;this.Qe=a.Qe;this.type=a.type;this.next=r;this.kk=y("M");this.vo=y("P");this.xs=y("Qe");this.vc=y("type");this.ws=
y("next")}function b(a,b){this.An=[];this.yb=[];this.Cn=[];this.Bg=r;this.lA=[];this.Ie=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b,600)}function c(){}function d(a,b,c){this.Nb=a;this.Db=b;this.sA=c}function e(a,b){var c=a.Qe;a.Qe=r;this.zb=b;this.B=new h(a.position,g.Fw(a.L));this.gl=[];a.type===e.wt&&(a.Af=0);this.Fe=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.Ie,a);this.Pq=a.Qe;a.Qe=c}function k(a,b,c){this.vi=a;this.Pq=b;this.fA=c;this.Ig={};this.Ig.vd=l.Vb(0,0);this.hl=s;
this.Ka=y("vi");this.Yc=G(r);this.xs=y("Pq");this.No=function(b){window.ext.IDTK_SRV_BOX2D.makeCall("setSensor",a.zb.Ie,c,b);this.hl=b};this.Qh=G(s)}function f(){}function h(a,b){this.position=l.Vb(0,0);this.m=new g;a===n&&(a=r);b===n&&(b=r);a&&(this.position.G(a),this.m.Se(b))}function g(){this.g=l.Vb(0,0);this.j=l.Vb(0,0);this.$g()}function l(a,b){a===n&&(a=0);b===n&&(b=0);this.x=a;this.y=b}window.Za.k.q.yk=l;l.pm=[];l.Vb=function(a,b){if(0<window.Za.k.q.yk.pm.length){var c=window.Za.k.q.yk.pm.pop();
c.H(a,b);return c}return new window.Za.k.q.yk(a,b)};l.NB=function(a){1E4>window.Za.k.q.yk.pm.length&&window.Za.k.q.yk.pm.push(a)};l.prototype.fa=function(){this.y=this.x=0};l.prototype.H=function(a,b){a===n&&(a=0);b===n&&(b=0);this.x=a;this.y=b};l.prototype.G=function(a){this.x=a.x;this.y=a.y};l.aC=function(a,b){a===n&&(a=0);b===n&&(b=0);return l.Vb(a,b)};l.prototype.gc=function(){return l.Vb(this.x,this.y)};l.prototype.cg=function(a){this.x+=a.x;this.y+=a.y};l.prototype.To=function(a){this.x-=a.x;
this.y-=a.y};l.prototype.$c=function(a){a===n&&(a=0);this.x*=a;this.y*=a};l.prototype.rf=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};l.prototype.hm=function(){return this.x*this.x+this.y*this.y};l.prototype.bd=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};window.Za.k.q.TC=g;g.Fw=function(a){a===n&&(a=0);var b=new g;b.H(a);return b};g.jk=function(a,b){var c=new g;c.Oo(a,b);return c};g.prototype.H=function(a){a===
n&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.g.x=b;this.j.x=-a;this.g.y=a;this.j.y=b};g.prototype.Oo=function(a,b){this.g.G(a);this.j.G(b)};g.prototype.gc=function(){var a=new g;a.Se(this);return a};g.prototype.Se=function(a){this.g.G(a.g);this.j.G(a.j)};g.prototype.Rl=function(a){this.g.x+=a.g.x;this.g.y+=a.g.y;this.j.x+=a.j.x;this.j.y+=a.j.y};g.prototype.$g=function(){this.g.x=1;this.j.x=0;this.g.y=0;this.j.y=1};g.prototype.fa=function(){this.g.x=0;this.j.x=0;this.g.y=0;this.j.y=0};g.prototype.zd=
function(){return Math.atan2(this.g.y,this.g.x)};g.prototype.xo=function(a){var b=this.g.x,c=this.j.x,d=this.g.y,e=this.j.y,f=b*e-c*d;0!=f&&(f=1/f);a.g.x=f*e;a.j.x=-f*c;a.g.y=-f*d;a.j.y=f*b;return a};g.prototype.ah=function(a,b,c){b===n&&(b=0);c===n&&(c=0);var d=this.g.x,e=this.j.x,f=this.g.y,k=this.j.y,g=d*k-e*f;0!=g&&(g=1/g);a.x=g*(k*b-e*c);a.y=g*(d*c-f*b);return a};g.prototype.bg=function(){this.g.bg();this.j.bg()};window.Za.k.q.VC=h;h.prototype.hc=function(a,b){this.position.G(a);this.m.Se(b)};
h.prototype.$g=function(){this.position.fa();this.m.$g()};h.prototype.H=function(a){this.position.G(a.position);this.m.Se(a.m)};h.prototype.mm=function(){return Math.atan2(this.m.g.y,this.m.g.x)};window.Za.k.q.r=f;f.gm=function(a){a===n&&(a=0);return isFinite(a)};f.Bb=function(a,b){return a.x*b.x+a.y*b.y};f.Oh=function(a,b){return a.x*b.y-a.y*b.x};f.eg=function(a,b){b===n&&(b=0);return l.Vb(b*a.y,-b*a.x)};f.ro=function(a,b){a===n&&(a=0);return l.Vb(-a*b.y,a*b.x)};f.Wb=function(a,b){return l.Vb(a.g.x*
b.x+a.j.x*b.y,a.g.y*b.x+a.j.y*b.y)};f.fg=function(a,b){return l.Vb(f.Bb(b,a.g),f.Bb(b,a.j))};f.wc=function(a,b){var c=f.Wb(a.m,b);c.x+=a.position.x;c.y+=a.position.y;return c};f.Fs=function(a,b){var c=f.kb(b,a.position),d=c.x*a.m.g.x+c.y*a.m.g.y;c.y=c.x*a.m.j.x+c.y*a.m.j.y;c.x=d;return c};f.dk=function(a,b){return l.Vb(a.x+b.x,a.y+b.y)};f.kb=function(a,b){return l.Vb(a.x-b.x,a.y-b.y)};f.$l=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};f.os=function(a,b){var c=a.x-b.x,d=a.y-b.y;
return c*c+d*d};f.Ow=function(a,b){a===n&&(a=0);return l.Vb(a*b.x,a*b.y)};f.pw=function(a,b){return g.jk(f.dk(a.g,b.g),f.dk(a.j,b.j))};f.Pw=function(a,b){return g.jk(f.Wb(a,b.g),f.Wb(a,b.j))};f.Qw=function(a,b){var c=l.Vb(f.Bb(a.g,b.g),f.Bb(a.j,b.g)),d=l.Vb(f.Bb(a.g,b.j),f.Bb(a.j,b.j));return g.jk(c,d)};f.bg=function(a){a===n&&(a=0);return 0<a?a:-a};f.ak=function(a){return l.Vb(f.bg(a.x),f.bg(a.y))};f.mw=function(a){return g.jk(f.ak(a.g),f.ak(a.j))};f.Ds=function(a,b){a===n&&(a=0);b===n&&(b=0);return a<
b?a:b};f.Es=function(a,b){return l.Vb(f.Ds(a.x,b.x),f.Ds(a.y,b.y))};f.Bs=function(a,b){a===n&&(a=0);b===n&&(b=0);return a>b?a:b};f.Cs=function(a,b){return l.Vb(f.Bs(a.x,b.x),f.Bs(a.y,b.y))};f.qb=function(a,b,c){a===n&&(a=0);b===n&&(b=0);c===n&&(c=0);return a<b?b:a>c?c:a};f.rw=function(a,b,c){return f.Cs(b,f.Es(a,c))};f.DC=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};f.nC=function(){return 2*Math.random()-1};f.oC=function(a,b){a===n&&(a=0);b===n&&(b=0);var c=Math.random();return(b-a)*c+a};f.gC=function(a){a===
n&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};f.XB=function(a){a===n&&(a=0);return 0<a&&0==(a&a-1)};f.ay=new l(0,0);f.Yx=g.jk(new l(1,0),new l(0,1));f.WC=new h(f.ay,f.Yx);window.Za.uc.OC=function(){this.cD=4;this.dD=16;this.eD=32;this.fD=2;this.gD=8;this.hD=0};window.Za.uc.LC=function(){this.position=l.Vb(0,0);this.uq=l.Vb(0,0);this.Qe=r;this.L=0;this.uq.H(0,0);this.Vh=this.qi=this.lt=0;this.pt=this.kt=p;this.$h=this.Cp=s;this.type=e.wt;
this.we=p;this.ou=1};window.Za.uc.QC=k;window.Za.uc.cp=e;e.prototype.Wl=function(a){var b=a.Qe;a.Qe=r;fixtureID=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.zb.Ie,this.Fe,a);a.Qe=b;a=new k(this,b,fixtureID);this.zb.Cn[fixtureID]=a;this.gl.push(a);return a};e.prototype.wo=function(){return 0===this.gl.length?r:this.gl[0]};e.prototype.ns=v();e.prototype.wk=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",this.zb.Ie,this.Fe,a.x,a.y,b);this.B.m.H(b);this.B.position.G(a)};
e.prototype.Mo=function(a){this.wk(a,this.zd())};e.prototype.Sh=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",this.zb.Ie,this.Fe,a.x,a.y)};e.prototype.vk=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.zb.Ie,this.Fe,a)};e.prototype.zd=function(){return this.B.m.zd()};e.prototype.mm=function(a){a===n&&(a=0);this.wk(this.B.position,a)};e.prototype.Yg=function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.zb.Ie,this.Fe),b=[],c=0;c<
a.length;c++)b.push(m_world.An[a[c]]);return b};e.prototype.xs=y("Pq");window.Za.uc.cp.wt=0;window.Za.uc.cp.aD=1;window.Za.uc.cp.$C=2;window.Za.uc.NC=d;d.prototype.Ao=y("sA");window.Za.uc.Xx=c;c.prototype.Sl=v();window.Za.uc.Xx.ZC=new c;window.Za.uc.XC=b;b.prototype.Vs=aa("Bg");b.prototype.qo=function(a){a=new e(a,this);return this.An[a.Fe]=a};b.prototype.Zl=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.Ie,a.Fe);delete this.An[a.Fe];for(var b=0;b<a.gl.length;++b)delete this.Cn[a.gl[b].fA]};
b.prototype.Xl=function(b){if(b.M.Fe!=b.P.Fe){var c=b.M,d=b.P;b.M=c.Fe;b.P=d.Fe;window.ext.IDTK_SRV_BOX2D.makeCall("createDistanceJoint",this.Ie,b);b.M=c;b.P=d;b=new a(b);this.lA.push(b);return b}};b.prototype.gg=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.Ie,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var e=this.An[c[a+0]];if(e===r)break;e.B.position.H(c[a+1],c[a+2]);e.B.m.H(c[a+3])}if(this.Bg!==r){c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.Ie);b=c[0];for(a=1;a<=3*b;a+=
3){var e=c[a+2],f=this.Cn[c[a+0]],k=this.Cn[c[a+1]];"undefined"===typeof f||"undefined"===typeof k?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.Bg.Sl(new d(f,k,e))}}};b.prototype.ks=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.Ie)};window.Za.u.Qo.MC=function(a){this.Pn=a;this.type="circle"};window.Za.u.Qo.UC=function(){this.Ko=function(a,b){this.type="box";this.width=a;this.height=b};this.ix=function(a,b){this.type="edge";this.HD=a.x;this.ID=a.y;this.JD=
b.x;this.KD=b.y};this.Us=function(a,b){this.type="polygon";this.lw=[];for(var c=0;c<b;c++)this.lw.push(a[c].x),this.lw.push(a[c].y)}};window.Za.uc.RC=function(){this.Qe=this.shape=r;this.rg=0.2;this.Af=this.Pg=0;this.xu=s};a.Hy=0;window.Za.uc.Bo.SC=a;window.Za.uc.Bo.PC=function(b,c,d,e){this.type=a.Hy;this.Lb=l.Vb(0,0);this.Mb=l.Vb(0,0);this.Qe=r;b!==n&&(this.M=b);c!==n&&(this.P=c);d!==n&&this.Lb.G(d);e!==n&&this.Mb.G(e);d!==n&&e!==n&&(b=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(b*b+d*d));this.Fm=this.Um=
0}}());else{U={u:{}};U.u.Q={};U.u.dp={};U.u.Qo={};U.k={};U.k.C={};U.k.q={};U.k.q.r={};U.Aw={};U.uc={};U.uc.KB={};U.uc.LB={};U.uc.Bo={};U.iD=function(a,b){return function(){b.apply(a,arguments)}};U.Aw.jm=Number.MIN_VALUE*Number.MIN_VALUE;U.k.C.Zx=function(a,b){return Math.sqrt(a*b)};U.k.C.$x=function(a,b){return a>b?a:b};U.k.C.VERSION="2.1alpha-illandril";U.k.C.GC=65535;U.k.C.Zh=2;U.k.C.cj=0.1;U.k.C.qt=2;U.k.C.bD=2*U.k.C.Ta;U.k.C.Ta=0.005;U.k.C.Yh=2/180*Math.PI;U.k.C.um=8*U.k.C.Ta;U.k.C.cy=32;U.k.C.ey=
32;U.k.C.jy=1;U.k.C.Dd=0.2;U.k.C.tm=8/180*Math.PI;U.k.C.ej=2;U.k.C.ut=U.k.C.ej*U.k.C.ej;U.k.C.dj=0.5*Math.PI;U.k.C.tt=U.k.C.dj*U.k.C.dj;U.k.C.fp=0.2;U.k.C.fy=0.5;U.k.C.st=0.01;U.k.C.by=U.k.C.st*U.k.C.st;U.k.C.ep=2/180*Math.PI;U.k.C.YC=U.k.C.ep*U.k.C.ep;U.k.C.jm=Number.MIN_VALUE*Number.MIN_VALUE;U.k.q.r.Bb=function(a,b){return a.x*b.x+a.y*b.y};U.k.q.r.Oh=function(a,b){return a.x*b.y-a.y*b.x};U.k.q.r.eg=function(a,b){return W(b*a.y,-b*a.x)};U.k.q.r.ro=function(a,b){return W(-a*b.y,a*b.x)};U.k.q.r.Wb=
function(a,b){return W(a.g.x*b.x+a.j.x*b.y,a.g.y*b.x+a.j.y*b.y)};U.k.q.r.fg=function(a,b){return W(U.k.q.r.Bb(b,a.g),U.k.q.r.Bb(b,a.j))};U.k.q.r.wc=function(a,b){var c=U.k.q.r.Wb(a.m,b);c.x+=a.position.x;c.y+=a.position.y;return c};U.k.q.r.Fs=function(a,b){var c=U.k.q.r.kb(b,a.position),d=c.x*a.m.g.x+c.y*a.m.g.y;c.y=c.x*a.m.j.x+c.y*a.m.j.y;c.x=d;return c};U.k.q.r.dk=function(a,b){return W(a.x+b.x,a.y+b.y)};U.k.q.r.kb=function(a,b){return W(a.x-b.x,a.y-b.y)};U.k.q.r.$l=function(a,b){return Math.sqrt(U.k.q.r.os(a,
b))};U.k.q.r.os=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};U.k.q.r.Ow=function(a,b){return W(a*b.x,a*b.y)};U.k.q.r.pw=function(a,b){return Qb(U.k.q.r.dk(a.g,b.g),U.k.q.r.dk(a.j,b.j))};U.k.q.r.Pw=function(a,b){return Qb(U.k.q.r.Wb(a,b.g),U.k.q.r.Wb(a,b.j))};U.k.q.r.Qw=function(a,b){var c=W(U.k.q.r.Bb(a.g,b.g),U.k.q.r.Bb(a.j,b.g)),d=W(U.k.q.r.Bb(a.g,b.j),U.k.q.r.Bb(a.j,b.j));return Qb(c,d)};U.k.q.r.ak=function(a){return W(Math.abs(a.x),Math.abs(a.y))};U.k.q.r.mw=function(a){return Qb(U.k.q.r.ak(a.g),
U.k.q.r.ak(a.j))};U.k.q.r.qb=function(a,b,c){return a<b?b:a>c?c:a};U.k.q.r.rw=function(a,b,c){return W(U.k.q.r.qb(a.x,b.x,c.x),U.k.q.r.qb(a.y,b.y,c.y))};var Rb=function(){this.g=W(0,0);this.j=W(0,0);this.$g()},Sb=function(a){var b=new Rb;b.H(a);return b},Qb=function(a,b){var c=new Rb;c.Oo(a,b);return c};I=Rb.prototype;I.H=function(a){var b=Math.cos(a);a=Math.sin(a);this.g.H(b,a);this.j.H(-a,b)};I.Oo=function(a,b){this.g.G(a);this.j.G(b)};I.gc=function(){var a=new Rb;a.Se(this);return a};I.Se=function(a){this.g.G(a.g);
this.j.G(a.j)};I.Rl=function(a){this.g.cg(a.g);this.j.cg(a.j)};I.$g=function(){this.g.H(1,0);this.j.H(0,1)};I.fa=function(){this.g.H(0,0);this.j.H(0,0)};I.zd=function(){return Math.atan2(this.g.y,this.g.x)};I.xo=function(a){var b=this.g.x*this.j.y-this.j.x*this.g.y;0!==b&&(b=1/b);a.g.x=b*this.j.y;a.j.x=-b*this.j.x;a.g.y=-b*this.g.y;a.j.y=b*this.g.x;return a};I.ah=function(a,b,c){var d=this.g.x*this.j.y-this.j.x*this.g.y;0!==d&&(d=1/d);a.x=d*(this.j.y*b-this.j.x*c);a.y=d*(this.g.x*c-this.g.y*b);return a};
I.bg=function(){this.g.bg();this.j.bg()};var Ub=function(a,b,c){this.g=new Tb(0,0,0);this.j=new Tb(0,0,0);this.ta=new Tb(0,0,0);a&&this.g.G(a);b&&this.j.G(b);c&&this.ta.G(c)};I=Ub.prototype;I.gc=function(){return new Ub(this.g,this.j,this.ta)};I.Se=function(a){this.g.G(a.g);this.j.G(a.j);this.ta.G(a.ta)};I.Rl=function(a){this.g.x+=a.g.x;this.g.y+=a.g.y;this.g.J+=a.g.J;this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.J+=a.j.J;this.ta.x+=a.ta.x;this.ta.y+=a.ta.y;this.ta.J+=a.ta.J};I.$g=function(){this.g.H(1,
0,0);this.j.H(0,1,0);this.ta.H(0,0,1)};I.fa=function(){this.g.H(0,0,0);this.j.H(0,0,0);this.ta.H(0,0,0)};I.Yi=function(a,b,c){var d=this.g.x,e=this.j.x,k=this.g.y,f=this.j.y,h=d*f-e*k;0!=h&&(h=1/h);a.x=h*(f*b-e*c);a.y=h*(d*c-k*b);return a};I.xk=function(a,b,c,d){var e=this.g.x,k=this.g.y,f=this.g.J,h=this.j.x,g=this.j.y,l=this.j.J,m=this.ta.x,q=this.ta.y,u=this.ta.J,t=e*(g*u-l*q)+k*(l*m-h*u)+f*(h*q-g*m);0!=t&&(t=1/t);a.x=t*(b*(g*u-l*q)+c*(l*m-h*u)+d*(h*q-g*m));a.y=t*(e*(c*u-d*q)+k*(d*m-b*u)+f*(b*
q-c*m));a.J=t*(e*(g*d-l*c)+k*(l*b-h*d)+f*(h*c-g*b));return a};var Vb=function(){this.N=W(0,0);this.zc=W(0,0);this.p=W(0,0)};Vb.prototype.H=function(a){this.N.G(a.N);this.zc.G(a.zc);this.p.G(a.p);this.ue=a.ue;this.K=a.K;this.Wc=a.Wc};Vb.prototype.gc=function(){var a=new Vb;a.N.G(this.N);a.zc.G(this.zc);a.p.G(this.p);a.ue=this.ue;a.K=this.K;a.Wc=this.Wc;return a};Vb.prototype.Bd=function(a,b){b===n&&(b=0);a.position.x=(1-b)*this.zc.x+b*this.p.x;a.position.y=(1-b)*this.zc.y+b*this.p.y;a.m.H((1-b)*this.ue+
b*this.K);var c=a.m;a.position.x-=c.g.x*this.N.x+c.j.x*this.N.y;a.position.y-=c.g.y*this.N.x+c.j.y*this.N.y};Vb.prototype.Xg=function(a){a===n&&(a=0);if(this.Wc<a&&1-this.Wc>Number.MIN_VALUE){var b=(a-this.Wc)/(1-this.Wc);this.zc.x=(1-b)*this.zc.x+b*this.p.x;this.zc.y=(1-b)*this.zc.y+b*this.p.y;this.ue=(1-b)*this.ue+b*this.K;this.Wc=a}};var Wb=function(a,b){this.position=W(0,0);this.m=new Rb;a&&this.position.G(a);b&&this.m.Se(b)};Wb.prototype.hc=function(a,b){this.position.G(a);this.m.Se(b)};Wb.prototype.$g=
function(){this.position.fa();this.m.$g()};Wb.prototype.H=function(a){this.position.G(a.position);this.m.Se(a.m)};Wb.prototype.zd=function(){return Math.atan2(this.m.g.y,this.m.g.x)};var Xb=function(a,b){this.x=a;this.y=b},Yb=[],W=function(a,b){if(0<Yb.length){var c=Yb.pop();c.H(a,b);return c}return new Xb(a,b)},Y=function(a){Yb.push(a)};I=Xb.prototype;I.fa=function(){this.y=this.x=0};I.H=function(a,b){this.x=a;this.y=b};I.G=function(a){this.x=a.x;this.y=a.y};I.Zg=function(){return W(-this.x,-this.y)};
I.Gs=function(){this.x=-this.x;this.y=-this.y};I.gc=function(){return W(this.x,this.y)};I.cg=function(a){this.x+=a.x;this.y+=a.y};I.To=function(a){this.x-=a.x;this.y-=a.y};I.$c=function(a){this.x*=a;this.y*=a};I.eg=function(a){var b=this.x;this.x=a*this.y;this.y=-a*b};I.ro=function(a){var b=this.x;this.x=-a*this.y;this.y=a*b};I.Es=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};I.Cs=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};I.bg=function(){this.x=Math.abs(this.x);
this.y=Math.abs(this.y)};I.rf=function(){return Math.sqrt(this.hm())};I.hm=function(){return this.x*this.x+this.y*this.y};I.bd=function(){var a=this.rf();if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};I.gm=function(){return isFinite(this.x)&&isFinite(this.y)};var Tb=function(a,b,c){this.x=a;this.y=b;this.J=c};I=Tb.prototype;I.fa=function(){this.J=this.y=this.x=0};I.H=function(a,b,c){this.x=a;this.y=b;this.J=c};I.G=function(a){this.x=a.x;this.y=a.y;this.J=a.J};I.Zg=function(){return new Tb(-this.x,
-this.y,-this.J)};I.Gs=function(){this.x=-this.x;this.y=-this.y;this.J=-this.J};I.gc=function(){return new Tb(this.x,this.y,this.J)};I.cg=function(a){this.x+=a.x;this.y+=a.y;this.J+=a.J};I.To=function(a){this.x-=a.x;this.y-=a.y;this.J-=a.J};I.$c=function(a){this.x*=a;this.y*=a;this.J*=a};var Zb=function(){this.cb=U.k.C.Ta};I=Zb.prototype;I.Ph=v();I.gc=v();I.H=function(a){this.cb=a.cb};I.Ti=v();I.ek=v();I.Vl=v();I.Lo=v();var $b=function(a){Zb.call(this);this.cb=a;this.Gj=a*a;this.bb=W(0,0)};V($b,Zb);
I=$b.prototype;I.Ph=G("b2CircleShape");I.gc=function(){var a=new $b(this.cb);a.H(this);return a};I.H=function(a){Zb.prototype.H.call(this,a);a instanceof $b&&this.bb.G(a.bb)};I.Ti=function(a,b){var c=b.m,d=b.position.x+(c.g.x*this.bb.x+c.j.x*this.bb.y),c=b.position.y+(c.g.y*this.bb.x+c.j.y*this.bb.y);a.na.H(d-this.cb,c-this.cb);a.pa.H(d+this.cb,c+this.cb)};I.ek=function(a,b){a.Rf=b*Math.PI*this.Gj;a.lg.G(this.bb);a.Vi=a.Rf*(0.5*this.Gj+(this.bb.x*this.bb.x+this.bb.y*this.bb.y))};I.Vl=function(a,b,
c,d){c=U.k.q.r.wc(c,this.bb);var e=-(U.k.q.r.Bb(a,c)-b);if(e<-this.cb+Number.MIN_VALUE)return 0;if(e>this.cb)return d.G(c),Math.PI*this.Gj;b=e*e;e=this.Gj*(Math.asin(e/this.cb)+Math.PI/2)+e*Math.sqrt(this.Gj-b);b=-2/3*Math.pow(this.Gj-b,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};I.Lo=function(a){a.O=[this.bb];a.la=1;a.cb=this.cb};var ac=function(a,b){Zb.call(this);this.BD=this.DD=r;this.ma=a;this.Fa=b;this.wi=W(this.Fa.x-this.ma.x,this.Fa.y-this.ma.y);this.Hq=this.wi.bd();this.qa=W(this.wi.y,-this.wi.x);
this.uD=W(-U.k.C.um*(this.qa.x-this.wi.x)+this.ma.x,-U.k.C.um*(this.qa.y-this.wi.y)+this.ma.y);this.vD=W(-U.k.C.um*(this.qa.x+this.wi.x)+this.Fa.x,-U.k.C.um*(this.qa.y+this.wi.y)+this.Fa.y);this.yD=this.qa;this.zD=W(-this.qa.x,-this.qa.y);this.xD=this.wD=s};V(ac,Zb);ac.prototype.Ph=G("b2EdgeShape");ac.prototype.Ti=function(a,b){var c=b.m,d=b.position.x+(c.g.x*this.ma.x+c.j.x*this.ma.y),e=b.position.y+(c.g.y*this.ma.x+c.j.y*this.ma.y),k=b.position.x+(c.g.x*this.Fa.x+c.j.x*this.Fa.y),c=b.position.y+
(c.g.y*this.Fa.x+c.j.y*this.Fa.y);d<k?(a.na.x=d,a.pa.x=k):(a.na.x=k,a.pa.x=d);e<c?(a.na.y=e,a.pa.y=c):(a.na.y=c,a.pa.y=e)};ac.prototype.ek=function(a){a.Rf=0;a.lg.G(this.ma);a.Vi=0};ac.prototype.Vl=function(a,b,c,d){b===n&&(b=0);var e=W(a.x*b,a.y*b),k=U.k.q.r.wc(c,this.ma);c=U.k.q.r.wc(c,this.Fa);var f=U.k.q.r.Bb(a,k)-b;a=U.k.q.r.Bb(a,c)-b;if(0<f){if(0<a)return 0;k.x=-a/(f-a)*k.x+f/(f-a)*c.x;k.y=-a/(f-a)*k.y+f/(f-a)*c.y}else 0<a&&(c.x=-a/(f-a)*k.x+f/(f-a)*c.x,c.y=-a/(f-a)*k.y+f/(f-a)*c.y);d.x=(e.x+
k.x+c.x)/3;d.y=(e.y+k.y+c.y)/3;return 0.5*((k.x-e.x)*(c.y-e.y)-(k.y-e.y)*(c.x-e.x))};var bc=function(){this.Rf=0;this.lg=W(0,0);this.Vi=0},cc=function(){Zb.call(this);this.vd=W(0,0);this.O=[];this.Ia=[]};V(cc,Zb);I=cc.prototype;I.Ph=G("b2PolygonShape");I.gc=function(){var a=new cc;a.H(this);return a};I.H=function(a){Zb.prototype.H.call(this,a);if(a instanceof cc){this.vd.G(a.vd);this.Ra=a.Ra;this.lm(this.Ra);for(var b=0;b<this.Ra;b++)this.O[b].G(a.O[b]),this.Ia[b].G(a.Ia[b])}};I.Us=function(a){this.jx(a)};
I.jx=function(a){var b=a.length;this.Ra=b;this.lm(b);for(b=b=0;b<this.Ra;b++)this.O[b].G(a[b]);for(b=0;b<this.Ra;++b)a=U.k.q.r.kb(this.O[b+1<this.Ra?b+1:0],this.O[b]),this.Ia[b].G(U.k.q.r.eg(a,1)),this.Ia[b].bd();a=this.O;for(var b=this.Ra,c=W(0,0),d=0,e=1/3,k=0;k<b;++k){var f=a[k],h=k+1<b?a[k+1]:a[0],g=0.5*((f.x-0)*(h.y-0)-(f.y-0)*(h.x-0)),d=d+g;c.x+=g*e*(0+f.x+h.x);c.y+=g*e*(0+f.y+h.y)}c.x*=1/d;c.y*=1/d;this.vd=c};I.Ko=function(a,b){this.Ra=4;this.lm(4);this.O[0].H(-a,-b);this.O[1].H(a,-b);this.O[2].H(a,
b);this.O[3].H(-a,b);this.Ia[0].H(0,-1);this.Ia[1].H(1,0);this.Ia[2].H(0,1);this.Ia[3].H(-1,0);this.vd.fa()};I.ix=function(a,b){this.Ra=2;this.lm(2);this.O[0].G(a);this.O[1].G(b);this.vd.x=0.5*(a.x+b.x);this.vd.y=0.5*(a.y+b.y);this.Ia[0]=U.k.q.r.eg(U.k.q.r.kb(b,a),1);this.Ia[0].bd();this.Ia[1].x=-this.Ia[0].x;this.Ia[1].y=-this.Ia[0].y};I.Ti=function(a,b){for(var c=b.m,d=this.O[0],e=b.position.x+(c.g.x*d.x+c.j.x*d.y),k=b.position.y+(c.g.y*d.x+c.j.y*d.y),f=e,h=k,g=1;g<this.Ra;++g)var d=this.O[g],l=
b.position.x+(c.g.x*d.x+c.j.x*d.y),d=b.position.y+(c.g.y*d.x+c.j.y*d.y),e=e<l?e:l,k=k<d?k:d,f=f>l?f:l,h=h>d?h:d;a.na.x=e-this.cb;a.na.y=k-this.cb;a.pa.x=f+this.cb;a.pa.y=h+this.cb};I.ek=function(a,b){if(2==this.Ra)a.lg.x=0.5*(this.O[0].x+this.O[1].x),a.lg.y=0.5*(this.O[0].y+this.O[1].y),a.Rf=0,a.Vi=0;else{for(var c=0,d=0,e=0,k=0,f=1/3,h=0;h<this.Ra;++h)var g=this.O[h],l=h+1<this.Ra?this.O[h+1]:this.O[0],m=g.x-0,q=g.y-0,u=l.x-0,t=l.y-0,w=m*t-q*u,x=0.5*w,e=e+x,c=c+x*f*(0+g.x+l.x),d=d+x*f*(0+g.y+l.y),
g=m,k=k+w*(f*(0.25*(g*g+u*g+u*u)+(0*g+0*u))+0+(f*(0.25*(q*q+t*q+t*t)+(0*q+0*t))+0));a.Rf=b*e;a.lg.H(c*(1/e),d*(1/e));a.Vi=b*k}};I.Vl=function(a,b,c,d){var e=U.k.q.r.fg(c.m,a),k=b-U.k.q.r.Bb(a,c.position),f=[],h=0,g=-1;b=-1;var l=s;for(a=a=0;a<this.Ra;++a){f[a]=U.k.q.r.Bb(e,this.O[a])-k;var m=f[a]<-Number.MIN_VALUE;0<a&&(m?l||(g=a-1,h++):l&&(b=a-1,h++));l=m}switch(h){case 0:return l?(a=new bc,this.ek(a,1),d.G(U.k.q.r.wc(c,a.lg)),a.Rf):0;case 1:-1==g?g=this.Ra-1:b=this.Ra-1}a=(g+1)%this.Ra;e=(b+1)%
this.Ra;k=(0-f[g])/(f[a]-f[g]);f=(0-f[b])/(f[e]-f[b]);g=W(this.O[g].x*(1-k)+this.O[a].x*k,this.O[g].y*(1-k)+this.O[a].y*k);b=W(this.O[b].x*(1-f)+this.O[e].x*f,this.O[b].y*(1-f)+this.O[e].y*f);f=0;k=W(0,0);for(h=this.O[a];a!=e;)a=(a+1)%this.Ra,l=a==e?b:this.O[a],m=0.5*((h.x-g.x)*(l.y-g.y)-(h.y-g.y)*(l.x-g.x)),f+=m,k.x+=m*(g.x+h.x+l.x)/3,k.y+=m*(g.y+h.y+l.y)/3,h=l;k.$c(1/f);d.G(U.k.q.r.wc(c,k));return f};I.Lo=function(a){a.O=this.O;a.la=this.Ra;a.cb=this.cb};I.em=function(a){for(var b=0,c=this.O[0].x*
a.x+this.O[0].y*a.y,d=1;d<this.Ra;++d){var e=this.O[d].x*a.x+this.O[d].y*a.y;e>c&&(b=d,c=e)}return b};I.nk=function(a){for(var b=0,c=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.Ra;++d){var e=this.O[d].x*a.x+this.O[d].y*a.y;e>c&&(b=d,c=e)}return this.O[b]};I.lm=function(a){this.O=[];this.Ia=[];for(var b=this.O.length;b<a;b++)this.O[b]=W(0,0),this.Ia[b]=W(0,0)};new Rb;var dc=function(){this.Xo=this.Wo=this.Yo=this.cd=0};I=dc.prototype;I.Rh=function(a){this.cd=a;this.Yo=this.cd&255;this.Wo=(this.cd&65280)>>
8&255;this.Xo=(this.cd&16711680)>>16&255;this.ft=(this.cd&4278190080)>>24&255};I.H=function(a){this.Rh(a.cd)};I.Ys=function(a){this.Yo=a;this.cd=this.cd&4294967040|this.Yo&255};I.Ws=function(a){this.Wo=a;this.cd=this.cd&4294902015|this.Wo<<8&65280};I.Xs=function(a){this.Xo=a;this.cd=this.cd&4278255615|this.Xo<<16&16711680};I.lx=function(a){this.ft=a;this.cd=this.cd&16777215|this.ft<<24&4278190080};I.gc=function(){var a=new dc;a.H(this);return a};var ec=function(){this.qe=W(0,0);this.id=new dc};ec.prototype.H=
function(a){this.qe.G(a.qe);this.id.H(a.id)};U.u.PB="Box2D.Collision.IBroadPhase";var fc=function(){this.na=W(0,0);this.pa=W(0,0)},gc=[],hc=function(){if(0<gc.length){var a=gc.pop();a.fa();return a}return new fc};I=fc.prototype;I.fa=function(){this.na.H(0,0);this.pa.H(0,0)};I.gm=function(){return 0>this.pa.x-this.na.x||0>this.pa.y-this.na.y?s:this.na.gm()&&this.pa.gm()};I.Hw=function(){return W((this.na.x+this.pa.x)/2,(this.na.y+this.pa.y)/2)};I.po=function(a){var b;return b=(b=(b=(b=p&&this.na.x<=
a.na.x)&&this.na.y<=a.na.y)&&a.pa.x<=this.pa.x)&&a.pa.y<=this.pa.y};I.Zi=function(a){return 0<a.na.x-this.pa.x||0<a.na.y-this.pa.y||0<this.na.x-a.pa.x||0<this.na.y-a.pa.y?s:p};I.Ul=function(a,b){this.na.x=Math.min(a.na.x,b.na.x);this.na.y=Math.min(a.na.y,b.na.y);this.pa.x=Math.max(a.pa.x,b.pa.x);this.pa.y=Math.max(a.pa.y,b.pa.y)};U.u.Q.ls=function(a,b,c,d){var e=0,k=b[0].qe,f=b[1].qe,h=c.x*k.x+c.y*k.y-d;c=c.x*f.x+c.y*f.y-d;0>=h&&a[e++].H(b[0]);0>=c&&a[e++].H(b[1]);0>h*c&&(c=h/(h-c),d=a[e].qe,d.x=
k.x+c*(f.x-k.x),d.y=k.y+c*(f.y-k.y),a[e].id=0<h?b[0].id:b[1].id,e++);return e};U.u.Q.hk=function(a,b,c,d,e){for(var k=b.m.g.x*a.Ia[c].x+b.m.j.x*a.Ia[c].y,f=b.m.g.y*a.Ia[c].x+b.m.j.y*a.Ia[c].y,h=e.m.g.x*k+e.m.g.y*f,g=e.m.j.x*k+e.m.j.y*f,l=0,m=Number.MAX_VALUE,q=0;q<d.Ra;q++){var u=d.O[q].x*h+d.O[q].y*g;u<m&&(m=u,l=q)}return(e.position.x+(e.m.g.x*d.O[l].x+e.m.j.x*d.O[l].y)-(b.position.x+(b.m.g.x*a.O[c].x+b.m.j.x*a.O[c].y)))*k+(e.position.y+(e.m.g.y*d.O[l].x+e.m.j.y*d.O[l].y)-(b.position.y+(b.m.g.y*
a.O[c].x+b.m.j.y*a.O[c].y)))*f};U.u.Q.qs=function(a,b,c,d){for(var e=d.position.x+(d.m.g.x*c.vd.x+d.m.j.x*c.vd.y),k=d.position.y+(d.m.g.y*c.vd.x+d.m.j.y*c.vd.y),e=e-(b.position.x+(b.m.g.x*a.vd.x+b.m.j.x*a.vd.y)),k=k-(b.position.y+(b.m.g.y*a.vd.x+b.m.j.y*a.vd.y)),f=e*b.m.g.x+k*b.m.g.y,k=e*b.m.j.x+k*b.m.j.y,e=0,h=-Number.MAX_VALUE,g=0;g<a.Ra;++g){var l=a.Ia[g].x*f+a.Ia[g].y*k;l>h&&(h=l,e=g)}f=U.u.Q.hk(a,b,e,c,d);k=e-1;0>k&&(k=a.Ra-1);h=U.u.Q.hk(a,b,k,c,d);g=e+1;g>=a.Ra&&(g=0);var l=U.u.Q.hk(a,b,g,c,
d),m=0,q=0;if(h>f&&h>l){m=k;for(q=h;;)if(e=m-1,0>e&&(e=a.Ra-1),f=U.u.Q.hk(a,b,e,c,d),f>q)m=e,q=f;else break}else if(l>f){m=g;for(q=l;;)if(e=m+1,e>=a.Ra&&(e=0),f=U.u.Q.hk(a,b,e,c,d),f>q)m=e,q=f;else break}else m=e,q=f;return{zt:m,Un:q}};U.u.Q.Ew=function(a,b,c,d,e){var k=U.u.Q.Gv;c===n&&(c=0);var f=b.m.g.x*a.Ia[c].x+b.m.j.x*a.Ia[c].y;a=b.m.g.y*a.Ia[c].x+b.m.j.y*a.Ia[c].y;b=e.m.g.x*f+e.m.g.y*a;a=e.m.j.x*f+e.m.j.y*a;f=b;b=0;for(var h=Number.MAX_VALUE,g=0;g<d.Ra;g++){var l=f*d.Ia[g].x+a*d.Ia[g].y;l<h&&
(h=l,b=g)}f=b+1;f>=d.Ra&&(f=0);k[0].qe.x=e.position.x+(e.m.g.x*d.O[b].x+e.m.j.x*d.O[b].y);k[0].qe.y=e.position.y+(e.m.g.y*d.O[b].x+e.m.j.y*d.O[b].y);k[0].id.Ys(c);k[0].id.Ws(b);k[0].id.Xs(0);k[1].qe.x=e.position.x+(e.m.g.x*d.O[f].x+e.m.j.x*d.O[f].y);k[1].qe.y=e.position.y+(e.m.g.y*d.O[f].x+e.m.j.y*d.O[f].y);k[1].id.Ys(c);k[1].id.Ws(f);k[1].id.Xs(1)};U.u.Q.Co=function(){return[new ec,new ec]};U.u.Q.xw=function(a,b,c,d,e){a.Sb=0;var k=b.cb+d.cb,f=U.u.Q.qs(b,c,d,e),h=f.zt;if(!(f.Un>k)){var g=U.u.Q.qs(d,
e,b,c);if(!(g.Un>k)){var l=b,m=d,q=c,u=e,t=0;a.Qa=ic;g.Un>0.98*f.Un+0.001&&(l=d,m=b,q=e,u=c,h=g.zt,a.Qa=jc,t=1);U.u.Q.Ew(l,q,h,m,u);b=l.O[h];h=h+1<l.Ra?l.O[h+1]:l.O[0];U.u.Q.Bh.H(h.x-b.x,h.y-b.y);U.u.Q.Bh.bd();U.u.Q.Br.x=U.u.Q.Bh.y;U.u.Q.Br.y=-U.u.Q.Bh.x;U.u.Q.Hv.H(0.5*(b.x+h.x),0.5*(b.y+h.y));U.u.Q.mf.x=q.m.g.x*U.u.Q.Bh.x+q.m.j.x*U.u.Q.Bh.y;U.u.Q.mf.y=q.m.g.y*U.u.Q.Bh.x+q.m.j.y*U.u.Q.Bh.y;U.u.Q.Cr.x=-U.u.Q.mf.x;U.u.Q.Cr.y=-U.u.Q.mf.y;U.u.Q.Rj.x=U.u.Q.mf.y;U.u.Q.Rj.y=-U.u.Q.mf.x;U.u.Q.Sj.x=q.position.x+
(q.m.g.x*b.x+q.m.j.x*b.y);U.u.Q.Sj.y=q.position.y+(q.m.g.y*b.x+q.m.j.y*b.y);U.u.Q.Tn.x=q.position.x+(q.m.g.x*h.x+q.m.j.x*h.y);U.u.Q.Tn.y=q.position.y+(q.m.g.y*h.x+q.m.j.y*h.y);if(!(2>U.u.Q.ls(U.u.Q.Ev,U.u.Q.Gv,U.u.Q.Cr,-U.u.Q.mf.x*U.u.Q.Sj.x-U.u.Q.mf.y*U.u.Q.Sj.y+k))&&!(2>U.u.Q.ls(U.u.Q.Pj,U.u.Q.Ev,U.u.Q.mf,U.u.Q.mf.x*U.u.Q.Tn.x+U.u.Q.mf.y*U.u.Q.Tn.y+k))){a.Bc.G(U.u.Q.Br);a.wa.G(U.u.Q.Hv);q=U.u.Q.Rj.x*U.u.Q.Sj.x+U.u.Q.Rj.y*U.u.Q.Sj.y;for(l=h=0;l<U.k.C.Zh;++l)U.u.Q.Rj.x*U.u.Q.Pj[l].qe.x+U.u.Q.Rj.y*
U.u.Q.Pj[l].qe.y-q<=k&&(b=U.u.Q.Pj[l].qe.x-u.position.x,c=U.u.Q.Pj[l].qe.y-u.position.y,a.ja[h].wa.x=b*u.m.g.x+c*u.m.g.y,a.ja[h].wa.y=b*u.m.j.x+c*u.m.j.y,a.ja[h].He.H(U.u.Q.Pj[l].id),a.ja[h].He.lx(t),h++);a.Sb=h}}}};U.u.Q.vw=function(a,b,c,d,e){a.Sb=0;var k=e.position.x+(e.m.g.x*d.bb.x+e.m.j.x*d.bb.y)-(c.position.x+(c.m.g.x*b.bb.x+c.m.j.x*b.bb.y));c=e.position.y+(e.m.g.y*d.bb.x+e.m.j.y*d.bb.y)-(c.position.y+(c.m.g.y*b.bb.x+c.m.j.y*b.bb.y));e=b.cb+d.cb;k*k+c*c>e*e||(a.Qa=kc,a.wa.G(b.bb),a.Bc.fa(),
a.Sb=1,a.ja[0].wa.G(d.bb),a.ja[0].He.Rh(0))};U.u.Q.ww=function(a,b,c,d,e){a.Sb=0;var k=e.position.x+(e.m.g.x*d.bb.x+e.m.j.x*d.bb.y)-c.position.x,f=e.position.y+(e.m.g.y*d.bb.x+e.m.j.y*d.bb.y)-c.position.y;e=k*c.m.g.x+f*c.m.g.y;c=k*c.m.j.x+f*c.m.j.y;for(var k=0,f=-Number.MAX_VALUE,h=b.cb+d.cb,g=0;g<b.Ra;++g){var l=b.Ia[g].x*(e-b.O[g].x)+b.Ia[g].y*(c-b.O[g].y);if(l>h)return;l>f&&(f=l,k=g)}l=k+1;l>=b.Ra&&(l=0);var g=b.O[k],m=b.O[l];f<Number.MIN_VALUE?(a.Sb=1,a.Qa=ic,a.Bc.G(b.Ia[k]),a.wa.x=0.5*(g.x+m.x),
a.wa.y=0.5*(g.y+m.y),a.ja[0].wa.G(d.bb),a.ja[0].He.Rh(0)):0>=(e-g.x)*(m.x-g.x)+(c-g.y)*(m.y-g.y)?(e-g.x)*(e-g.x)+(c-g.y)*(c-g.y)>h*h||(a.Sb=1,a.Qa=ic,a.Bc.x=e-g.x,a.Bc.y=c-g.y,a.Bc.bd(),a.wa.G(g),a.ja[0].wa.G(d.bb),a.ja[0].He.Rh(0)):0>=(e-m.x)*(g.x-m.x)+(c-m.y)*(g.y-m.y)?(e-m.x)*(e-m.x)+(c-m.y)*(c-m.y)>h*h||(a.Sb=1,a.Qa=ic,a.Bc.x=e-m.x,a.Bc.y=c-m.y,a.Bc.bd(),a.wa.G(m),a.ja[0].wa.G(d.bb),a.ja[0].He.Rh(0)):(l=0.5*(g.x+m.x),g=0.5*(g.y+m.y),f=(e-l)*b.Ia[k].x+(c-g)*b.Ia[k].y,f>h||(a.Sb=1,a.Qa=ic,a.Bc.x=
b.Ia[k].x,a.Bc.y=b.Ia[k].y,a.Bc.bd(),a.wa.H(l,g),a.ja[0].wa.G(d.bb),a.ja[0].He.Rh(0)))};U.u.Q.Zi=function(a,b){return 0<b.na.x-a.pa.x||0<b.na.y-a.pa.y||0<a.na.x-b.pa.x||0<a.na.y-b.pa.y?s:p};U.u.dp.$l=function(a,b,c){var d=new lc;d.bx(b,c.Ng,c.bo,c.Og,c.co);for(var e=0;20>e;){for(var k=[],f=0;f<d.la;f++)k[f]={},k[f].Yb=d.O[f].Yb,k[f].Zb=d.O[f].Zb;2==d.la?d.qx():3==d.la&&d.rx();if(3==d.la)break;f=d.Jw();if(f.hm()<U.k.C.jm)break;var h=f.Zg();d.O[d.la].Yb=c.Ng.em(U.k.q.r.fg(c.bo.m,h));d.O[d.la].Kc=U.k.q.r.wc(c.bo,
c.Ng.Ec(d.O[d.la].Yb));d.O[d.la].Zb=c.Og.em(U.k.q.r.fg(c.co.m,f));d.O[d.la].Re=U.k.q.r.wc(c.co,c.Og.Ec(d.O[d.la].Zb));d.O[d.la].Dc=U.k.q.r.kb(d.O[d.la].Re,d.O[d.la].Kc);Y(f);Y(h);e++;h=s;for(f=0;f<k.length;f++)if(d.O[d.la].Yb==k[f].Yb&&d.O[d.la].Zb==k[f].Zb){h=p;break}if(h)break;d.la++}d.Kw(a.jf,a.kf);a.Bf=U.k.q.r.kb(a.jf,a.kf).rf();d.Ex(b);c.iw&&(b=c.Ng.cb,c=c.Og.cb,a.Bf>b+c&&a.Bf>Number.MIN_VALUE?(a.Bf-=b+c,d=U.k.q.r.kb(a.kf,a.jf),d.bd(),a.jf.x+=b*d.x,a.jf.y+=b*d.y,a.kf.x-=c*d.x,a.kf.y-=c*d.y,Y(d)):
(c=W(0,0),c.x=0.5*(a.jf.x+a.kf.x),c.y=0.5*(a.jf.y+a.kf.y),a.jf.x=a.kf.x=c.x,a.jf.y=a.kf.y=c.y,a.Bf=0,Y(c)))};var mc=v(),nc=function(){this.jf=W(0,0);this.kf=W(0,0);this.Bf=0},oc=v();oc.prototype.H=function(a){a.Lo(this)};oc.prototype.em=function(a){for(var b=0,c=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.la;d++){var e=this.O[d].x*a.x+this.O[d].y*a.y;e>c&&(b=d,c=e)}return b};oc.prototype.nk=function(a){return this.O[this.em(a)]};oc.prototype.Ec=function(a){a===n&&(a=0);return this.O[a]};var pc=function(){this.Qf=
r;this.kA=this.CD=0};I=pc.prototype;I.fk=function(a,b){var c=qc(b);c.La.na.x=a.na.x-U.k.C.cj;c.La.na.y=a.na.y-U.k.C.cj;c.La.pa.x=a.pa.x+U.k.C.cj;c.La.pa.y=a.pa.y+U.k.C.cj;this.ys(c);return c};I.gk=function(a){this.Rs(a);a.rd()};I.Do=function(a,b,c){if(a.La.po(b))return s;this.Rs(a);var d=U.k.C.cj+U.k.C.qt*Math.abs(c.x);c=U.k.C.cj+U.k.C.qt*Math.abs(c.y);a.La.na.x=b.na.x-d;a.La.na.y=b.na.y-c;a.La.pa.x=b.pa.x+d;a.La.pa.y=b.pa.y+c;this.ys(a);return p};I.lk=function(a){return a.La};I.Io=function(a,b){if(this.Qf!==
r){var c=[];for(c.push(this.Qf);0<c.length;){var d=c.pop();if(d.La.Zi(b))if(d.zs()){if(!a(d.Ae))break}else c.push(d.Ed),c.push(d.wf)}}};I.ys=function(a){this.kA++;if(this.Qf===r)this.Qf=a,this.Qf.parent=r;else{var b=this.Gw(a),c=b.parent,d=qc();d.parent=c;d.La.Ul(a.La,b.La);if(c){b.parent.Ed==b?c.Ed=d:c.wf=d;d.Ed=b;d.wf=a;b.parent=d;for(a.parent=d;c&&!c.La.po(d.La);)c.La.Ul(c.Ed.La,c.wf.La),d=c,c=c.parent}else d.Ed=b,d.wf=a,b.parent=d,this.Qf=a.parent=d}};I.Gw=function(a){a=a.La.Hw();for(var b=this.Qf;!b.zs();)var c=
b.Ed,b=b.wf,d=Math.abs((c.La.na.x+c.La.pa.x)/2-a.x)+Math.abs((c.La.na.y+c.La.pa.y)/2-a.y),e=Math.abs((b.La.na.x+b.La.pa.x)/2-a.x)+Math.abs((b.La.na.y+b.La.pa.y)/2-a.y),b=d<e?c:b;Y(a);return b};I.Rs=function(a){if(a==this.Qf)this.Qf=r;else{var b=a.parent,c=b.parent;a=b.Ed==a?b.wf:b.Ed;if(c){c.Ed==b?c.Ed=a:c.wf=a;for(a.parent=c;c;){a=c.La;c.La.Ul(c.Ed.La,c.wf.La);if(a.po(c.La))break;c=c.parent}}else this.Qf=a,a.parent=r;b.rd()}};var rc=function(){this.Jg=new pc;this.Gn=[]};I=rc.prototype;I.fk=function(a,
b){var c=this.Jg.fk(a,b);this.js(c);return c};I.gk=function(a){this.Ax(a);this.Jg.gk(a)};I.Do=function(a,b,c){this.Jg.Do(a,b,c)&&this.js(a)};I.Zi=function(a,b){return this.Jg.lk(a).Zi(this.Jg.lk(b))};I.lk=function(a){return this.Jg.lk(a)};I.Bx=function(a){for(var b=[];0<this.Gn.length;){var c=this.Gn.pop();this.Jg.Io(function(a){a!=c.Ae&&b.push(new sc(c.Ae,a));return p},this.Jg.lk(c))}for(var d=0;d<b.length;){var e=b[d];a(e.Nk,e.Ok);for(d++;d<b.length;){var k=b[d];if(!(k.Nk==e.Nk&&k.Ok==e.Ok)&&!(k.Nk==
e.Ok&&k.Ok==e.Nk))break;d++}}};I.Io=function(a,b){this.Jg.Io(a,b)};I.js=function(a){this.Gn.push(a)};I.Ax=function(a){pa(this.Gn,a)};var tc=function(a){this.La=hc();this.Ae=this.parent=this.wf=this.Ed=r;"undefined"!=typeof a&&(this.Ae=a)},uc=[],qc=function(a){if(0<uc.length){var b=uc.pop();"undefined"!=typeof a&&(b.Ae=a);b.La.fa();return b}return new tc(a)};tc.prototype.rd=function(){this.Ae=this.parent=this.wf=this.Ed=r;uc.push(this)};tc.prototype.zs=function(){return this.Ed===r};var sc=function(a,
b){this.Nk=a;this.Ok=b},wc=function(){this.Qa=this.Sb=0;this.ja=[];for(var a=0;a<U.k.C.Zh;a++)this.ja[a]=new vc;this.Bc=W(0,0);this.wa=W(0,0)};wc.prototype.xc=function(){for(var a=0;a<U.k.C.Zh;a++)this.ja[a].xc();this.Bc.fa();this.wa.fa();this.Sb=this.Qa=0};wc.prototype.H=function(a){this.Sb=a.Sb;for(var b=0;b<U.k.C.Zh;b++)this.ja[b].H(a.ja[b]);this.Bc.G(a.Bc);this.wa.G(a.wa);this.Qa=a.Qa};wc.prototype.gc=function(){var a=new wc;a.H(this);return a};var kc=1,ic=2,jc=4,vc=function(){this.wa=W(0,0);
this.He=new dc;this.xc()};vc.prototype.xc=function(){this.wa.fa();this.Di=this.yi=0;this.He.Rh(0)};vc.prototype.H=function(a){this.wa.G(a.wa);this.yi=a.yi;this.Di=a.Di;this.He.H(a.He)};var xc=function(){this.wa=W(0,0);this.V=W(0,0)};xc.prototype.hc=function(a,b,c,d,e){this.sh=b;this.uh=d;var k,f,h,g=h=f=0,l=0;d=b=0;var m,q,g=0;1==a.count?(this.Qa=yc,k=this.sh.Ec(a.Yb[0]),a=this.uh.Ec(a.Zb[0]),q=k,m=c.m,f=c.position.x+(m.g.x*q.x+m.j.x*q.y),h=c.position.y+(m.g.y*q.x+m.j.y*q.y),q=a,m=e.m,g=e.position.x+
(m.g.x*q.x+m.j.x*q.y),l=e.position.y+(m.g.y*q.x+m.j.y*q.y),this.V.x=g-f,this.V.y=l-h,this.V.bd()):(a.Zb[0]==a.Zb[1]?(this.Qa=zc,b=this.sh.Ec(a.Yb[0]),d=this.sh.Ec(a.Yb[1]),a=this.uh.Ec(a.Zb[0]),this.wa.x=0.5*(b.x+d.x),this.wa.y=0.5*(b.y+d.y),this.V=U.k.q.r.eg(U.k.q.r.kb(d,b),1),this.V.bd(),q=this.V,m=c.m,b=m.g.x*q.x+m.j.x*q.y,d=m.g.y*q.x+m.j.y*q.y,q=this.wa,m=c.m,f=c.position.x+(m.g.x*q.x+m.j.x*q.y),h=c.position.y+(m.g.y*q.x+m.j.y*q.y),q=a,m=e.m,g=e.position.x+(m.g.x*q.x+m.j.x*q.y),l=e.position.y+
(m.g.y*q.x+m.j.y*q.y),g=(g-f)*b+(l-h)*d):a.Yb[0]==a.Yb[0]?(this.Qa=Ac,f=this.uh.Ec(a.Zb[0]),h=this.uh.Ec(a.Zb[1]),k=this.sh.Ec(a.Yb[0]),this.wa.x=0.5*(f.x+h.x),this.wa.y=0.5*(f.y+h.y),this.V=U.k.q.r.eg(U.k.q.r.kb(h,f),1),this.V.bd(),q=this.V,m=e.m,b=m.g.x*q.x+m.j.x*q.y,d=m.g.y*q.x+m.j.y*q.y,q=this.wa,m=e.m,g=e.position.x+(m.g.x*q.x+m.j.x*q.y),l=e.position.y+(m.g.y*q.x+m.j.y*q.y),q=k,m=c.m,f=c.position.x+(m.g.x*q.x+m.j.x*q.y),h=c.position.y+(m.g.y*q.x+m.j.y*q.y),g=(f-g)*b+(h-l)*d):(b=this.sh.Ec(a.Yb[0]),
d=this.sh.Ec(a.Yb[1]),f=this.uh.Ec(a.Zb[0]),h=this.uh.Ec(a.Zb[1]),g=U.k.q.r.Wb(c.m,U.k.q.r.kb(d,b)),l=U.k.q.r.Wb(e.m,U.k.q.r.kb(h,f)),e=g.x*g.x+g.y*g.y,c=l.x*l.x+l.y*l.y,k=U.k.q.r.kb(l,g),a=g.x*k.x+g.y*k.y,k=l.x*k.x+l.y*k.y,l=g.x*l.x+g.y*l.y,m=e*c-l*l,g=0,0!=m&&(g=U.k.q.r.qb((l*k-a*c)/m,0,1)),0>(l*g+k)/c&&(g=U.k.q.r.qb((l-a)/e,0,1)),k=W(0,0),k.x=b.x+g*(d.x-b.x),k.y=b.y+g*(d.y-b.y),a=W(0,0),a.x=f.x+g*(h.x-f.x),a.y=f.y+g*(h.y-f.y),0==g||1==g?(this.Qa=Ac,this.V=U.k.q.r.eg(U.k.q.r.kb(h,f),1),this.V.bd(),
this.wa=a):(this.Qa=zc,this.V=U.k.q.r.eg(U.k.q.r.kb(d,b),1),this.wa=k)),0>g&&this.V.Gs())};xc.prototype.qf=function(a,b){var c,d,e=0;switch(this.Qa){case yc:c=U.k.q.r.fg(a.m,this.V);d=U.k.q.r.fg(b.m,this.V.Zg());c=this.sh.nk(c);d=this.uh.nk(d);c=U.k.q.r.wc(a,c);d=U.k.q.r.wc(b,d);e=(d.x-c.x)*this.V.x+(d.y-c.y)*this.V.y;break;case zc:e=U.k.q.r.Wb(a.m,this.V);c=U.k.q.r.wc(a,this.wa);d=U.k.q.r.fg(b.m,e.Zg());d=this.uh.nk(d);d=U.k.q.r.wc(b,d);e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;break;case Ac:e=U.k.q.r.Wb(b.m,
this.V),d=U.k.q.r.wc(b,this.wa),c=U.k.q.r.fg(a.m,e.Zg()),c=this.sh.nk(c),c=U.k.q.r.wc(a,c),e=(c.x-d.x)*e.x+(c.y-d.y)*e.y}return e};var yc=1,zc=2,Ac=4,lc=function(){this.ma=new Bc;this.Fa=new Bc;this.Jd=new Bc;this.O=[this.ma,this.Fa,this.Jd]};I=lc.prototype;I.bx=function(a,b,c,d,e){var k,f;this.la=a.count;for(var h=this.O,g=0;g<this.la;g++){var l=h[g];l.Yb=a.Yb[g];l.Zb=a.Zb[g];k=b.Ec(l.Yb);f=d.Ec(l.Zb);l.Kc=U.k.q.r.wc(c,k);l.Re=U.k.q.r.wc(e,f);l.Dc=U.k.q.r.kb(l.Re,l.Kc);l.K=0}if(1<this.la&&(a=a.yA,
k=this.vs(),k<0.5*a||2*a<k||k<Number.MIN_VALUE))this.la=0;0==this.la&&(l=h[0],l.Yb=0,l.Zb=0,k=b.Ec(0),f=d.Ec(0),l.Kc=U.k.q.r.wc(c,k),l.Re=U.k.q.r.wc(e,f),l.Dc=U.k.q.r.kb(l.Re,l.Kc),this.la=1)};I.Ex=function(a){a.yA=this.vs();a.count=this.la;for(var b=this.O,c=0;c<this.la;c++)a.Yb[c]=b[c].Yb,a.Zb[c]=b[c].Zb};I.Jw=function(){if(1==this.la)return this.ma.Dc.Zg();if(2==this.la){var a=U.k.q.r.kb(this.Fa.Dc,this.ma.Dc);return 0<U.k.q.r.Oh(a,this.ma.Dc.Zg())?U.k.q.r.ro(1,a):U.k.q.r.eg(a,1)}return W(0,0)};
I.Kw=function(a,b){1==this.la?(a.G(this.ma.Kc),b.G(this.ma.Re)):2==this.la?(a.x=this.ma.K*this.ma.Kc.x+this.Fa.K*this.Fa.Kc.x,a.y=this.ma.K*this.ma.Kc.y+this.Fa.K*this.Fa.Kc.y,b.x=this.ma.K*this.ma.Re.x+this.Fa.K*this.Fa.Re.x,b.y=this.ma.K*this.ma.Re.y+this.Fa.K*this.Fa.Re.y):3==this.la&&(b.x=a.x=this.ma.K*this.ma.Kc.x+this.Fa.K*this.Fa.Kc.x+this.Jd.K*this.Jd.Kc.x,b.y=a.y=this.ma.K*this.ma.Kc.y+this.Fa.K*this.Fa.Kc.y+this.Jd.K*this.Jd.Kc.y)};I.vs=function(){return 1==this.la?0:2==this.la?U.k.q.r.kb(this.ma.Dc,
this.Fa.Dc).rf():3==this.la?U.k.q.r.Oh(U.k.q.r.kb(this.Fa.Dc,this.ma.Dc),U.k.q.r.kb(this.Jd.Dc,this.ma.Dc)):0};I.qx=function(){var a=this.ma.Dc,b=this.Fa.Dc,c=U.k.q.r.kb(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.la=this.ma.K=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.la=this.Fa.K=1,this.ma.H(this.Fa)):(c=1/(b+a),this.ma.K=b*c,this.Fa.K=a*c,this.la=2))};I.rx=function(){var a=this.ma.Dc,b=this.Fa.Dc,c=this.Jd.Dc,d=U.k.q.r.kb(b,a),e=U.k.q.r.Bb(b,d),k=-U.k.q.r.Bb(a,d),f=U.k.q.r.kb(c,a),h=U.k.q.r.Bb(c,f),g=-U.k.q.r.Bb(a,
f),l=U.k.q.r.kb(c,b),m=U.k.q.r.Bb(c,l),l=-U.k.q.r.Bb(b,l),f=U.k.q.r.Oh(d,f),d=f*U.k.q.r.Oh(b,c),c=f*U.k.q.r.Oh(c,a),a=f*U.k.q.r.Oh(a,b);0>=k&&0>=g?this.la=this.ma.K=1:0<e&&0<k&&0>=a?(h=1/(e+k),this.ma.K=e*h,this.Fa.K=k*h,this.la=2):0<h&&0<g&&0>=c?(e=1/(h+g),this.ma.K=h*e,this.Jd.K=g*e,this.la=2,this.Fa.H(this.Jd)):0>=e&&0>=l?(this.la=this.Fa.K=1,this.ma.H(this.Fa)):0>=h&&0>=m?(this.la=this.Jd.K=1,this.ma.H(this.Jd)):0<m&&0<l&&0>=d?(e=1/(m+l),this.Fa.K=m*e,this.Jd.K=l*e,this.la=2,this.ma.H(this.Jd)):
(e=1/(d+c+a),this.ma.K=d*e,this.Fa.K=c*e,this.Jd.K=a*e,this.la=3)};var Cc=function(){this.Yb=[0,0,0];this.Zb=[0,0,0]},Bc=v();Bc.prototype.H=function(a){this.Kc.G(a.Kc);this.Re.G(a.Re);this.Dc.G(a.Dc);this.K=a.K;this.Yb=a.Yb;this.Zb=a.Zb};var Dc=function(){this.Ng=new oc;this.Og=new oc;this.Qv=new Vb;this.Rv=new Vb};U.u.$={};U.u.$.yx=function(){var a=Ec;U.u.$.gy++;var b=a.Ng,c=a.Og,d=a.Qv,e=a.Rv,k=b.cb+c.cb,a=a.oB,f=0,h=0,g=0;U.u.$.Ar.count=0;for(U.u.$.Qj.iw=s;;){d.Bd(U.u.$.Ch,f);e.Bd(U.u.$.Dh,f);
U.u.$.Qj.Ng=b;U.u.$.Qj.Og=c;U.u.$.Qj.bo=U.u.$.Ch;U.u.$.Qj.co=U.u.$.Dh;U.u.dp.$l(U.u.$.Fv,U.u.$.Ar,U.u.$.Qj);if(0>=U.u.$.Fv.Bf){f=1;break}U.u.$.Sn.hc(U.u.$.Ar,b,U.u.$.Ch,c,U.u.$.Dh);var l=U.u.$.Sn.qf(U.u.$.Ch,U.u.$.Dh);if(0>=l){f=1;break}0==h&&(g=l>k?Math.max(k-a,0.75*k):Math.max(l-a,0.02*k));if(l-g<0.5*a){if(0==h){f=1;break}break}var m=f,q=f,u=1;d.Bd(U.u.$.Ch,u);e.Bd(U.u.$.Dh,u);var t=U.u.$.Sn.qf(U.u.$.Ch,U.u.$.Dh);if(t>=g){f=1;break}for(var w=0;;){var x=0,x=w&1?q+(g-l)*(u-q)/(t-l):0.5*(q+u);d.Bd(U.u.$.Ch,
x);e.Bd(U.u.$.Dh,x);var A=U.u.$.Sn.qf(U.u.$.Ch,U.u.$.Dh);if(Math.abs(A-g)<0.025*a){m=x;break}A>g?(q=x,l=A):(u=x,t=A);w++;U.u.$.iy++;if(50==w)break}U.u.$.yt=Math.max(U.u.$.yt,w);if(m<(1+100*Number.MIN_VALUE)*f)break;f=m;h++;U.u.$.hy++;if(1E3==h)break}U.u.$.xt=Math.max(U.u.$.xt,h);return f};var Fc=function(){this.qa=W(0,0);this.ja=[];for(var a=this.Sb=0;a<U.k.C.Zh;a++)this.ja[a]=W(0,0)};Fc.prototype.hc=function(a,b,c,d,e){if(0!=a.Sb){var k=0,f,h,g=0,l=0,m=0,q=0,u=0;f=0;switch(a.Qa){case kc:h=b.m;f=
a.wa;k=b.position.x+h.g.x*f.x+h.j.x*f.y;b=b.position.y+h.g.y*f.x+h.j.y*f.y;h=d.m;f=a.ja[0].wa;a=d.position.x+h.g.x*f.x+h.j.x*f.y;d=d.position.y+h.g.y*f.x+h.j.y*f.y;f=a-k;h=d-b;g=f*f+h*h;g>U.k.C.jm?(g=Math.sqrt(g),this.qa.x=f/g,this.qa.y=h/g):(this.qa.x=1,this.qa.y=0);f=b+c*this.qa.y;d-=e*this.qa.y;this.ja[0].x=0.5*(k+c*this.qa.x+(a-e*this.qa.x));this.ja[0].y=0.5*(f+d);break;case ic:h=b.m;f=a.Bc;g=h.g.x*f.x+h.j.x*f.y;l=h.g.y*f.x+h.j.y*f.y;h=b.m;f=a.wa;m=b.position.x+h.g.x*f.x+h.j.x*f.y;q=b.position.y+
h.g.y*f.x+h.j.y*f.y;this.qa.x=g;this.qa.y=l;for(k=0;k<a.Sb;k++)h=d.m,f=a.ja[k].wa,u=d.position.x+h.g.x*f.x+h.j.x*f.y,f=d.position.y+h.g.y*f.x+h.j.y*f.y,this.ja[k].x=u+0.5*(c-(u-m)*g-(f-q)*l-e)*g,this.ja[k].y=f+0.5*(c-(u-m)*g-(f-q)*l-e)*l;break;case jc:h=d.m;f=a.Bc;g=h.g.x*f.x+h.j.x*f.y;l=h.g.y*f.x+h.j.y*f.y;h=d.m;f=a.wa;m=d.position.x+h.g.x*f.x+h.j.x*f.y;q=d.position.y+h.g.y*f.x+h.j.y*f.y;this.qa.x=-g;this.qa.y=-l;for(k=0;k<a.Sb;k++)h=b.m,f=a.ja[k].wa,u=b.position.x+h.g.x*f.x+h.j.x*f.y,f=b.position.y+
h.g.y*f.x+h.j.y*f.y,this.ja[k].x=u+0.5*(e-(u-m)*g-(f-q)*l-c)*g,this.ja[k].y=f+0.5*(e-(u-m)*g-(f-q)*l-c)*l}}};var Kc=function(a,b){this.Zc="Body"+Gc++;this.B=new Wb;this.B.position.G(a.position);this.B.m.H(a.L);this.i=new Vb;this.i.N.fa();this.i.Wc=1;this.i.ue=this.i.K=a.L;this.i.p.x=this.B.m.g.x*this.i.N.x+this.B.m.j.x*this.i.N.y;this.i.p.y=this.B.m.g.y*this.i.N.x+this.B.m.j.y*this.i.N.y;this.i.p.x+=this.B.position.x;this.i.p.y+=this.B.position.y;this.i.zc.G(this.i.p);this.n=a.uq.gc();this.Dg=W(0,
0);this.Bj=a.$h;this.eA=a.Cp;this.Dq=a.kt;this.Hc=a.pt;this.Cq=a.we;this.zb=b;this.yb=r;this.hd=new Hc;this.ci=new Ic;this.tD=0;this.D=a.lt;this.mA=a.qi;this.$z=a.Vh;this.nl=this.Ei=0;this.Qa=a.type;this.T=2==this.Qa?1:0;this.I=2==this.Qa?1:0;this.U=this.Ee=0;this.jA=a.ou;this.lj=new Jc;this.En=[]};I=Kc.prototype;I.Wl=function(a){a=new Lc(this,0,a);this.Cq&&a.fk(this.zb.kd.Aj,this.B);this.lj.nw(a);a.vi=this;0<a.Fq&&this.Ts();this.zb.Mq=p;return a};I.rd=function(){Y(this.n);Y(this.Dg)};I.ns=function(a){this.lj.cx(a);
for(var b=this.hd.Ea(Mc);b;b=b.next)(a==b.Pb.Nb||a==b.Pb.Db)&&this.zb.kd.rd(b.Pb);this.Cq&&a.gk(this.zb.kd.Aj);a.rd();a.vi=r;this.Ts()};I.wk=function(a,b){this.B.m.H(b);this.B.position.G(a);var c=this.B.m,d=this.i.N;this.i.p.x=c.g.x*d.x+c.j.x*d.y;this.i.p.y=c.g.y*d.x+c.j.y*d.y;this.i.p.x+=this.B.position.x;this.i.p.y+=this.B.position.y;this.i.zc.G(this.i.p);this.i.ue=this.i.K=b;c=this.zb.kd.Aj;for(d=this.lj.Ea();d;d=d.next)d.Ae.bt(c,this.B,this.B);this.zb.kd.am()};I.Bd=y("B");I.Mo=function(a){this.wk(a,
this.zd())};I.zd=function(){return this.i.K};I.mm=function(a){this.wk(this.B.position,a)};I.Sh=function(a){0!=this.Qa&&this.n.G(a)};I.vk=function(a){a===n&&(a=0);0!=this.Qa&&(this.D=a)};I.dg=function(a,b){2==this.Qa&&(this.Mc(p),this.Dg.x+=a.x,this.Dg.y+=a.y,this.Ei+=(b.x-this.i.p.x)*a.y-(b.y-this.i.p.y)*a.x)};I.oo=function(a){a===n&&(a=0);2==this.Qa&&(this.Mc(p),this.Ei+=a)};I.us=function(a){a||(a=new bc);a.Rf=this.T;a.Vi=this.Ee;a.lg.G(this.i.N);return a};I.Ts=function(){this.U=this.Ee=this.I=this.T=
0;this.i.N.fa();if(!(0==this.Qa||1==this.Qa)){for(var a=W(0,0),b=this.lj.Ea();b;b=b.next){var c=b.Ae;0!=c.Fq&&(c=c.us(),this.T+=c.Rf,a.x+=c.lg.x*c.Rf,a.y+=c.lg.y*c.Rf,this.Ee+=c.Vi)}0<this.T?(this.I=1/this.T,a.x*=this.I,a.y*=this.I):this.I=this.T=1;0<this.Ee&&!this.eA?(this.Ee-=this.T*(a.x*a.x+a.y*a.y),this.Ee*=this.jA,this.U=1/this.Ee):this.U=this.Ee=0;b=this.i.p.gc();this.i.N.G(a);this.i.zc.G(U.k.q.r.wc(this.B,this.i.N));this.i.p.G(this.i.zc);this.n.x+=this.D*-(this.i.p.y-b.y);this.n.y+=this.D*
+(this.i.p.x-b.x);Y(a);Y(b)}};I.fm=function(a){var b=this.B.m;a=W(b.g.x*a.x+b.j.x*a.y,b.g.y*a.x+b.j.y*a.y);a.x+=this.B.position.x;a.y+=this.B.position.y;return a};I.zo=function(a){return U.k.q.r.Wb(this.B.m,a)};I.Ad=function(a){return U.k.q.r.Fs(this.B,a)};I.yo=function(a){return U.k.q.r.fg(this.B.m,a)};I.Iw=function(a){return W(this.n.x-this.D*(a.y-this.i.p.y),this.n.y+this.D*(a.x-this.i.p.x))};I.vc=y("Qa");I.Mc=function(a){if(this.Hc!=a){this.Hc=a;this.nl=0;a||(this.n.fa(),this.D=0,this.Dg.fa(),
this.Ei=0);for(a=0;a<this.En.length;a++)this.En[a].et(this)}};I.Wi=y("Cq");I.wo=y("lj");I.bk=function(a){this.ci.bk(a)};I.uk=function(a){this.ci.uk(a)};I.Yg=y("hd");I.ct=function(){Nc.m.H(this.i.ue);var a=Nc.m,b=this.i.N;Nc.position.x=this.i.zc.x-(a.g.x*b.x+a.j.x*b.y);Nc.position.y=this.i.zc.y-(a.g.y*b.x+a.j.y*b.y);a=this.zb.kd.Aj;for(b=this.lj.Ea();b;b=b.next)b.Ae.bt(a,Nc,this.B)};I.Cb=function(){this.B.m.H(this.i.K);var a=this.B.m,b=this.i.N;this.B.position.x=this.i.p.x-(a.g.x*b.x+a.j.x*b.y);this.B.position.y=
this.i.p.y-(a.g.y*b.x+a.j.y*b.y)};I.Xi=function(a){if(2!=this.Qa&&2!=a.Qa)return s;for(var b=this.yb;b;b=b.next)if(b.ne==a&&b.yg.Pu==s)return s;return p};I.Xg=function(a){this.i.Xg(a);this.i.p.G(this.i.zc);this.i.K=this.i.ue;this.Cb()};var Gc=0,Oc=function(){this.position=W(0,0);this.uq=W(0,0);this.Vh=this.qi=this.lt=this.L=0;this.pt=this.kt=p;this.$h=this.Cp=s;this.type=0;this.we=p;this.ou=1},Qc=function(){this.ym=[];for(var a=0;a<=Pc;a++)this.ym[a]=r;this.zm=[];for(a=0;a<=Pc;a++)this.zm[a]=r;this.fj=
{};this.Bt=0};I=Qc.prototype;I.Ea=function(a){return this.ym[a]};I.Ri=function(a){var b=a.Zc;this.fj[b]==r&&(this.pf(a,b,Pc),this.et(a),a.En.push(this),this.Bt++)};I.et=function(a){var b=a.vc(),c=a.Zc,d=a.Hc,e=a.Wi();2==b?this.pf(a,c,Rc):this.sf(c,Rc);0!=b?this.pf(a,c,Sc):this.sf(c,Sc);0!=b&&e&&d?this.pf(a,c,Tc):this.sf(c,Tc);d?this.pf(a,c,Uc):this.sf(c,Uc);e?this.pf(a,c,Vc):this.sf(c,Vc)};I.tk=function(a){var b=a.Zc;if(this.fj[b]!=r){pa(a.En,this);for(a=0;a<=Pc;a++)this.sf(b,a);delete this.fj[b];
this.Bt--}};I.sf=function(a,b){var c=this.fj[a];if(c!=r){var d=c[b];d!=r&&(c[b]=r,c=d.Le,d=d.next,c==r?this.ym[b]=d:c.Te(d),d==r?this.zm[b]=c:d.Ue(c))}};I.pf=function(a,b,c){var d=this.fj[b];if(d==r){for(var d=[],e=0;e<=Pc;e++)d[e]=r;this.fj[b]=d}d[c]==r&&(d[c]=new Wc(a),a=this.zm[c],a!=r?a.Te(d[c]):this.ym[c]=d[c],d[c].Ue(a),this.zm[c]=d[c])};var Rc=0,Sc=1,Vc=2,Tc=3,Uc=4,Pc=5,Wc=function(a){this.body=a;this.Le=this.next=r};Wc.prototype.Te=aa("next");Wc.prototype.Ue=aa("Le");Wc.prototype.Ka=y("body");
var Xc=v();Xc.prototype.Xi=function(a,b){var c=a.ts(),d=b.ts();return c.hi==d.hi&&0!=c.hi?0<c.hi:0!=(c.ol&d.Ek)&&0!=(c.Ek&d.ol)};var Yc=new Xc,Zc=function(){this.BA=[];this.kB=[]},$c=v();$c.prototype.Sl=v();var cd=function(a){this.zb=a;this.Eq=Yc;this.Bg=ad;this.Qu=new bd;this.Aj=new rc};cd.prototype.qw=function(a,b){var c=a.Ka(),d=b.Ka();if(c!=d&&d.Xi(c)&&this.Eq.Xi(a,b)){for(c=d.hd.Ea(Mc);c;c=c.next)if(d=c.Pb.Nb,d==a){if(d=c.Pb.Db,d==b)return}else if(d==b&&(d=c.Pb.Db,d==a))return;this.Qu.of(a,b)}};
cd.prototype.am=function(){var a=this;this.Aj.Bx(function(b,c){a.qw(b,c)})};cd.prototype.rd=function(a){0<a.ke.Sb&&(a.Nb.Ka().Mc(p),a.Db.Ka().Mc(p));a.gx();this.Qu.rd(a)};cd.prototype.uw=function(){for(var a=this.zb.hd.Ea(Mc);a;a=a.next){var b=a.Pb,c=b.Nb,d=b.Db,e=c.Ka(),k=d.Ka();if(!(e.Hc==s&&k.Hc==s)){if(b.Pm){if(k.Xi(e)==s){this.rd(b);continue}if(this.Eq.Xi(c,d)==s){this.rd(b);continue}b.sw()}this.Aj.Zi(c.Ai,d.Ai)==s?this.rd(b):b.dt(this.Bg)}}};var dd=function(){this.Ek=1;this.ol=65535;this.hi=
0};dd.prototype.gc=function(){var a=new dd;a.Ek=this.Ek;a.ol=this.ol;a.hi=this.hi;return a};var Lc=function(a,b,c){this.Zc="Fixture"+ed++;this.dA=c.filter.gc();this.ti=hc();this.vi=a;this.Ig=c.shape.gc();this.Fq=c.Af;this.Ru=c.rg;this.Xu=c.Pg;this.hl=c.xu};I=Lc.prototype;I.Yc=y("Ig");I.No=function(a){if(this.hl!=a&&(this.hl=a,this.vi!=r))for(a=this.vi.hd.Ea(Mc);a;a=a.next){var b=a.Pb.Nb,c=a.Pb.Db;if(b==this||c==this)a.Pb.No(b.Ki||c.Ki)}};I.Qh=y("hl");I.ts=function(){return this.dA.gc()};I.Ka=y("vi");
I.us=function(a){a||(a=new bc);this.Ig.ek(a,this.Fq);return a};I.rd=function(){gc.push(this.ti)};I.fk=function(a,b){this.Ig.Ti(this.ti,b);this.Ai=a.fk(this.ti,this)};I.gk=function(a){this.Ai!=r&&(a.gk(this.Ai),this.Ai=r)};I.bt=function(a,b,c){if(this.Ai){var d=hc(),e=hc();this.Ig.Ti(d,b);this.Ig.Ti(e,c);this.ti.Ul(d,e);gc.push(d);gc.push(e);b=U.k.q.r.kb(c.position,b.position);a.Do(this.Ai,this.ti,b);Y(b)}};var ed=0,fd=function(){this.filter=new dd;this.filter.Ek=1;this.filter.ol=65535;this.filter.hi=
0;this.shape=r;this.rg=0.2;this.Af=this.Pg=0;this.xu=s},Jc=function(){this.Ep=this.Dp=r;this.Rm={};this.bu=0};Jc.prototype.Ea=y("Dp");Jc.prototype.nw=function(a){var b=a.Zc;if(this.Rm[b]==r){a=new gd(a);var c=this.Ep;c!=r?c.Te(a):this.Dp=a;a.Ue(c);this.Ep=a;this.Rm[b]=a;this.bu++}};Jc.prototype.cx=function(a){a=a.Zc;var b=this.Rm[a];if(b!=r){var c=b.Le,b=b.next;c==r?this.Dp=b:c.Te(b);b==r?this.Ep=c:b.Ue(c);delete this.Rm[a];this.bu--}};var gd=function(a){this.Ae=a;this.Le=this.next=r};gd.prototype.Te=
aa("next");gd.prototype.Ue=aa("Le");var hd=function(a,b){this.nA=a;this.ff=b;this.Jf=[];this.Bn=[];this.rh=[];this.Cg=[];this.Tc=[]};I=hd.prototype;I.Tl=function(){this.Jf=[];this.Bn=[];this.rh=[];this.Cg=[];this.Tc=[]};I.ah=function(a,b,c){this.Ix(a,b);this.ff.hc(a,this.Cg,this.Cg.length);this.Ox(a);this.Kx(a);this.Lx(a);this.Ss(this.ff.Kf);c&&this.Jx(a)};I.Ix=function(a,b){for(var c=0;c<this.Bn.length;c++){var d=this.Bn[c];d.n.x+=a.Ca*(b.x+d.I*d.Dg.x);d.n.y+=a.Ca*(b.y+d.I*d.Dg.y);d.D+=a.Ca*d.U*
d.Ei;d.n.$c(U.k.q.r.qb(1-a.Ca*d.mA,0,1));d.D*=U.k.q.r.qb(1-a.Ca*d.$z,0,1)}};I.Ox=function(a){this.ff.te(a);for(var b=0;b<this.Tc.length;b++)this.Tc[b].te(a);for(b=0;b<a.Pl;b++){for(var c=0;c<this.Tc.length;c++)this.Tc[c].Zd(a);this.ff.Zd()}for(a=0;a<this.Tc.length;a++)this.Tc[a].uo();this.ff.uo()};I.Kx=function(a){for(var b=0;b<this.rh.length;++b){var c=this.rh[b],d=a.Ca*c.n.x,e=a.Ca*c.n.y;d*d+e*e>U.k.C.ut&&(c.n.bd(),c.n.x*=U.k.C.ej*a.ug,c.n.y*=U.k.C.ej*a.ug);d=a.Ca*c.D;d*d>U.k.C.tt&&(c.D=0>c.D?-U.k.C.dj*
a.ug:U.k.C.dj*a.ug);c.i.zc.G(c.i.p);c.i.ue=c.i.K;c.i.p.x+=a.Ca*c.n.x;c.i.p.y+=a.Ca*c.n.y;c.i.K+=a.Ca*c.D;c.Cb()}};I.Lx=function(a){for(var b=0;b<a.yl;b++){for(var c=this.ff.Yd(U.k.C.fp),d=p,e=0;e<this.Tc.length;e++)var k=this.Tc[e].Yd(U.k.C.fp),d=d&&k;if(c&&d)break}};I.Jx=function(a){for(var b=Number.MAX_VALUE,c=0;c<this.rh.length;c++){var d=this.rh[c];!d.Dq||Math.abs(d.D)>U.k.C.ep||U.k.q.r.Bb(d.n,d.n)>U.k.C.by?b=d.nl=0:(d.nl+=a.Ca,b=Math.min(b,d.nl))}if(b>=U.k.C.fy)for(a=0;a<this.Jf.length;a++)this.Jf[a].Mc(s)};
I.Ro=function(a){var b=0,c=0;this.ff.hc(a,this.Cg,this.Cg.length);for(var d=this.ff,b=0;b<this.Tc.length;++b)this.Tc[b].te(a);for(b=0;b<a.Pl;++b){d.Zd();for(c=0;c<this.Tc.length;++c)this.Tc[c].Zd(a)}for(b=0;b<this.rh.length;++b){var c=this.rh[b],e=a.Ca*c.n.x,k=a.Ca*c.n.y;e*e+k*k>U.k.C.ut&&(c.n.bd(),c.n.x*=U.k.C.ej*a.ug,c.n.y*=U.k.C.ej*a.ug);e=a.Ca*c.D;e*e>U.k.C.tt&&(c.D=0>c.D?-U.k.C.dj*a.ug:U.k.C.dj*a.ug);c.i.zc.G(c.i.p);c.i.ue=c.i.K;c.i.p.x+=a.Ca*c.n.x;c.i.p.y+=a.Ca*c.n.y;c.i.K+=a.Ca*c.D;c.Cb()}for(b=
0;b<a.yl;++b){e=d.Yd(0.75);k=p;for(c=0;c<this.Tc.length;++c)var f=this.Tc[c].Yd(U.k.C.fp),k=k&&f;if(e&&k)break}this.Ss(d.Kf)};I.Ss=function(a){if(this.nA!=r)for(var b=0;b<this.Cg.length;++b)for(var c=a[b],d=new Zc,e=0;e<c.Ke;++e)d.BA[e]=c.Ub[e].Tb,d.kB[e]=c.Ub[e].Yf};I.Ri=function(a){this.Jf.push(a);0!=a.vc()&&(this.rh.push(a),2==a.vc()&&this.Bn.push(a))};I.Si=function(a){this.Cg.push(a)};I.gs=function(a){this.Tc.push(a)};var id=function(a,b,c,d,e){this.Ca=a;var k=0;0<a&&(k=1/a);this.ug=k;this.jc=
b;this.yl=c;this.Pl=d;this.Vg=e},kd=function(a,b){this.kd=new cd(this);this.ff=new jd;this.Mq=this.Uu=s;this.AD=r;this.yc=new Qc;this.hd=new Hc;this.yb=r;this.ci=new Ic;this.Dn=0;this.bA=this.tA=p;this.Dq=b;this.Su=a;this.Tu=0;this.iA=this.qo(new Oc)},ld=1-100*Number.MIN_VALUE;I=kd.prototype;I.kx=function(a){this.kd.Eq=a};I.Vs=function(a){this.kd.Bg=a};I.qo=function(a){a=new Kc(a,this);this.yc.Ri(a);return a};I.Zl=function(a){for(var b=a.yb;b;){var c=b,b=b.next;this.so(c.yg)}for(b=a.ci.Ea();b;b=b.next)b.Lt.tk(a);
for(b=a.hd.Ea(Mc);b;b=b.next)this.kd.rd(b.Pb);for(b=a.wo().Ea();b;b=b.next)a.ns(b.Ae);a.rd();this.yc.tk(a)};I.Xl=function(a){var b=a.of();b.Dj=r;if(b.Pf=this.yb)this.yb.Dj=b;this.yb=b;this.Dn++;b.md.yg=b;b.md.ne=b.X;b.md.prev=r;if(b.md.next=b.W.yb)b.W.yb.prev=b.md;b.W.yb=b.md;b.nd.yg=b;b.nd.ne=b.W;b.nd.prev=r;if(b.nd.next=b.X.yb)b.X.yb.prev=b.nd;b.X.yb=b.nd;var c=a.M,d=a.P;if(!a.lp)for(a=d.hd.Ea(Mc);a;a=a.next)a.Pb.dm(d)==c&&a.Pb.rs();return b};I.so=function(a){var b=a.Pu;a.Dj&&(a.Dj.Pf=a.Pf);a.Pf&&
(a.Pf.Dj=a.Dj);a==this.yb&&(this.yb=a.Pf);var c=a.W,d=a.X;c.Mc(p);d.Mc(p);a.md.prev&&(a.md.prev.next=a.md.next);a.md.next&&(a.md.next.prev=a.md.prev);a.md==c.yb&&(c.yb=a.md.next);a.md.prev=r;a.md.next=r;a.nd.prev&&(a.nd.prev.next=a.nd.next);a.nd.next&&(a.nd.next.prev=a.nd.prev);a.nd==d.yb&&(d.yb=a.nd.next);a.nd.prev=r;a.nd.next=r;this.Dn--;if(!b)for(a=d.hd.Ea(Mc);a;a=a.next)a.Pb.dm(d)==c&&a.Pb.rs()};I.bk=function(a){if(a.zb!==r&&a.zb!=this)throw Error("Controller can only be a member of one world");
this.ci.bk(a);a.zb=this;return a};I.uk=function(a){this.ci.uk(a);a.zb=r;a.Tl()};I.gg=function(a,b,c){this.Mq&&(this.kd.am(),this.Mq=s);this.Uu=p;a=new id(a,this.Tu*a,b,c,this.tA);this.kd.uw();0<a.Ca&&(this.ah(a),this.bA&&this.Ro(a),this.Tu=a.ug);this.Uu=s};I.ks=function(){for(var a=this.yc.Ea(Rc);a;a=a.next)a.body.Dg.fa(),a.body.Ei=0};I.Yg=y("hd");var md=[];kd.prototype.ah=function(a){for(var b=this.ci.Ea();b;b=b.next)b.Lt.gg(a);for(var b=new hd(this.kd.Bg,this.ff),c=this.yc.Ea(Pc);c;c=c.next)c.body.nb=
s;for(var d=this.hd.Ea(Mc);d;d=d.next)d.Pb.nb=s;for(c=this.yb;c;c=c.Pf)c.nb=s;for(c=this.yc.Ea(Tc);c;c=c.next)if(d=c.body,!d.nb){b.Tl();md.length=0;var e=md;e.push(d);for(d.nb=p;0<e.length;){var k=e.pop();b.Ri(k);k.Hc||k.Mc(p);if(0!=k.vc()){for(d=k.hd.Ea(nd);d;d=d.next){var f=d.Pb;f.nb||(b.Si(f),f.nb=p,f=f.dm(k),f.nb||(e.push(f),f.nb=p))}for(d=k.yb;d;d=d.next)!d.yg.nb&&d.ne.Wi()&&(b.gs(d.yg),d.yg.nb=p,d.ne.nb||(e.push(d.ne),d.ne.nb=p))}}b.ah(a,this.Su,this.Dq)}for(c=this.yc.Ea(Tc);c;c=c.next)c.body.ct();
this.kd.am()};kd.prototype.Ro=function(a){for(var b=new hd(this.kd.Bg,this.ff),c=this.yc.Ea(Pc);c;c=c.next){var d=c.body;d.nb=s;d.i.Wc=0}for(var e=this.hd.Ea(Mc);e;e=e.next)e.Pb.nb=s,e.Pb.Hj=r;for(c=this.yb;c;c=c.Pf)c.nb=s;for(;;){var c=this.Mx(),k=c.zA,c=c.AA;if(k===r||ld<c)break;e=k.Nb.Ka();d=k.Db.Ka();od.H(e.i);pd.H(d.i);e.Xg(c);d.Xg(c);k.dt(this.kd.Bg);k.Hj=r;if(k.Ki||!k.enabled)e.i.H(od),d.i.H(pd),e.Cb(),d.Cb();else if(k.Kl){2!=e.vc()&&(e=d);b.Tl();md.length=0;k=md;k.push(e);for(e.nb=p;0<k.length;)if(d=
k.pop(),b.Ri(d),d.Hc||d.Mc(p),2==d.vc()){for(e=d.hd.Ea(nd);e&&b.aA!=U.k.C.cy;e=e.next){var f=e.Pb;f.nb||(b.Si(f),f.nb=p,f=f.dm(d),f.nb||(0!=f.vc()&&(f.Xg(c),f.Mc(p),k.push(f)),f.nb=p))}for(d=d.yb;d;d=d.next)b.Dn!=U.k.C.ey&&(!d.yg.nb&&d.ne.Wi())&&(b.gs(d.yg),d.yg.nb=p,d.ne.nb||(0!=d.ne.vc()&&(d.ne.Xg(c),d.ne.Mc(p),k.push(d.ne)),d.ne.nb=p))}b.Ro(new id((1-c)*a.Ca,0,a.Pl,a.yl,s));for(c=0;c<b.Jf.length;c++)if(b.Jf[c].nb=s,b.Jf[c].Hc&&2==b.Jf[c].vc()){b.Jf[c].ct();for(e=b.Jf[c].hd.Ea(Mc);e;e=e.next)e.Pb.Hj=
r}for(c=0;c<b.aA;c++)b.Cg[c].nb=s,b.Cg[c].Hj=r;for(c=0;c<b.Dn;c++)b.Tc[c].nb=s;this.kd.am()}}};kd.prototype.Mx=function(){for(var a=r,b=1,c=this.hd.Ea(qd);c;c=c.next){var d=c.Pb;if(!this.Nx(d)){var e=1;if(d.Hj!=r)e=d.Hj;else{if(d.Kl)e=1;else{var e=d.Nb.Ka(),k=d.Db.Ka(),f=e.i.Wc;e.i.Wc<k.i.Wc?(f=k.i.Wc,e.i.Xg(f)):k.i.Wc<e.i.Wc&&(f=e.i.Wc,k.i.Xg(f));e=d.zw(e.i,k.i);0<e&&1>e&&(e=(1-e)*f+e)}d.Hj=e}Number.MIN_VALUE<e&&e<b&&(a=d,b=e)}}return{zA:a,AA:b}};kd.prototype.Nx=function(a){var b=a.Nb.Ka();a=a.Db.Ka();
return(2!=b.vc()||!b.Hc)&&(2!=a.vc()||!a.Hc)?p:s};var sd=function(a,b){this.Zc="Contact"+rd++;this.ke=new wc;this.ll=new wc;this.Kl=s;var c=a.Ka(),d=b.Ka();this.mp=2!=c.vc()||c.Bj||2!=d.vc()||d.Bj;this.Ki=a.Qh()||b.Qh();this.Pm=s;this.Nb=a;this.Db=b;this.enabled=p;this.wm=c.Yg();this.xm=d.Yg();this.mo=d.zb.Yg();this.hs()};I=sd.prototype;I.xc=function(a,b){this.ke.xc();this.ll.xc();this.Kl=s;var c=a.Ka(),d=b.Ka();this.mp=2!=c.vc()||c.Bj||2!=d.vc()||d.Bj;this.Ki=a.Qh()||b.Qh();this.Pm=s;this.Nb=a;this.Db=
b;this.enabled=p;this.wm=c.Yg();this.xm=d.Yg();this.mo=d.zb.Yg();this.hs()};I.hs=function(){this.wm.Si(this);this.xm.Si(this);this.mo.Si(this);this.Vo()};I.Vo=function(){var a=s,b=s;!this.Qh()&&this.enabled&&(this.Ao()&&(a=p),this.mp&&(b=p));this.wm.Uo(this,a,b);this.xm.Uo(this,a,b);this.mo.Uo(this,a,b)};I.gx=function(){this.wm.Jo(this);this.xm.Jo(this);this.mo.Jo(this)};I.Ao=y("Kl");I.No=function(a){this.Ki=a;this.Vo()};I.Qh=y("Ki");I.ws=y("Pf");I.dm=function(a){var b=this.Nb.Ka();return b!=a?b:
this.Db.Ka()};I.rs=function(){this.Pm=p};I.sw=function(){this.Pm=s};I.dt=function(a){var b=this.ll;this.ll=this.ke;this.ke=b;this.enabled=p;var c=s,b=this.Ao(),d=this.Nb.Ka(),e=this.Db.Ka(),k=this.Nb.ti.Zi(this.Db.ti);if(this.Ki){if(k){var c=this.Nb.Yc(),d=d.Bd(),k=this.Db.Yc(),f=e.Bd(),e=new mc;e.Ng=new oc;e.Ng.H(c);e.Og=new oc;e.Og.H(k);e.bo=d;e.co=f;e.iw=p;d=new Cc;d.count=0;c=new nc;U.u.dp.$l(c,d,e);c=c.Bf<10*Number.MIN_VALUE}this.ke.Sb=0}else{this.mp=2!=d.vc()||d.Bj||2!=e.vc()||e.Bj?p:s;if(k){this.qf();
c=0<this.ke.Sb;for(k=0;k<this.ke.Sb;k++){f=this.ke.ja[k];f.yi=0;for(var h=f.Di=0;h<this.ll.Sb;h++){var g=this.ll.ja[h];if(g.He.cd==f.He.cd){f.yi=g.yi;f.Di=g.Di;break}}}}else this.ke.Sb=0;c!=b&&(d.Mc(p),e.Mc(p))}this.Kl=c;c!=b&&this.Vo();!b&&c&&a.Sl(this)};I.qf=v();I.zw=function(a,b){Ec.Ng.H(this.Nb.Yc());Ec.Og.H(this.Db.Yc());Ec.Qv=a;Ec.Rv=b;Ec.oB=U.k.C.Ta;return U.u.$.yx()};var Ec=new Dc,rd=0,td=function(a,b){sd.call(this,a,b)};V(td,sd);td.prototype.xc=function(a,b){sd.prototype.xc.call(this,a,b)};
td.prototype.qf=function(){U.u.Q.vw(this.ke,this.Nb.Yc(),this.Nb.Ka().B,this.Db.Yc(),this.Db.Ka().B)};var vd=function(){this.If=W(0,0);this.Rb=W(0,0);this.Uc=W(0,0);this.Mg=new Rb;this.Cd=new Rb;this.Ub=[];for(var a=0;a<U.k.C.Zh;a++)this.Ub[a]=new ud},ud=function(){this.Rb=W(0,0);this.Hb=W(0,0);this.Ib=W(0,0)};ud.prototype.xc=function(){this.Rb.H(0,0);this.Hb.H(0,0);this.Ib.H(0,0)};var bd=function(){this.hf={};this.Eg={};this.ck(td,"b2CircleShape","b2CircleShape");this.ck(wd,"b2PolygonShape","b2CircleShape");
this.ck(xd,"b2PolygonShape","b2PolygonShape");this.ck(yd,"b2EdgeShape","b2CircleShape");this.ck(zd,"b2PolygonShape","b2EdgeShape")};bd.prototype.ck=function(a,b,c){this.Eg[b]=this.Eg[b]||{};this.Eg[b][c]=this.Eg[b][c]||[];this.hf[b]=this.hf[b]||{};this.hf[b][c]=new Ad;this.hf[b][c].Pt=a;this.hf[b][c].vv=p;b!=c&&(this.hf[c]=this.hf[c]||{},this.hf[c][b]=new Ad,this.hf[c][b].Pt=a,this.hf[c][b].vv=s)};bd.prototype.of=function(a,b){var c=a.Yc().Ph(),d=b.Yc().Ph(),e=this.hf[c][d],k=e.Pt;return k!=r?e.vv?
0<this.Eg[c][d].length?(c=this.Eg[c][d].pop(),c.xc(a,b),c):new k(a,b):0<this.Eg[d][c].length?(c=this.Eg[d][c].pop(),c.xc(b,a),c):new k(b,a):r};bd.prototype.rd=function(a){this.Eg[a.Nb.Yc().Ph()][a.Db.Yc().Ph()].push(a)};var Hc=function(){this.Cm=[];for(var a=0;a<=Mc;a++)this.Cm[a]=r;this.Dm=[];for(a=0;a<=Mc;a++)this.Dm[a]=r;this.bi={};this.Kt=0};I=Hc.prototype;I.Ea=function(a){return this.Cm[a]};I.Si=function(a){var b=a.Zc;if(this.bi[b]==r){this.bi[b]=[];for(var c=0;c<=Mc;c++)this.bi[b][c]=r;this.pf(a,
b,Mc);this.Kt++}};I.Uo=function(a,b,c){b?this.pf(a,a.Zc,nd):this.sf(a.Zc,nd);c?this.pf(a,a.Zc,qd):this.sf(a.Zc,qd)};I.Jo=function(a){a=a.Zc;if(this.bi[a]!=r){for(var b=0;b<=Mc;b++)this.sf(a,b);delete this.bi[a];this.Kt--}};I.sf=function(a,b){var c=this.bi[a];if(c!=r){var d=c[b];if(d!=r){c[b]=r;var c=d.Le,e=d.next;c==r?this.Cm[b]=e:c.Te(e);e==r?this.Dm[b]=c:e.Ue(c);Bd.push(d)}}};I.pf=function(a,b,c){b=this.bi[b];if(b[c]==r){if(0<Bd.length){var d=Bd.pop();d.next=r;d.Le=r;d.Pb=a;a=d}else a=new Cd(a);
b[c]=a;a=this.Dm[c];a!=r?(a.Te(b[c]),b[c].Ue(a)):this.Cm[c]=b[c];this.Dm[c]=b[c]}};var nd=0,qd=1,Mc=2,Cd=function(a){this.Pb=a;this.Le=this.next=r},Bd=[];Cd.prototype.Te=aa("next");Cd.prototype.Ue=aa("Le");var Ad=function(){this.LD=r;this.MD=0},Dd=function(){this.qa=W(0,0);this.In=[];this.ja=[];for(var a=0;a<U.k.C.Zh;a++)this.ja[a]=W(0,0)};Dd.prototype.hc=function(a){switch(a.type){case kc:this.Fx(a);break;case ic:this.Gx(a);break;case jc:this.Hx(a)}};Dd.prototype.Fx=function(a){var b=a.M.B.m,c=a.Rb,
d=a.M.B.position.x+(b.g.x*c.x+b.j.x*c.y),e=a.M.B.position.y+(b.g.y*c.x+b.j.y*c.y),b=a.P.B.m,c=a.Ub[0].Rb,k=a.P.B.position.x+(b.g.x*c.x+b.j.x*c.y),b=a.P.B.position.y+(b.g.y*c.x+b.j.y*c.y),c=k-d,f=b-e,h=c*c+f*f;h>U.k.C.jm?(h=Math.sqrt(h),this.qa.x=c/h,this.qa.y=f/h):(this.qa.x=1,this.qa.y=0);this.ja[0].x=0.5*(d+k);this.ja[0].y=0.5*(e+b);this.In[0]=c*this.qa.x+f*this.qa.y-a.Pn};Dd.prototype.Gx=function(a){this.qa.x=a.M.B.m.g.x*a.If.x+a.M.B.m.j.x*a.If.y;this.qa.y=a.M.B.m.g.y*a.If.x+a.M.B.m.j.y*a.If.y;
for(var b=a.M.B.position.x+(a.M.B.m.g.x*a.Rb.x+a.M.B.m.j.x*a.Rb.y),c=a.M.B.position.y+(a.M.B.m.g.y*a.Rb.x+a.M.B.m.j.y*a.Rb.y),d=0;d<a.Ke;d++){var e=a.P.B.position.x+(a.P.B.m.g.x*a.Ub[d].Rb.x+a.P.B.m.j.x*a.Ub[d].Rb.y),k=a.P.B.position.y+(a.P.B.m.g.y*a.Ub[d].Rb.x+a.P.B.m.j.y*a.Ub[d].Rb.y);this.In[d]=(e-b)*this.qa.x+(k-c)*this.qa.y-a.Pn;this.ja[d].x=e;this.ja[d].y=k}};Dd.prototype.Hx=function(a){this.qa.x=a.P.B.m.g.x*a.If.x+a.P.B.m.j.x*a.If.y;this.qa.y=a.P.B.m.g.y*a.If.x+a.P.B.m.j.y*a.If.y;for(var b=
a.P.B.position.x+(a.P.B.m.g.x*a.Rb.x+a.P.B.m.j.x*a.Rb.y),c=a.P.B.position.y+(a.P.B.m.g.y*a.Rb.x+a.P.B.m.j.y*a.Rb.y),d=0;d<a.Ke;d++){var e=a.M.B.position.x+(a.M.B.m.g.x*a.Ub[d].Rb.x+a.M.B.m.j.x*a.Ub[d].Rb.y),k=a.M.B.position.y+(a.M.B.m.g.y*a.Ub[d].Rb.x+a.M.B.m.j.y*a.Ub[d].Rb.y);this.In[d]=(e-b)*this.qa.x+(k-c)*this.qa.y-a.Pn;this.ja[d].H(e,k)}this.qa.x*=-1;this.qa.y*=-1};var jd=function(){this.Kf=[]};I=jd.prototype;I.hc=function(a,b,c){for(this.fl=c;this.Kf.length<this.fl;)this.Kf[this.Kf.length]=
new vd;for(a=0;a<c;a++){var d=b[a],e=d.Nb,k=d.Db,f=e.Ig.cb,h=k.Ig.cb,g=e.Ka(),l=k.Ka(),m=d.ke,q=U.k.C.Zx(e.Ru,k.Ru),u=U.k.C.$x(e.Xu,k.Xu),t=g.n.x,w=g.n.y,x=l.n.x,A=l.n.y,B=g.D,C=l.D;Ed.hc(m,g.B,f,l.B,h);k=Ed.qa.x;d=Ed.qa.y;e=this.Kf[a];e.M=g;e.P=l;e.uA=m;e.Uc.x=k;e.Uc.y=d;e.Ke=m.Sb;e.rg=q;e.Pg=u;e.If.x=m.Bc.x;e.If.y=m.Bc.y;e.Rb.x=m.wa.x;e.Rb.y=m.wa.y;e.Pn=f+h;e.type=m.Qa;for(f=0;f<e.Ke;++f){q=m.ja[f];h=e.Ub[f];h.Tb=q.yi;h.Yf=q.Di;h.Rb.G(q.wa);var q=h.Hb.x=Ed.ja[f].x-g.i.p.x,u=h.Hb.y=Ed.ja[f].y-g.i.p.y,
H=h.Ib.x=Ed.ja[f].x-l.i.p.x,O=h.Ib.y=Ed.ja[f].y-l.i.p.y,F=q*d-u*k,D=H*d-O*k,F=F*F,D=D*D;h.Mg=1/(g.I+l.I+g.U*F+l.U*D);var z=g.T*g.I+l.T*l.I,z=z+(g.T*g.U*F+l.T*l.U*D);h.Ky=1/z;D=d;z=-k;F=q*z-u*D;D=H*z-O*D;F*=F;D*=D;h.lB=1/(g.I+l.I+g.U*F+l.U*D);h.Ol=0;q=e.Uc.x*(x+-C*O-t- -B*u)+e.Uc.y*(A+C*H-w-B*q);q<-U.k.C.jy&&(h.Ol+=-e.Pg*q)}2==e.Ke&&(A=e.Ub[0],x=e.Ub[1],m=g.I,g=g.U,t=l.I,l=l.U,w=A.Hb.x*d-A.Hb.y*k,A=A.Ib.x*d-A.Ib.y*k,B=x.Hb.x*d-x.Hb.y*k,x=x.Ib.x*d-x.Ib.y*k,k=m+t+g*w*w+l*A*A,d=m+t+g*B*B+l*x*x,l=m+t+
g*w*B+l*A*x,k*k<100*(k*d-l*l)?(e.Cd.g.H(k,l),e.Cd.j.H(l,d),e.Cd.xo(e.Mg)):e.Ke=1)}};I.te=function(a){for(var b=0;b<this.fl;++b){var c=this.Kf[b],d=c.M,e=c.P,k=d.I,f=d.U,h=e.I,g=e.U,l=c.Uc.x,m=c.Uc.y,q=m,u=-l,t=0,w=0;if(a.Vg){w=c.Ke;for(t=0;t<w;++t){var x=c.Ub[t];x.Tb*=a.jc;x.Yf*=a.jc;var A=x.Tb*l+x.Yf*q,B=x.Tb*m+x.Yf*u;d.D-=f*(x.Hb.x*B-x.Hb.y*A);d.n.x-=k*A;d.n.y-=k*B;e.D+=g*(x.Ib.x*B-x.Ib.y*A);e.n.x+=h*A;e.n.y+=h*B}}else{w=c.Ke;for(t=0;t<w;++t)d=c.Ub[t],d.Tb=0,d.Yf=0}}};I.Zd=function(){for(var a=
0;a<this.fl;a++)this.tx(this.Kf[a])};I.tx=function(a){for(var b=a.Uc.x,c=a.Uc.y,d=0;d<a.Ke;d++)jd.prototype.ux(a,a.Ub[d]);if(1==a.Ke){var d=a.Ub[0],e=d.Tb-d.Mg*((a.P.n.x-a.P.D*d.Ib.y-a.M.n.x+a.M.D*d.Hb.y)*b+(a.P.n.y+a.P.D*d.Ib.x-a.M.n.y-a.M.D*d.Hb.x)*c-d.Ol),e=0<e?e:0,k=e-d.Tb,f=k*b,c=k*c;a.M.n.x-=a.M.I*f;a.M.n.y-=a.M.I*c;a.M.D-=a.M.U*(d.Hb.x*c-d.Hb.y*f);a.P.n.x+=a.P.I*f;a.P.n.y+=a.P.I*c;a.P.D+=a.P.U*(d.Ib.x*c-d.Ib.y*f);d.Tb=e}else for(var d=a.Ub[0],e=a.Ub[1],k=d.Tb,f=e.Tb,h=(a.P.n.x-a.P.D*d.Ib.y-
a.M.n.x+a.M.D*d.Hb.y)*b+(a.P.n.y+a.P.D*d.Ib.x-a.M.n.y-a.M.D*d.Hb.x)*c-d.Ol,c=(a.P.n.x-a.P.D*e.Ib.y-a.M.n.x+a.M.D*e.Hb.y)*b+(a.P.n.y+a.P.D*e.Ib.x-a.M.n.y-a.M.D*e.Hb.x)*c-e.Ol,h=h-(a.Cd.g.x*k+a.Cd.j.x*f),c=c-(a.Cd.g.y*k+a.Cd.j.y*f);;){b=-(a.Mg.g.x*h+a.Mg.j.x*c);if(0<=b){var g=-(a.Mg.g.y*h+a.Mg.j.y*c);if(0<=g){this.nm(a,d,e,b-k,g-f);d.Tb=b;e.Tb=g;break}}b=-d.Mg*h;if(0<=b&&0<=a.Cd.g.y*b+c){this.nm(a,d,e,b-k,-f);d.Tb=b;e.Tb=0;break}b=-e.Mg*c;if(0<=b&&0<=a.Cd.j.x*b+h){this.nm(a,d,e,-k,b-f);d.Tb=0;e.Tb=
b;break}if(0<=h&&0<=c){this.nm(a,d,e,-k,-f);d.Tb=0;e.Tb=0;break}break}};I.ux=function(a,b){var c=a.Uc.y,d=-a.Uc.x,e=a.rg*b.Tb,e=U.k.q.r.qb(b.Yf-b.lB*((a.P.n.x-a.P.D*b.Ib.y-a.M.n.x+a.M.D*b.Hb.y)*c+(a.P.n.y+a.P.D*b.Ib.x-a.M.n.y-a.M.D*b.Hb.x)*d),-e,e),k=e-b.Yf,c=k*c,d=k*d;a.M.n.x-=a.M.I*c;a.M.n.y-=a.M.I*d;a.M.D-=a.M.U*(b.Hb.x*d-b.Hb.y*c);a.P.n.x+=a.P.I*c;a.P.n.y+=a.P.I*d;a.P.D+=a.P.U*(b.Ib.x*d-b.Ib.y*c);b.Yf=e};I.nm=function(a,b,c,d,e){var k=d*a.Uc.x;d*=a.Uc.y;var f=e*a.Uc.x;e*=a.Uc.y;a.M.n.x-=a.M.I*
(k+f);a.M.n.y-=a.M.I*(d+e);a.M.D-=a.M.U*(b.Hb.x*d-b.Hb.y*k+c.Hb.x*e-c.Hb.y*f);a.P.n.x+=a.P.I*(k+f);a.P.n.y+=a.P.I*(d+e);a.P.D+=a.P.U*(b.Ib.x*d-b.Ib.y*k+c.Ib.x*e-c.Ib.y*f);b.Tb=0;c.Tb=0};I.uo=function(){for(var a=0;a<this.fl;++a)for(var b=this.Kf[a],c=b.uA,d=0;d<b.Ke;++d){var e=c.ja[d],k=b.Ub[d];e.yi=k.Tb;e.Di=k.Yf}};I.Yd=function(a){a===n&&(a=0);for(var b=0,c=0;c<this.fl;c++){var d=this.Kf[c],e=d.M,k=d.P,f=e.T*e.I,h=e.T*e.U,g=k.T*k.I,l=k.T*k.U;Fd.hc(d);for(var m=Fd.qa,q=0;q<d.Ke;q++){var u=d.Ub[q],
t=Fd.ja[q],w=Fd.In[q],x=t.x-e.i.p.x,A=t.y-e.i.p.y,B=t.x-k.i.p.x,t=t.y-k.i.p.y,b=b<w?b:w,w=-u.Ky*U.k.q.r.qb(a*(w+U.k.C.Ta),-U.k.C.Dd,0),u=w*m.x,w=w*m.y;e.i.p.x-=f*u;e.i.p.y-=f*w;e.i.K-=h*(x*w-A*u);e.Cb();k.i.p.x+=g*u;k.i.p.y+=g*w;k.i.K+=l*(B*w-t*u);k.Cb()}}return b>-1.5*U.k.C.Ta};var yd=function(a,b){sd.call(this,a,b)};V(yd,sd);yd.prototype.xc=function(a,b){sd.prototype.xc.call(this,a,b)};yd.prototype.qf=v();var wd=function(a,b){sd.call(this,a,b)};V(wd,sd);wd.prototype.xc=function(a,b){sd.prototype.xc.call(this,
a,b)};wd.prototype.qf=function(){U.u.Q.ww(this.ke,this.Nb.Yc(),this.Nb.Ka().B,this.Db.Yc(),this.Db.Ka().B)};var zd=function(a,b){sd.call(this,a,b)};V(zd,sd);zd.prototype.xc=function(a,b){sd.prototype.xc.call(this,a,b)};zd.prototype.qf=v();var xd=function(a,b){sd.call(this,a,b)};V(xd,sd);xd.prototype.xc=function(a,b){sd.prototype.xc.call(this,a,b)};xd.prototype.qf=function(){U.u.Q.xw(this.ke,this.Nb.Yc(),this.Nb.Ka().B,this.Db.Yc(),this.Db.Ka().B)};var Hd=function(){this.Zc="Controller"+Gd++;this.zb=
r;this.yc=new Qc};Hd.prototype.gg=v();Hd.prototype.Ri=function(a){this.yc.Ri(a);a.bk(this)};Hd.prototype.tk=function(a){this.yc.tk(a);a.uk(this)};Hd.prototype.Tl=function(){for(var a=this.yc.Ea(Pc);a;a=a.next)this.tk(a.body)};var Gd=0,Id=function(){Hd.call(this);this.Uc=W(0,-1);this.Af=this.offset=0;this.kw=W(0,0);this.Xz=2;this.Wx=1;this.RD=s;this.sB=p;this.ku=r};V(Id,Hd);Id.prototype.gg=function(){this.sB&&(this.ku=this.zb.Su.gc());for(var a=this.yc.Ea(Uc);a;a=a.next){for(var b=a.body,c=W(0,0),
d=W(0,0),e=0,k=0,f=b.wo().Ea();f;f=f.next){var h=W(0,0),g=f.Ae.Yc().Vl(this.Uc,this.offset,b.Bd(),h),e=e+g;c.x+=g*h.x;c.y+=g*h.y;var l=0,l=1,k=k+g*l;d.x+=g*h.x*l;d.y+=g*h.y*l}e<Number.MIN_VALUE||(c.x/=e,c.y/=e,d.x/=k,d.y/=k,k=this.ku.Zg(),k.$c(this.Af*e),b.dg(k,d),k=b.Iw(c),k.To(this.kw),k.$c(-this.Xz*e),b.dg(k,c),b.oo(-b.Ee/b.T*e*b.D*this.Wx),Y(c),Y(d))}};var Jd=function(){Hd.call(this);this.es=W(0,0)};V(Jd,Hd);Jd.prototype.gg=function(a){a=W(this.es.x*a.Ca,this.es.y*a.Ca);for(var b=this.yc.Ea(Uc);b;b=
b.next){var c=b.body,d=c.n;c.Sh(W(d.x+a.x,d.y+a.y))}Y(a)};var Kd=function(){Hd.call(this);this.Dw=W(0,0)};V(Kd,Hd);Kd.prototype.gg=function(){for(var a=this.yc.Ea(Uc);a;a=a.next){var b=a.body;b.dg(this.Dw,b.i.p)}};var Ic=function(){this.op=this.np=r;this.Em={};this.Mt=0};Ic.prototype.Ea=y("np");Ic.prototype.bk=function(a){var b=a.Zc;if(this.Em[b]==r){a=new Ld(a);var c=this.op;c!=r?c.Te(a):this.np=a;a.Ue(c);this.op=a;this.Em[b]=a;this.Mt++}};Ic.prototype.uk=function(a){a=a.Zc;var b=this.Em[a];if(b!=
r){var c=b.Le,b=b.next;c==r?this.np=b:c.Te(b);b==r?this.op=c:b.Ue(c);delete this.Em[a];this.Mt--}};var Ld=function(a){this.Lt=a;this.Le=this.next=r};Ld.prototype.Te=aa("next");Ld.prototype.Ue=aa("Le");var Md=function(){Hd.call(this);this.ss=1;this.Pz=p};V(Md,Hd);Md.prototype.gg=function(){var a=r,b=r,c=0,d=r,e=r,k=0,f=0,h=0,k=r;if(this.Pz)for(var g=this.yc.Ea(Pc);g;g=g.next)for(var a=g.body,b=a.i.p,c=a.T,l=this.yc.Ea(Pc);l;l=l.next){if(d=l.body,a.Hc||d.Hc)e=d.i.p,k=e.x-b.x,f=e.y-b.y,h=k*k+f*f,h<Number.MIN_VALUE||
(k=W(k,f),k.$c(this.ss/h/Math.sqrt(h)*c*d.T),a.Hc&&a.dg(k,b),k.$c(-1),d.Hc&&d.dg(k,e),Y(k))}else for(g=this.yc.Ea(Pc);g;g=g.next){a=bodyNode.body;b=a.i.p;c=a.T;for(l=this.yc.Ea(Pc);l;l=l.next)if(d=bodyNode.body,a.Hc||d.Hc)e=d.i.p,k=e.x-b.x,f=e.y-b.y,h=k*k+f*f,h<Number.MIN_VALUE||(k=W(k,f),k.$c(this.ss/h*c*d.T),a.Hc&&a.dg(k,b),k.$c(-1),d.Hc&&d.dg(k,e),Y(k))}};var Nd=function(){Hd.call(this);this.xx=new Rb;this.Sq=0};V(Nd,Hd);Nd.prototype.gg=function(a){a=a.Ca;if(!(a<=Number.MIN_VALUE)){a>this.Sq&&
0<this.Sq&&(a=this.Sq);for(var b=this.yc.Ea(Uc);b;b=b.next){var c=b.body,d=c.zo(U.k.q.r.Wb(this.xx,c.yo(c.n)));c.Sh(W(c.n.x+d.x*a,c.n.y+d.y*a))}}};var Z=function(a){this.md=new Od;this.nd=new Od;this.Nf=W(0,0);this.Of=W(0,0);this.Qa=a.type;this.Pf=this.Dj=r;this.W=a.M;this.X=a.P;this.Pu=a.lp};I=Z.prototype;I.vc=y("Qa");I.kk=y("W");I.vo=y("X");I.ws=y("Pf");I.Wi=function(){return this.W.Wi()&&this.X.Wi()};I.te=v();I.Zd=v();I.uo=v();I.Yd=G(s);var Pd=function(){this.type=0;this.P=this.M=r;this.lp=s},
Od=v(),Qd=function(a){Z.call(this,a);this.ca=W(0,0);this.da=W(0,0);this.mc=W(0,0);this.ca.G(a.Lb);this.da.G(a.Mb);this.Hq=a.length;this.Gq=a.Um;this.cA=a.Fm;this.Ou=this.xi=this.A=0};V(Qd,Z);Qd.prototype.te=function(a){var b,c=0,d=this.W,e=this.X;b=d.B.m;var k=this.ca.x-d.i.N.x,f=this.ca.y-d.i.N.y,c=b.g.x*k+b.j.x*f,f=b.g.y*k+b.j.y*f,k=c;b=e.B.m;var h=this.da.x-e.i.N.x,g=this.da.y-e.i.N.y,c=b.g.x*h+b.j.x*g,g=b.g.y*h+b.j.y*g,h=c;this.mc.x=e.i.p.x+h-d.i.p.x-k;this.mc.y=e.i.p.y+g-d.i.p.y-f;c=Math.sqrt(this.mc.x*
this.mc.x+this.mc.y*this.mc.y);c>U.k.C.Ta?this.mc.$c(1/c):this.mc.fa();b=k*this.mc.y-f*this.mc.x;var l=h*this.mc.y-g*this.mc.x;b=d.I+d.U*b*b+e.I+e.U*l*l;this.T=0!=b?1/b:0;if(0<this.Gq){var c=c-this.Hq,l=2*Math.PI*this.Gq,m=this.T*l*l;this.xi=a.Ca*(2*this.T*this.cA*l+a.Ca*m);this.xi=0!=this.xi?1/this.xi:0;this.Ou=c*a.Ca*m*this.xi;this.T=b+this.xi;this.T=0!=this.T?1/this.T:0}a.Vg?(this.A*=a.jc,a=this.A*this.mc.x,b=this.A*this.mc.y,d.n.x-=d.I*a,d.n.y-=d.I*b,d.D-=d.U*(k*b-f*a),e.n.x+=e.I*a,e.n.y+=e.I*
b,e.D+=e.U*(h*b-g*a)):this.A=0};Qd.prototype.Zd=function(){var a=this.ca.x-this.W.i.N.x,b=this.ca.y-this.W.i.N.y,c=this.W.B.m.g.x*a+this.W.B.m.j.x*b,b=this.W.B.m.g.y*a+this.W.B.m.j.y*b,a=c,d=this.da.x-this.X.i.N.x,e=this.da.y-this.X.i.N.y,c=this.X.B.m.g.x*d+this.X.B.m.j.x*e,e=this.X.B.m.g.y*d+this.X.B.m.j.y*e,d=c,k=-this.T*(this.mc.x*(this.X.n.x-this.X.D*e-(this.W.n.x-this.W.D*b))+this.mc.y*(this.X.n.y+this.X.D*d-(this.W.n.y+this.W.D*a))+this.Ou+this.xi*this.A);this.A+=k;c=k*this.mc.x;k*=this.mc.y;
this.W.n.x-=this.W.I*c;this.W.n.y-=this.W.I*k;this.W.D-=this.W.U*(a*k-b*c);this.X.n.x+=this.X.I*c;this.X.n.y+=this.X.I*k;this.X.D+=this.X.U*(d*k-e*c)};Qd.prototype.Yd=function(){if(0<this.Gq)return p;var a=this.ca.x-this.W.i.N.x,b=this.ca.y-this.W.i.N.y,c=this.W.B.m.g.x*a+this.W.B.m.j.x*b,b=this.W.B.m.g.y*a+this.W.B.m.j.y*b,a=c,d=this.da.x-this.X.i.N.x,e=this.da.y-this.X.i.N.y,c=this.X.B.m.g.x*d+this.X.B.m.j.x*e,e=this.X.B.m.g.y*d+this.X.B.m.j.y*e,d=c,k=this.X.i.p.x+d-this.W.i.p.x-a,f=this.X.i.p.y+
e-this.W.i.p.y-b,h=Math.sqrt(k*k+f*f),c=U.k.q.r.qb(h-this.Hq,-U.k.C.Dd,U.k.C.Dd),g=-this.T*c;this.mc.H(k/h,f/h);k=g*this.mc.x;g*=this.mc.y;this.W.i.p.x-=this.W.I*k;this.W.i.p.y-=this.W.I*g;this.W.i.K-=this.W.U*(a*g-b*k);this.X.i.p.x+=this.X.I*k;this.X.i.p.y+=this.X.I*g;this.X.i.K+=this.X.U*(d*g-e*k);this.W.Cb();this.X.Cb();return Math.abs(c)<U.k.C.Ta};var Rd=function(){Pd.call(this);this.Lb=W(0,0);this.Mb=W(0,0);this.type=3;this.length=1;this.Fm=this.Um=0};V(Rd,Pd);Rd.prototype.hc=function(a,b,c,
d){this.M=a;this.P=b;this.Lb.G(this.M.Ad(c));this.Mb.G(this.P.Ad(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.Fm=this.Um=0};Rd.prototype.of=function(){return new Qd(this)};var Sd=function(a){Z.call(this,a);this.he=W(0,0);this.ie=W(0,0);this.Kq=new Rb;this.ge=W(0,0);this.he.G(a.Lb);this.ie.G(a.Mb);this.Kq.fa();this.el=0;this.ge.fa();this.Ag=0;this.oA=a.vA;this.qA=a.xA};V(Sd,Z);Sd.prototype.te=function(a){var b,c=0,d=this.W,e=this.X;b=d.B.m;var k=this.he.x-d.i.N.x,f=this.he.y-d.i.N.y,
c=b.g.x*k+b.j.x*f,f=b.g.y*k+b.j.y*f,k=c;b=e.B.m;var h=this.ie.x-e.i.N.x,g=this.ie.y-e.i.N.y,c=b.g.x*h+b.j.x*g,g=b.g.y*h+b.j.y*g,h=c;b=d.I;var c=e.I,l=d.U,m=e.U,q=new Rb;q.g.x=b+c;q.j.x=0;q.g.y=0;q.j.y=b+c;q.g.x+=l*f*f;q.j.x+=-l*k*f;q.g.y+=-l*k*f;q.j.y+=l*k*k;q.g.x+=m*g*g;q.j.x+=-m*h*g;q.g.y+=-m*h*g;q.j.y+=m*h*h;q.xo(this.Kq);this.el=l+m;0<this.el&&(this.el=1/this.el);a.Vg?(this.ge.x*=a.jc,this.ge.y*=a.jc,this.Ag*=a.jc,a=this.ge,d.n.x-=b*a.x,d.n.y-=b*a.y,d.D-=l*(k*a.y-f*a.x+this.Ag),e.n.x+=c*a.x,e.n.y+=
c*a.y,e.D+=m*(h*a.y-g*a.x+this.Ag)):(this.ge.fa(),this.Ag=0)};Sd.prototype.Zd=function(a){var b,c=0,d=this.W,e=this.X,k=d.n,f=d.D,h=e.n,g=e.D,l=d.I,m=e.I,q=d.U,u=e.U;b=d.B.m;var t=this.he.x-d.i.N.x,w=this.he.y-d.i.N.y,c=b.g.x*t+b.j.x*w,w=b.g.y*t+b.j.y*w,t=c;b=e.B.m;var x=this.ie.x-e.i.N.x,A=this.ie.y-e.i.N.y,c=b.g.x*x+b.j.x*A,A=b.g.y*x+b.j.y*A,x=c;b=0;var c=-this.el*(g-f),B=this.Ag;b=a.Ca*this.qA;this.Ag=U.k.q.r.qb(this.Ag+c,-b,b);c=this.Ag-B;f-=q*c;g+=u*c;b=U.k.q.r.Wb(this.Kq,W(-(h.x-g*A-k.x+f*w),
-(h.y+g*x-k.y-f*t)));c=this.ge.gc();this.ge.cg(b);b=a.Ca*this.oA;this.ge.hm()>b*b&&(this.ge.bd(),this.ge.$c(b));b=U.k.q.r.kb(this.ge,c);k.x-=l*b.x;k.y-=l*b.y;f-=q*(t*b.y-w*b.x);h.x+=m*b.x;h.y+=m*b.y;g+=u*(x*b.y-A*b.x);d.D=f;e.D=g};Sd.prototype.Yd=G(p);var Td=function(){Pd.call(this);this.Lb=W(0,0);this.Mb=W(0,0);this.type=9;this.xA=this.vA=0};V(Td,Pd);Td.prototype.hc=function(a,b,c){this.M=a;this.P=b;this.Lb.G(this.M.Ad(c));this.Mb.G(this.P.Ad(c))};Td.prototype.of=function(){return new Sd(this)};
var Vd=function(a){Z.call(this,a);this.Fg=W(0,0);this.Gg=W(0,0);this.ca=W(0,0);this.da=W(0,0);this.xb=new Ud;var b=a.rj.Qa,c=a.sj.Qa;this.Fj=this.Ci=this.Ej=this.Bi=r;var d=0,e=0;this.gA=a.rj.kk();this.W=a.rj.vo();1==b?(this.Bi=a.rj,this.Fg.G(this.Bi.ca),this.ca.G(this.Bi.da),d=this.Bi.cm()):(this.Ej=a.rj,this.Fg.G(this.Ej.ca),this.ca.G(this.Ej.da),d=this.Ej.mk());this.hA=a.sj.kk();this.X=a.sj.vo();1==c?(this.Ci=a.sj,this.Gg.G(this.Ci.ca),this.da.G(this.Ci.da),e=this.Ci.cm()):(this.Fj=a.sj,this.Gg.G(this.Fj.ca),
this.da.G(this.Fj.da),e=this.Fj.mk());this.Gb=a.yh;this.Cj=d+this.Gb*e;this.A=0};V(Vd,Z);Vd.prototype.te=function(a){var b=this.gA,c=this.hA,d=this.W,e=this.X,k=0,f=0,h=0,g=0,l=h=0,m=0;this.xb.fa();this.Bi?(this.xb.Th=-1,m+=d.U):(b=b.B.m,f=this.Ej.wd,k=b.g.x*f.x+b.j.x*f.y,f=b.g.y*f.x+b.j.y*f.y,b=d.B.m,h=this.ca.x-d.i.N.x,g=this.ca.y-d.i.N.y,l=b.g.x*h+b.j.x*g,g=b.g.y*h+b.j.y*g,h=l*f-g*k,this.xb.df.H(-k,-f),this.xb.Th=-h,m+=d.I+d.U*h*h);this.Ci?(this.xb.Uh=-this.Gb,m+=this.Gb*this.Gb*e.U):(b=c.B.m,
f=this.Fj.wd,k=b.g.x*f.x+b.j.x*f.y,f=b.g.y*f.x+b.j.y*f.y,b=e.B.m,h=this.da.x-e.i.N.x,g=this.da.y-e.i.N.y,l=b.g.x*h+b.j.x*g,g=b.g.y*h+b.j.y*g,h=l*f-g*k,this.xb.ef.H(-this.Gb*k,-this.Gb*f),this.xb.Uh=-this.Gb*h,m+=this.Gb*this.Gb*(e.I+e.U*h*h));this.T=0<m?1/m:0;a.Vg?(d.n.x+=d.I*this.A*this.xb.df.x,d.n.y+=d.I*this.A*this.xb.df.y,d.D+=d.U*this.A*this.xb.Th,e.n.x+=e.I*this.A*this.xb.ef.x,e.n.y+=e.I*this.A*this.xb.ef.y,e.D+=e.U*this.A*this.xb.Uh):this.A=0};Vd.prototype.Zd=function(){var a=this.W,b=this.X,
c=-this.T*this.xb.yw(a.n,a.D,b.n,b.D);this.A+=c;a.n.x+=a.I*c*this.xb.df.x;a.n.y+=a.I*c*this.xb.df.y;a.D+=a.U*c*this.xb.Th;b.n.x+=b.I*c*this.xb.ef.x;b.n.y+=b.I*c*this.xb.ef.y;b.D+=b.U*c*this.xb.Uh};Vd.prototype.Yd=function(){var a=this.W,b=this.X,c=0,d=0,c=this.Bi?this.Bi.cm():this.Ej.mk(),d=this.Ci?this.Ci.cm():this.Fj.mk(),c=-this.T*(this.Cj-(c+this.Gb*d));a.i.p.x+=a.I*c*this.xb.df.x;a.i.p.y+=a.I*c*this.xb.df.y;a.i.K+=a.U*c*this.xb.Th;b.i.p.x+=b.I*c*this.xb.ef.x;b.i.p.y+=b.I*c*this.xb.ef.y;b.i.K+=
b.U*c*this.xb.Uh;a.Cb();b.Cb();return 0<U.k.C.Ta};var Wd=function(){Pd.call(this);this.type=6;this.sj=this.rj=r;this.yh=1};V(Wd,Pd);Wd.prototype.hc=function(a,b,c){this.rj=a;this.M=a.kk();this.sj=b;this.P=b.kk();this.yh=c};Wd.prototype.of=function(){return new Vd(this)};var Ud=function(){this.df=W(0,0);this.ef=W(0,0)};Ud.prototype.fa=function(){this.df.fa();this.Th=0;this.ef.fa();this.Uh=0};Ud.prototype.H=function(a,b,c,d){b===n&&(b=0);d===n&&(d=0);this.df.G(a);this.Th=b;this.ef.G(c);this.Uh=d};Ud.prototype.yw=
function(a,b,c,d){b===n&&(b=0);d===n&&(d=0);return this.df.x*a.x+this.df.y*a.y+this.Th*b+(this.ef.x*c.x+this.ef.y*c.y)+this.Uh*d};var Xd=function(a){Z.call(this,a);this.ca=W(0,0);this.da=W(0,0);this.wd=W(0,0);this.Hg=W(0,0);this.V=W(0,0);this.ga=W(0,0);this.aa=new Rb;this.A=W(0,0);this.ca.G(a.Lb);this.da.G(a.Mb);this.wd.G(a.ri);this.Hg.x=-this.wd.y;this.Hg.y=this.wd.x;this.A.fa();this.Ga=this.od=0;this.je=a.Bq;this.le=a.Zr;this.Lq=a.Rq;this.kl=a.ql;this.gf=a.ij;this.qh=a.Jk;this.Ba=0;this.V.fa();
this.ga.fa()};V(Xd,Z);Xd.prototype.mk=function(){var a=this.W,b=this.X,c=a.fm(this.ca),d=b.fm(this.da),b=d.x-c.x,c=d.y-c.y,a=a.zo(this.wd);return a.x*b+a.y*c};Xd.prototype.te=function(a){var b=this.W,c=this.X,d,e=0;this.Nf.G(b.i.N);this.Of.G(c.i.N);var k=b.Bd();c.Bd();d=b.B.m;var f=this.ca.x-this.Nf.x,h=this.ca.y-this.Nf.y,e=d.g.x*f+d.j.x*h,h=d.g.y*f+d.j.y*h,f=e;d=c.B.m;var g=this.da.x-this.Of.x,l=this.da.y-this.Of.y,e=d.g.x*g+d.j.x*l,l=d.g.y*g+d.j.y*l,g=e;d=c.i.p.x+g-b.i.p.x-f;e=c.i.p.y+l-b.i.p.y-
h;this.Eb=b.I;this.Fb=c.I;this.Rc=b.U;this.Sc=c.U;this.V.G(U.k.q.r.Wb(k.m,this.wd));this.Ua=(d+f)*this.V.y-(e+h)*this.V.x;this.Va=g*this.V.y-l*this.V.x;this.od=this.Eb+this.Fb+this.Rc*this.Ua*this.Ua+this.Sc*this.Va*this.Va;this.od=this.od>Number.MIN_VALUE?1/this.od:0;this.ga.G(U.k.q.r.Wb(k.m,this.Hg));this.Xa=(d+f)*this.ga.y-(e+h)*this.ga.x;this.Ya=g*this.ga.y-l*this.ga.x;k=this.Eb;f=this.Fb;h=this.Rc;g=this.Sc;this.aa.g.x=k+f+h*this.Xa*this.Xa+g*this.Ya*this.Ya;this.aa.g.y=h*this.Xa*this.Ua+g*this.Ya*
this.Va;this.aa.j.x=this.aa.g.y;this.aa.j.y=k+f+h*this.Ua*this.Ua+g*this.Va*this.Va;this.gf?(d=this.V.x*d+this.V.y*e,Math.abs(this.le-this.je)<2*U.k.C.Ta?this.Ba=3:d<=this.je?1!=this.Ba&&(this.Ba=1,this.A.y=0):d>=this.le?2!=this.Ba&&(this.Ba=2,this.A.y=0):(this.Ba=0,this.A.y=0)):this.Ba=0;this.qh==s&&(this.Ga=0);a.Vg?(this.A.x*=a.jc,this.A.y*=a.jc,this.Ga*=a.jc,a=this.A.x*this.ga.x+(this.Ga+this.A.y)*this.V.x,d=this.A.x*this.ga.y+(this.Ga+this.A.y)*this.V.y,e=this.A.x*this.Xa+(this.Ga+this.A.y)*this.Ua,
k=this.A.x*this.Ya+(this.Ga+this.A.y)*this.Va,b.n.x-=this.Eb*a,b.n.y-=this.Eb*d,b.D-=this.Rc*e,c.n.x+=this.Fb*a,c.n.y+=this.Fb*d,c.D+=this.Sc*k):(this.A.fa(),this.Ga=0)};Xd.prototype.Zd=function(a){var b=this.W,c=this.X,d=b.n,e=b.D,k=c.n,f=c.D,h=0,g=0,l=0,m=0;this.qh&&3!=this.Ba&&(m=this.od*(this.kl-(this.V.x*(k.x-d.x)+this.V.y*(k.y-d.y)+this.Va*f-this.Ua*e)),h=this.Ga,g=a.Ca*this.Lq,this.Ga=U.k.q.r.qb(this.Ga+m,-g,g),m=this.Ga-h,h=m*this.V.x,g=m*this.V.y,l=m*this.Ua,m*=this.Va,d.x-=this.Eb*h,d.y-=
this.Eb*g,e-=this.Rc*l,k.x+=this.Fb*h,k.y+=this.Fb*g,f+=this.Sc*m);g=this.ga.x*(k.x-d.x)+this.ga.y*(k.y-d.y)+this.Ya*f-this.Xa*e;this.gf&&0!=this.Ba?(l=this.V.x*(k.x-d.x)+this.V.y*(k.y-d.y)+this.Va*f-this.Ua*e,h=this.A.gc(),a=this.aa.ah(W(0,0),-g,-l),this.A.cg(a),1==this.Ba?this.A.y=Math.max(this.A.y,0):2==this.Ba&&(this.A.y=Math.min(this.A.y,0)),g=-g-(this.A.y-h.y)*this.aa.j.x,l=0,l=0!=this.aa.g.x?g/this.aa.g.x+h.x:h.x,this.A.x=l,a.x=this.A.x-h.x,a.y=this.A.y-h.y,h=a.x*this.ga.x+a.y*this.V.x,g=a.x*
this.ga.y+a.y*this.V.y,l=a.x*this.Xa+a.y*this.Ua,m=a.x*this.Ya+a.y*this.Va):(a=0,a=0!=this.aa.g.x?-g/this.aa.g.x:0,this.A.x+=a,h=a*this.ga.x,g=a*this.ga.y,l=a*this.Xa,m=a*this.Ya);d.x-=this.Eb*h;d.y-=this.Eb*g;e-=this.Rc*l;k.x+=this.Fb*h;k.y+=this.Fb*g;f+=this.Sc*m;b.n.G(d);b.D=e;c.n.G(k);c.D=f};Xd.prototype.Yd=function(){var a=this.W,b=this.X,c=a.i.p,d=a.i.K,e=b.i.p,k=b.i.K,f,h=0,g=0,l=0,m=0,q=f=0,u=0,g=s,t=0,w=Sb(d),l=Sb(k);f=w;var u=this.ca.x-this.Nf.x,x=this.ca.y-this.Nf.y,h=f.g.x*u+f.j.x*x,x=
f.g.y*u+f.j.y*x,u=h;f=l;l=this.da.x-this.Of.x;m=this.da.y-this.Of.y;h=f.g.x*l+f.j.x*m;m=f.g.y*l+f.j.y*m;l=h;f=e.x+l-c.x-u;h=e.y+m-c.y-x;if(this.gf){this.V=U.k.q.r.Wb(w,this.wd);this.Ua=(f+u)*this.V.y-(h+x)*this.V.x;this.Va=l*this.V.y-m*this.V.x;var A=this.V.x*f+this.V.y*h;Math.abs(this.le-this.je)<2*U.k.C.Ta?(t=U.k.q.r.qb(A,-U.k.C.Dd,U.k.C.Dd),q=Math.abs(A),g=p):A<=this.je?(t=U.k.q.r.qb(A-this.je+U.k.C.Ta,-U.k.C.Dd,0),q=this.je-A,g=p):A>=this.le&&(t=U.k.q.r.qb(A-this.le+U.k.C.Ta,0,U.k.C.Dd),q=A-this.le,
g=p)}this.ga=U.k.q.r.Wb(w,this.Hg);this.Xa=(f+u)*this.ga.y-(h+x)*this.ga.x;this.Ya=l*this.ga.y-m*this.ga.x;w=W(0,0);x=this.ga.x*f+this.ga.y*h;q=Math.max(q,Math.abs(x));u=0;g?(g=this.Eb,l=this.Fb,m=this.Rc,f=this.Sc,this.aa.g.x=g+l+m*this.Xa*this.Xa+f*this.Ya*this.Ya,this.aa.g.y=m*this.Xa*this.Ua+f*this.Ya*this.Va,this.aa.j.x=this.aa.g.y,this.aa.j.y=g+l+m*this.Ua*this.Ua+f*this.Va*this.Va,this.aa.ah(w,-x,-t)):(g=this.Eb,l=this.Fb,m=this.Rc,f=this.Sc,t=g+l+m*this.Xa*this.Xa+f*this.Ya*this.Ya,w.x=0!=
t?-x/t:0,w.y=0);t=w.x*this.ga.x+w.y*this.V.x;g=w.x*this.ga.y+w.y*this.V.y;x=w.x*this.Xa+w.y*this.Ua;w=w.x*this.Ya+w.y*this.Va;c.x-=this.Eb*t;c.y-=this.Eb*g;d-=this.Rc*x;e.x+=this.Fb*t;e.y+=this.Fb*g;k+=this.Sc*w;a.i.K=d;b.i.K=k;a.Cb();b.Cb();return q<=U.k.C.Ta&&u<=U.k.C.Yh};var Yd=function(){Pd.call(this);this.Lb=W(0,0);this.Mb=W(0,0);this.ri=W(0,0);this.type=7;this.ri.H(1,0);this.ij=s;this.Zr=this.Bq=0;this.Jk=s;this.ql=this.Rq=0};V(Yd,Pd);Yd.prototype.hc=function(a,b,c,d){this.M=a;this.P=b;this.Lb=
this.M.Ad(c);this.Mb=this.P.Ad(c);this.ri=this.M.yo(d)};Yd.prototype.of=function(){return new Xd(this)};var Zd=function(a){Z.call(this,a);this.ca=W(0,0);this.da=W(0,0);this.wd=W(0,0);this.Hg=W(0,0);this.V=W(0,0);this.ga=W(0,0);this.aa=new Ub;this.A=new Tb(0,0,0);this.ca.G(a.Lb);this.da.G(a.Mb);this.wd.G(a.ri);this.Hg.x=-this.wd.y;this.Hg.y=this.wd.x;this.rA=a.zh;this.A.fa();this.Ga=this.od=0;this.je=a.Bq;this.le=a.Zr;this.Lq=a.Rq;this.kl=a.ql;this.gf=a.ij;this.qh=a.Jk;this.Ba=0;this.V.fa();this.ga.fa()};
V(Zd,Z);Zd.prototype.mk=function(){var a=this.W,b=this.X,c=a.fm(this.ca),d=b.fm(this.da),b=d.x-c.x,c=d.y-c.y,a=a.zo(this.wd);return a.x*b+a.y*c};Zd.prototype.te=function(a){var b=this.W,c=this.X,d,e=0;this.Nf.G(b.i.N);this.Of.G(c.i.N);var k=b.Bd();c.Bd();d=b.B.m;var f=this.ca.x-this.Nf.x,h=this.ca.y-this.Nf.y,e=d.g.x*f+d.j.x*h,h=d.g.y*f+d.j.y*h,f=e;d=c.B.m;var g=this.da.x-this.Of.x,l=this.da.y-this.Of.y,e=d.g.x*g+d.j.x*l,l=d.g.y*g+d.j.y*l,g=e;d=c.i.p.x+g-b.i.p.x-f;e=c.i.p.y+l-b.i.p.y-h;this.Eb=b.I;
this.Fb=c.I;this.Rc=b.U;this.Sc=c.U;this.V.G(U.k.q.r.Wb(k.m,this.wd));this.Ua=(d+f)*this.V.y-(e+h)*this.V.x;this.Va=g*this.V.y-l*this.V.x;this.od=this.Eb+this.Fb+this.Rc*this.Ua*this.Ua+this.Sc*this.Va*this.Va;this.od>Number.MIN_VALUE&&(this.od=1/this.od);this.ga.G(U.k.q.r.Wb(k.m,this.Hg));this.Xa=(d+f)*this.ga.y-(e+h)*this.ga.x;this.Ya=g*this.ga.y-l*this.ga.x;k=this.Eb;f=this.Fb;h=this.Rc;g=this.Sc;this.aa.g.x=k+f+h*this.Xa*this.Xa+g*this.Ya*this.Ya;this.aa.g.y=h*this.Xa+g*this.Ya;this.aa.g.J=h*
this.Xa*this.Ua+g*this.Ya*this.Va;this.aa.j.x=this.aa.g.y;this.aa.j.y=h+g;this.aa.j.J=h*this.Ua+g*this.Va;this.aa.ta.x=this.aa.g.J;this.aa.ta.y=this.aa.j.J;this.aa.ta.J=k+f+h*this.Ua*this.Ua+g*this.Va*this.Va;this.gf?(d=this.V.x*d+this.V.y*e,Math.abs(this.le-this.je)<2*U.k.C.Ta?this.Ba=3:d<=this.je?1!=this.Ba&&(this.Ba=1,this.A.J=0):d>=this.le?2!=this.Ba&&(this.Ba=2,this.A.J=0):(this.Ba=0,this.A.J=0)):this.Ba=0;this.qh==s&&(this.Ga=0);a.Vg?(this.A.x*=a.jc,this.A.y*=a.jc,this.Ga*=a.jc,a=this.A.x*this.ga.x+
(this.Ga+this.A.J)*this.V.x,d=this.A.x*this.ga.y+(this.Ga+this.A.J)*this.V.y,e=this.A.x*this.Xa+this.A.y+(this.Ga+this.A.J)*this.Ua,k=this.A.x*this.Ya+this.A.y+(this.Ga+this.A.J)*this.Va,b.n.x-=this.Eb*a,b.n.y-=this.Eb*d,b.D-=this.Rc*e,c.n.x+=this.Fb*a,c.n.y+=this.Fb*d,c.D+=this.Sc*k):(this.A.fa(),this.Ga=0)};Zd.prototype.Zd=function(a){var b=this.W,c=this.X,d=b.n,e=b.D,k=c.n,f=c.D,h=0,g=0,l=0,m=0;this.qh&&3!=this.Ba&&(m=this.od*(this.kl-(this.V.x*(k.x-d.x)+this.V.y*(k.y-d.y)+this.Va*f-this.Ua*e)),
h=this.Ga,a=a.Ca*this.Lq,this.Ga=U.k.q.r.qb(this.Ga+m,-a,a),m=this.Ga-h,h=m*this.V.x,g=m*this.V.y,l=m*this.Ua,m*=this.Va,d.x-=this.Eb*h,d.y-=this.Eb*g,e-=this.Rc*l,k.x+=this.Fb*h,k.y+=this.Fb*g,f+=this.Sc*m);l=this.ga.x*(k.x-d.x)+this.ga.y*(k.y-d.y)+this.Ya*f-this.Xa*e;g=f-e;this.gf&&0!=this.Ba?(a=this.V.x*(k.x-d.x)+this.V.y*(k.y-d.y)+this.Va*f-this.Ua*e,h=this.A.gc(),a=this.aa.xk(new Tb(0,0,0),-l,-g,-a),this.A.cg(a),1==this.Ba?this.A.J=Math.max(this.A.J,0):2==this.Ba&&(this.A.J=Math.min(this.A.J,
0)),l=-l-(this.A.J-h.J)*this.aa.ta.x,g=-g-(this.A.J-h.J)*this.aa.ta.y,g=this.aa.Yi(W(0,0),l,g),g.x+=h.x,g.y+=h.y,this.A.x=g.x,this.A.y=g.y,a.x=this.A.x-h.x,a.y=this.A.y-h.y,a.J=this.A.J-h.J,h=a.x*this.ga.x+a.J*this.V.x,g=a.x*this.ga.y+a.J*this.V.y,l=a.x*this.Xa+a.y+a.J*this.Ua,m=a.x*this.Ya+a.y+a.J*this.Va):(a=this.aa.Yi(W(0,0),-l,-g),this.A.x+=a.x,this.A.y+=a.y,h=a.x*this.ga.x,g=a.x*this.ga.y,l=a.x*this.Xa+a.y,m=a.x*this.Ya+a.y);d.x-=this.Eb*h;d.y-=this.Eb*g;e-=this.Rc*l;k.x+=this.Fb*h;k.y+=this.Fb*
g;f+=this.Sc*m;b.n.G(d);b.D=e;c.n.G(k);c.D=f};Zd.prototype.Yd=function(){var a=this.W,b=this.X,c=a.i.p,d=a.i.K,e=b.i.p,k=b.i.K,f,h=0,g=0,l=0,m=h=f=0,q=0,g=s,u=0,t=Sb(d),w=Sb(k);f=t;var q=this.ca.x-this.Nf.x,x=this.ca.y-this.Nf.y,h=f.g.x*q+f.j.x*x,x=f.g.y*q+f.j.y*x,q=h;f=w;w=this.da.x-this.Of.x;l=this.da.y-this.Of.y;h=f.g.x*w+f.j.x*l;l=f.g.y*w+f.j.y*l;w=h;f=e.x+w-c.x-q;h=e.y+l-c.y-x;if(this.gf){this.V=U.k.q.r.Wb(t,this.wd);this.Ua=(f+q)*this.V.y-(h+x)*this.V.x;this.Va=w*this.V.y-l*this.V.x;var A=this.V.x*
f+this.V.y*h;Math.abs(this.le-this.je)<2*U.k.C.Ta?(u=U.k.q.r.qb(A,-U.k.C.Dd,U.k.C.Dd),m=Math.abs(A),g=p):A<=this.je?(u=U.k.q.r.qb(A-this.je+U.k.C.Ta,-U.k.C.Dd,0),m=this.je-A,g=p):A>=this.le&&(u=U.k.q.r.qb(A-this.le+U.k.C.Ta,0,U.k.C.Dd),m=A-this.le,g=p)}this.ga=U.k.q.r.Wb(t,this.Hg);this.Xa=(f+q)*this.ga.y-(h+x)*this.ga.x;this.Ya=w*this.ga.y-l*this.ga.x;t=new Tb(0,0,0);x=this.ga.x*f+this.ga.y*h;w=k-d-this.rA;m=Math.max(m,Math.abs(x));q=Math.abs(w);g?(g=this.Eb,l=this.Fb,f=this.Rc,h=this.Sc,this.aa.g.x=
g+l+f*this.Xa*this.Xa+h*this.Ya*this.Ya,this.aa.g.y=f*this.Xa+h*this.Ya,this.aa.g.J=f*this.Xa*this.Ua+h*this.Ya*this.Va,this.aa.j.x=this.aa.g.y,this.aa.j.y=f+h,this.aa.j.J=f*this.Ua+h*this.Va,this.aa.ta.x=this.aa.g.J,this.aa.ta.y=this.aa.j.J,this.aa.ta.J=g+l+f*this.Ua*this.Ua+h*this.Va*this.Va,this.aa.xk(t,-x,-w,-u)):(g=this.Eb,l=this.Fb,f=this.Rc,h=this.Sc,u=f*this.Xa+h*this.Ya,A=f+h,this.aa.g.H(g+l+f*this.Xa*this.Xa+h*this.Ya*this.Ya,u,0),this.aa.j.H(u,A,0),u=this.aa.Yi(W(0,0),-x,-w),t.x=u.x,t.y=
u.y,t.J=0);u=t.x*this.ga.x+t.J*this.V.x;g=t.x*this.ga.y+t.J*this.V.y;x=t.x*this.Xa+t.y+t.J*this.Ua;t=t.x*this.Ya+t.y+t.J*this.Va;c.x-=this.Eb*u;c.y-=this.Eb*g;d-=this.Rc*x;e.x+=this.Fb*u;e.y+=this.Fb*g;k+=this.Sc*t;a.i.K=d;b.i.K=k;a.Cb();b.Cb();return m<=U.k.C.Ta&&q<=U.k.C.Yh};var $d=function(){Pd.call(this);this.Lb=W(0,0);this.Mb=W(0,0);this.ri=W(0,0);this.type=2;this.ri.H(1,0);this.zh=0;this.ij=s;this.Zr=this.Bq=0;this.Jk=s;this.ql=this.Rq=0};V($d,Pd);$d.prototype.hc=function(a,b,c,d){this.M=a;
this.P=b;this.Lb=this.M.Ad(c);this.Mb=this.P.Ad(c);this.ri=this.M.yo(d);this.zh=this.P.zd()-this.M.zd()};$d.prototype.of=function(){return new Zd(this)};var be=function(a){Z.call(this,a);this.Fg=W(0,0);this.Gg=W(0,0);this.ca=W(0,0);this.da=W(0,0);this.eb=W(0,0);this.fb=W(0,0);this.Ge=this.W.zb.iA;this.Fg.x=a.bn.x-this.Ge.B.position.x;this.Fg.y=a.bn.y-this.Ge.B.position.y;this.Gg.x=a.cn.x-this.Ge.B.position.x;this.Gg.y=a.cn.y-this.Ge.B.position.y;this.ca.G(a.Lb);this.da.G(a.Mb);this.Gb=a.yh;this.Cj=
a.rq+this.Gb*a.sq;this.Vu=Math.min(a.Yu,this.Cj-this.Gb*ae);this.Wu=Math.min(a.Zu,(this.Cj-ae)/this.Gb);this.Mf=this.Lf=this.A=0};V(be,Z);be.prototype.te=function(a){var b=this.W,c=this.X,d;d=b.B.m;var e=this.ca.x-b.i.N.x,k=this.ca.y-b.i.N.y,f=d.g.x*e+d.j.x*k,k=d.g.y*e+d.j.y*k,e=f;d=c.B.m;var h=this.da.x-c.i.N.x,g=this.da.y-c.i.N.y,f=d.g.x*h+d.j.x*g,g=d.g.y*h+d.j.y*g,h=f;d=c.i.p.x+h;var f=c.i.p.y+g,l=this.Ge.B.position.x+this.Gg.x,m=this.Ge.B.position.y+this.Gg.y;this.eb.H(b.i.p.x+e-(this.Ge.B.position.x+
this.Fg.x),b.i.p.y+k-(this.Ge.B.position.y+this.Fg.y));this.fb.H(d-l,f-m);d=this.eb.rf();f=this.fb.rf();d>U.k.C.Ta?this.eb.$c(1/d):this.eb.fa();f>U.k.C.Ta?this.fb.$c(1/f):this.fb.fa();0<this.Cj-d-this.Gb*f?this.A=this.Nq=0:this.Nq=2;d<this.Vu?this.Lf=this.Iq=0:this.Iq=2;f<this.Wu?this.Mf=this.Jq=0:this.Jq=2;d=e*this.eb.y-k*this.eb.x;f=h*this.fb.y-g*this.fb.x;this.il=b.I+b.U*d*d;this.jl=c.I+c.U*f*f;this.Hn=this.il+this.Gb*this.Gb*this.jl;this.il=1/this.il;this.jl=1/this.jl;this.Hn=1/this.Hn;a.Vg?(this.A*=
a.jc,this.Lf*=a.jc,this.Mf*=a.jc,a=(-this.A-this.Lf)*this.eb.x,d=(-this.A-this.Lf)*this.eb.y,f=(-this.Gb*this.A-this.Mf)*this.fb.x,l=(-this.Gb*this.A-this.Mf)*this.fb.y,b.n.x+=b.I*a,b.n.y+=b.I*d,b.D+=b.U*(e*d-k*a),c.n.x+=c.I*f,c.n.y+=c.I*l,c.D+=c.U*(h*l-g*f)):this.Mf=this.Lf=this.A=0};be.prototype.Zd=function(){var a=this.W,b=this.X,c;c=a.B.m;var d=this.ca.x-a.i.N.x,e=this.ca.y-a.i.N.y,k=c.g.x*d+c.j.x*e,e=c.g.y*d+c.j.y*e,d=k;c=b.B.m;var f=this.da.x-b.i.N.x,h=this.da.y-b.i.N.y,k=c.g.x*f+c.j.x*h,h=
c.g.y*f+c.j.y*h,f=k,g=k=c=0,l=0;c=l=c=l=g=k=c=0;2==this.Nq&&(c=a.n.x+-a.D*e,k=a.n.y+a.D*d,g=b.n.x+-b.D*h,l=b.n.y+b.D*f,c=-(this.eb.x*c+this.eb.y*k)-this.Gb*(this.fb.x*g+this.fb.y*l),l=this.Hn*-c,c=this.A,this.A=Math.max(0,this.A+l),l=this.A-c,c=-l*this.eb.x,k=-l*this.eb.y,g=-this.Gb*l*this.fb.x,l=-this.Gb*l*this.fb.y,a.n.x+=a.I*c,a.n.y+=a.I*k,a.D+=a.U*(d*k-e*c),b.n.x+=b.I*g,b.n.y+=b.I*l,b.D+=b.U*(f*l-h*g));2==this.Iq&&(c=a.n.x+-a.D*e,k=a.n.y+a.D*d,c=-(this.eb.x*c+this.eb.y*k),l=-this.il*c,c=this.Lf,
this.Lf=Math.max(0,this.Lf+l),l=this.Lf-c,c=-l*this.eb.x,k=-l*this.eb.y,a.n.x+=a.I*c,a.n.y+=a.I*k,a.D+=a.U*(d*k-e*c));2==this.Jq&&(g=b.n.x+-b.D*h,l=b.n.y+b.D*f,c=-(this.fb.x*g+this.fb.y*l),l=-this.jl*c,c=this.Mf,this.Mf=Math.max(0,this.Mf+l),l=this.Mf-c,g=-l*this.fb.x,l=-l*this.fb.y,b.n.x+=b.I*g,b.n.y+=b.I*l,b.D+=b.U*(f*l-h*g))};be.prototype.Yd=function(){var a=this.W,b=this.X,c,d=this.Ge.B.position.x+this.Fg.x,e=this.Ge.B.position.y+this.Fg.y,k=this.Ge.B.position.x+this.Gg.x,f=this.Ge.B.position.y+
this.Gg.y,h=0,g=0,l=0,m=0,q=c=0,u=0,t=0,w=q=t=c=q=c=0;2==this.Nq&&(c=a.B.m,h=this.ca.x-a.i.N.x,g=this.ca.y-a.i.N.y,q=c.g.x*h+c.j.x*g,g=c.g.y*h+c.j.y*g,h=q,c=b.B.m,l=this.da.x-b.i.N.x,m=this.da.y-b.i.N.y,q=c.g.x*l+c.j.x*m,m=c.g.y*l+c.j.y*m,l=q,c=a.i.p.x+h,q=a.i.p.y+g,u=b.i.p.x+l,t=b.i.p.y+m,this.eb.H(c-d,q-e),this.fb.H(u-k,t-f),c=this.eb.rf(),q=this.fb.rf(),c>U.k.C.Ta?this.eb.$c(1/c):this.eb.fa(),q>U.k.C.Ta?this.fb.$c(1/q):this.fb.fa(),c=this.Cj-c-this.Gb*q,w=Math.max(w,-c),c=U.k.q.r.qb(c+U.k.C.Ta,
-U.k.C.Dd,0),t=-this.Hn*c,c=-t*this.eb.x,q=-t*this.eb.y,u=-this.Gb*t*this.fb.x,t=-this.Gb*t*this.fb.y,a.i.p.x+=a.I*c,a.i.p.y+=a.I*q,a.i.K+=a.U*(h*q-g*c),b.i.p.x+=b.I*u,b.i.p.y+=b.I*t,b.i.K+=b.U*(l*t-m*u),a.Cb(),b.Cb());2==this.Iq&&(c=a.B.m,h=this.ca.x-a.i.N.x,g=this.ca.y-a.i.N.y,q=c.g.x*h+c.j.x*g,g=c.g.y*h+c.j.y*g,h=q,c=a.i.p.x+h,q=a.i.p.y+g,this.eb.H(c-d,q-e),c=this.eb.rf(),c>U.k.C.Ta?(this.eb.x*=1/c,this.eb.y*=1/c):this.eb.fa(),c=this.Vu-c,w=Math.max(w,-c),c=U.k.q.r.qb(c+U.k.C.Ta,-U.k.C.Dd,0),t=
-this.il*c,c=-t*this.eb.x,q=-t*this.eb.y,a.i.p.x+=a.I*c,a.i.p.y+=a.I*q,a.i.K+=a.U*(h*q-g*c),a.Cb());2==this.Jq&&(c=b.B.m,l=this.da.x-b.i.N.x,m=this.da.y-b.i.N.y,q=c.g.x*l+c.j.x*m,m=c.g.y*l+c.j.y*m,l=q,u=b.i.p.x+l,t=b.i.p.y+m,this.fb.H(u-k,t-f),q=this.fb.rf(),q>U.k.C.Ta?(this.fb.x*=1/q,this.fb.y*=1/q):this.fb.fa(),c=this.Wu-q,w=Math.max(w,-c),c=U.k.q.r.qb(c+U.k.C.Ta,-U.k.C.Dd,0),t=-this.jl*c,u=-t*this.fb.x,t=-t*this.fb.y,b.i.p.x+=b.I*u,b.i.p.y+=b.I*t,b.i.K+=b.U*(l*t-m*u),b.Cb());return w<U.k.C.Ta};
var ae=1,ce=function(){Pd.call(this);this.bn=W(0,0);this.cn=W(0,0);this.Lb=W(0,0);this.Mb=W(0,0);this.type=4;this.bn.H(-1,1);this.cn.H(1,1);this.Lb.H(-1,0);this.Mb.H(1,0);this.Zu=this.sq=this.Yu=this.rq=0;this.yh=1;this.lp=p};V(ce,Pd);ce.prototype.hc=function(a,b,c,d,e,k,f){f===n&&(f=0);this.M=a;this.P=b;this.bn.G(c);this.cn.G(d);this.Lb=this.M.Ad(e);this.Mb=this.P.Ad(k);a=e.x-c.x;c=e.y-c.y;this.rq=Math.sqrt(a*a+c*c);c=k.x-d.x;d=k.y-d.y;this.sq=Math.sqrt(c*c+d*d);this.yh=f;f=this.rq+this.yh*this.sq;
this.Yu=f-this.yh*ae;this.Zu=(f-ae)/this.yh};ce.prototype.of=function(){return new be(this)};var de=function(a){Z.call(this,a);this.Cd=new Rb;this.pk=new Rb;this.qk=new Rb;this.rk=new Rb;this.pc=new Tb(0,0,0);this.Ze=W(0,0);this.Vf=W(0,0);this.ca=W(0,0);this.da=W(0,0);this.A=new Tb(0,0,0);this.T=new Ub;this.ca.G(a.Lb);this.da.G(a.Mb);this.ml=a.zh;this.A.fa();this.Ga=0;this.Fn=a.Nu;this.Oq=a.hw;this.pA=a.wA;this.kl=a.ql;this.gf=a.ij;this.qh=a.Jk;this.Ba=0};V(de,Z);de.prototype.cm=function(){return this.X.i.K-
this.W.i.K-this.ml};de.prototype.te=function(a){var b=this.W,c=this.X,d,e=0;d=b.B.m;var k=this.ca.x-b.i.N.x,f=this.ca.y-b.i.N.y,e=d.g.x*k+d.j.x*f,f=d.g.y*k+d.j.y*f,k=e;d=c.B.m;var h=this.da.x-c.i.N.x,g=this.da.y-c.i.N.y,e=d.g.x*h+d.j.x*g,g=d.g.y*h+d.j.y*g,h=e;d=b.I;var e=c.I,l=b.U,m=c.U;this.T.g.x=d+e+f*f*l+g*g*m;this.T.j.x=-f*k*l-g*h*m;this.T.ta.x=-f*l-g*m;this.T.g.y=this.T.j.x;this.T.j.y=d+e+k*k*l+h*h*m;this.T.ta.y=k*l+h*m;this.T.g.J=this.T.ta.x;this.T.j.J=this.T.ta.y;this.T.ta.J=l+m;this.od=1/
(l+m);this.qh||(this.Ga=0);if(this.gf){var q=c.i.K-b.i.K-this.ml;Math.abs(this.Oq-this.Fn)<2*U.k.C.Yh?this.Ba=3:q<=this.Fn?(1!=this.Ba&&(this.A.J=0),this.Ba=1):q>=this.Oq?(2!=this.Ba&&(this.A.J=0),this.Ba=2):(this.Ba=0,this.A.J=0)}else this.Ba=0;a.Vg?(this.A.x*=a.jc,this.A.y*=a.jc,this.Ga*=a.jc,a=this.A.x,q=this.A.y,b.n.x-=d*a,b.n.y-=d*q,b.D-=l*(k*q-f*a+this.Ga+this.A.J),c.n.x+=e*a,c.n.y+=e*q,c.D+=m*(h*q-g*a+this.Ga+this.A.J)):(this.A.fa(),this.Ga=0)};de.prototype.Zd=function(a){var b=this.W,c=this.X,
d=0,e=d=0,k=0,f=0,h=0,g=b.n,l=b.D,m=c.n,q=c.D,u=b.I,t=c.I,w=b.U,x=c.U;this.qh&&3!=this.Ba&&(e=this.od*-(q-l-this.kl),k=this.Ga,f=a.Ca*this.pA,this.Ga=U.k.q.r.qb(this.Ga+e,-f,f),e=this.Ga-k,l-=w*e,q+=x*e);if(this.gf&&0!=this.Ba){a=b.B.m;e=this.ca.x-b.i.N.x;k=this.ca.y-b.i.N.y;d=a.g.x*e+a.j.x*k;k=a.g.y*e+a.j.y*k;e=d;a=c.B.m;f=this.da.x-c.i.N.x;h=this.da.y-c.i.N.y;d=a.g.x*f+a.j.x*h;h=a.g.y*f+a.j.y*h;f=d;a=m.x+-q*h-g.x- -l*k;var A=m.y+q*f-g.y-l*e;this.T.xk(this.pc,-a,-A,-(q-l));3==this.Ba?this.A.cg(this.pc):
1==this.Ba?(d=this.A.J+this.pc.J,0>d&&(this.T.Yi(this.Vf,-a,-A),this.pc.x=this.Vf.x,this.pc.y=this.Vf.y,this.pc.J=-this.A.J,this.A.x+=this.Vf.x,this.A.y+=this.Vf.y,this.A.J=0)):2==this.Ba&&(d=this.A.J+this.pc.J,0<d&&(this.T.Yi(this.Vf,-a,-A),this.pc.x=this.Vf.x,this.pc.y=this.Vf.y,this.pc.J=-this.A.J,this.A.x+=this.Vf.x,this.A.y+=this.Vf.y,this.A.J=0));g.x-=u*this.pc.x;g.y-=u*this.pc.y;l-=w*(e*this.pc.y-k*this.pc.x+this.pc.J);m.x+=t*this.pc.x;m.y+=t*this.pc.y;q+=x*(f*this.pc.y-h*this.pc.x+this.pc.J)}else a=
b.B.m,e=this.ca.x-b.i.N.x,k=this.ca.y-b.i.N.y,d=a.g.x*e+a.j.x*k,k=a.g.y*e+a.j.y*k,e=d,a=c.B.m,f=this.da.x-c.i.N.x,h=this.da.y-c.i.N.y,d=a.g.x*f+a.j.x*h,h=a.g.y*f+a.j.y*h,f=d,this.T.Yi(this.Ze,-(m.x+-q*h-g.x- -l*k),-(m.y+q*f-g.y-l*e)),this.A.x+=this.Ze.x,this.A.y+=this.Ze.y,g.x-=u*this.Ze.x,g.y-=u*this.Ze.y,l-=w*(e*this.Ze.y-k*this.Ze.x),m.x+=t*this.Ze.x,m.y+=t*this.Ze.y,q+=x*(f*this.Ze.y-h*this.Ze.x);b.n.G(g);b.D=l;c.n.G(m);c.D=q};de.prototype.Yd=function(){var a=0,b,c=this.W,d=this.X,e=0,k=b=0,f=
0,h=0;if(this.gf&&0!=this.Ba){var a=d.i.K-c.i.K-this.ml,g=0;3==this.Ba?(a=U.k.q.r.qb(a-this.Fn,-U.k.C.tm,U.k.C.tm),g=-this.od*a,e=Math.abs(a)):1==this.Ba?(a-=this.Fn,e=-a,a=U.k.q.r.qb(a+U.k.C.Yh,-U.k.C.tm,0),g=-this.od*a):2==this.Ba&&(e=a-=this.Oq,a=U.k.q.r.qb(a-U.k.C.Yh,0,U.k.C.tm),g=-this.od*a);c.i.K-=c.U*g;d.i.K+=d.U*g;c.Cb();d.Cb()}b=c.B.m;g=this.ca.x-c.i.N.x;a=this.ca.y-c.i.N.y;k=b.g.x*g+b.j.x*a;a=b.g.y*g+b.j.y*a;g=k;b=d.B.m;var l=this.da.x-d.i.N.x,m=this.da.y-d.i.N.y,k=b.g.x*l+b.j.x*m,m=b.g.y*
l+b.j.y*m,l=k,f=d.i.p.x+l-c.i.p.x-g,h=d.i.p.y+m-c.i.p.y-a,q=f*f+h*h;b=Math.sqrt(q);var k=c.I,u=d.I,t=c.U,w=d.U,x=10*U.k.C.Ta;q>x*x&&(q=1/(k+u),f=q*-f,h=q*-h,c.i.p.x-=0.5*k*f,c.i.p.y-=0.5*k*h,d.i.p.x+=0.5*u*f,d.i.p.y+=0.5*u*h,f=d.i.p.x+l-c.i.p.x-g,h=d.i.p.y+m-c.i.p.y-a);this.pk.g.x=k+u;this.pk.j.x=0;this.pk.g.y=0;this.pk.j.y=k+u;this.qk.g.x=t*a*a;this.qk.j.x=-t*g*a;this.qk.g.y=-t*g*a;this.qk.j.y=t*g*g;this.rk.g.x=w*m*m;this.rk.j.x=-w*l*m;this.rk.g.y=-w*l*m;this.rk.j.y=w*l*l;this.Cd.Se(this.pk);this.Cd.Rl(this.qk);
this.Cd.Rl(this.rk);this.Cd.ah(ee,-f,-h);f=ee.x;h=ee.y;c.i.p.x-=c.I*f;c.i.p.y-=c.I*h;c.i.K-=c.U*(g*h-a*f);d.i.p.x+=d.I*f;d.i.p.y+=d.I*h;d.i.K+=d.U*(l*h-m*f);c.Cb();d.Cb();return b<=U.k.C.Ta&&e<=U.k.C.Yh};var ee=W(0,0),fe=function(){Pd.call(this);this.Lb=W(0,0);this.Mb=W(0,0);this.type=1;this.Lb.fa();this.Mb.fa();this.ql=this.wA=this.hw=this.Nu=this.zh=0;this.Jk=this.ij=s};V(fe,Pd);fe.prototype.hc=function(a,b,c){this.M=a;this.P=b;this.Lb=this.M.Ad(c);this.Mb=this.P.Ad(c);this.zh=this.P.zd()-this.M.zd()};
fe.prototype.of=function(){return new de(this)};var ge=function(a){Z.call(this,a);this.he=W(0,0);this.ie=W(0,0);this.A=new Tb(0,0,0);this.T=new Ub;this.he.G(a.Lb);this.ie.G(a.Mb);this.ml=a.zh};V(ge,Z);ge.prototype.te=function(a){var b,c=0,d=this.W,e=this.X;b=d.B.m;var k=this.he.x-d.i.N.x,f=this.he.y-d.i.N.y,c=b.g.x*k+b.j.x*f,f=b.g.y*k+b.j.y*f,k=c;b=e.B.m;var h=this.ie.x-e.i.N.x,g=this.ie.y-e.i.N.y,c=b.g.x*h+b.j.x*g,g=b.g.y*h+b.j.y*g,h=c;b=d.I;var c=e.I,l=d.U,m=e.U;this.T.g.x=b+c+f*f*l+g*g*m;this.T.j.x=
-f*k*l-g*h*m;this.T.ta.x=-f*l-g*m;this.T.g.y=this.T.j.x;this.T.j.y=b+c+k*k*l+h*h*m;this.T.ta.y=k*l+h*m;this.T.g.J=this.T.ta.x;this.T.j.J=this.T.ta.y;this.T.ta.J=l+m;a.Vg?(this.A.x*=a.jc,this.A.y*=a.jc,this.A.J*=a.jc,d.n.x-=b*this.A.x,d.n.y-=b*this.A.y,d.D-=l*(k*this.A.y-f*this.A.x+this.A.J),e.n.x+=c*this.A.x,e.n.y+=c*this.A.y,e.D+=m*(h*this.A.y-g*this.A.x+this.A.J)):this.A.fa()};ge.prototype.Zd=function(){var a,b=0,c=this.W,d=this.X,e=c.n,k=c.D,f=d.n,h=d.D,g=c.I,l=d.I,m=c.U,q=d.U;a=c.B.m;var u=this.he.x-
c.i.N.x,t=this.he.y-c.i.N.y,b=a.g.x*u+a.j.x*t,t=a.g.y*u+a.j.y*t,u=b;a=d.B.m;var w=this.ie.x-d.i.N.x,x=this.ie.y-d.i.N.y,b=a.g.x*w+a.j.x*x,x=a.g.y*w+a.j.y*x,w=b;a=new Tb(0,0,0);this.T.xk(a,-(f.x-h*x-e.x+k*t),-(f.y+h*w-e.y-k*u),-(h-k));this.A.cg(a);e.x-=g*a.x;e.y-=g*a.y;k-=m*(u*a.y-t*a.x+a.J);f.x+=l*a.x;f.y+=l*a.y;h+=q*(w*a.y-x*a.x+a.J);c.D=k;d.D=h};ge.prototype.Yd=function(){var a,b=0,c=this.W,d=this.X;a=c.B.m;var e=this.he.x-c.i.N.x,k=this.he.y-c.i.N.y,b=a.g.x*e+a.j.x*k,k=a.g.y*e+a.j.y*k,e=b;a=d.B.m;
var f=this.ie.x-d.i.N.x,h=this.ie.y-d.i.N.y,b=a.g.x*f+a.j.x*h,h=a.g.y*f+a.j.y*h,f=b;a=c.I;var b=d.I,g=c.U,l=d.U,m=d.i.p.x+f-c.i.p.x-e,q=d.i.p.y+h-c.i.p.y-k,u=d.i.K-c.i.K-this.ml,t=10*U.k.C.Ta,w=Math.sqrt(m*m+q*q),x=Math.abs(u);w>t&&(g*=1,l*=1);this.T.g.x=a+b+k*k*g+h*h*l;this.T.j.x=-k*e*g-h*f*l;this.T.ta.x=-k*g-h*l;this.T.g.y=this.T.j.x;this.T.j.y=a+b+e*e*g+f*f*l;this.T.ta.y=e*g+f*l;this.T.g.J=this.T.ta.x;this.T.j.J=this.T.ta.y;this.T.ta.J=g+l;t=new Tb(0,0,0);this.T.xk(t,-m,-q,-u);c.i.p.x-=a*t.x;c.i.p.y-=
a*t.y;c.i.K-=g*(e*t.y-k*t.x+t.J);d.i.p.x+=b*t.x;d.i.p.y+=b*t.y;d.i.K+=l*(f*t.y-h*t.x+t.J);c.Cb();d.Cb();return w<=U.k.C.Ta&&x<=U.k.C.Yh};var he=function(){Pd.call(this);this.Lb=W(0,0);this.Mb=W(0,0);this.type=8;this.zh=0};V(he,Pd);he.prototype.hc=function(a,b,c){this.M=a;this.P=b;this.Lb.G(this.M.Ad(c));this.Mb.G(this.P.Ad(c));this.zh=this.P.zd()-this.M.zd()};he.prototype.of=function(){return new ge(this)};U.u.Q.Gv=U.u.Q.Co();U.u.Q.Ev=U.u.Q.Co();U.u.Q.Pj=U.u.Q.Co();U.u.Q.Bh=W(0,0);U.u.Q.Br=W(0,0);
U.u.Q.Hv=W(0,0);U.u.Q.Rj=W(0,0);U.u.Q.mf=W(0,0);U.u.Q.Cr=W(0,0);U.u.Q.Sj=W(0,0);U.u.Q.Tn=W(0,0);U.u.$.gy=0;U.u.$.hy=0;U.u.$.xt=0;U.u.$.iy=0;U.u.$.yt=0;U.u.$.Ar=new Cc;U.u.$.Qj=new mc;U.u.$.Ch=new Wb;U.u.$.Dh=new Wb;U.u.$.Sn=new xc;U.u.$.Fv=new nc;var Nc=new Wb,ad=new $c;new function(){this.position=W(0,0);this.kw=W(0,0);this.Uc=W(0,0);this.id=new dc};new Wb;var od=new Vb,pd=new Vb,Ec=new Dc,Ed=new Fc,Fd=new Dd}
function ie(a,b,c,d,e,k){return(c+0.1>=a&&a>=e-0.1||c-0.1<=a&&a<=e+0.1)&&(d+0.1>=b&&b>=k-0.1||d-0.1<=b&&b<=k+0.1)&&(0.1<Math.abs(e-c)?0.1>Math.abs((k-d)/(e-c)*(a-c)+d-b):0.1>Math.abs(a-c))}
function je(a){var b=[],c=0,d=0,e=0,k=0,f=0,h=f=0,g=0,l=0,m=0,k=0,q,u,t,w,x,A=k=c=0,B=0,e=[],g=[],C=s,H=[],O=[];for(O.push(a);O.length;){b=O[0];d=b.length;C=p;for(c=0;c<d;c++)if(l=c,m=c<d-1?c+1:c+1-d,k=c<d-2?c+2:c+2-d,a=b[l],q=b[m],k=b[k],k=a.x*q.y+q.x*k.y+k.x*a.y-a.y*q.x-q.y*k.x-k.y*a.x,0>k){C=s;g=1E9;for(e=0;e<d;e++)if(e!==l&&e!==m){c=e;k=e<d-1?e+1:0;u=b[c];t=b[k];h=a.x;w=a.y;var F=q.x,D=q.y,f=u.x;u=u.y;var z=t.x;t=t.y;var E=F-h,N=D-w,K=z-f,X=t-u,K=(K*(u-w)-X*(f-h))/(N*K-E*X),E=h+K*E,N=w+K*N,h=
ie(F,D,h,w,E,N),f=ie(E,N,f,u,z,t);if(w=h&&f?W(E,N):r)f=q.x-w.x,h=q.y-w.y,f=f*f+h*h,f<g&&(B=c,A=k,x=w,g=f)}if(1E9===g)return[];e=[];g=[];c=B;k=A;u=b[c];t=b[k];0.1>Math.abs(t.x-x.x)&&0.1>Math.abs(t.y-x.y)||e.push(x);0.1>Math.abs(u.x-x.x)&&0.1>Math.abs(u.y-x.y)||g.push(x);B=-1;for(A=l;;){if(A!==k)e.push(b[A]);else{if(0>B||B>=d)return[];ie(t.x,t.y,b[B].x,b[B].y,a.x,a.y)||e.push(b[A]);break}B=A;0>A-1?A=d-1:A--}e.reverse();B=-1;for(A=m;;){if(A!==c)g.push(b[A]);else{if(0>B||B>=d)return[];A===c&&!ie(u.x,
u.y,b[B].x,b[B].y,q.x,q.y)&&g.push(b[A]);break}B=A;A+1>d-1?A=0:A++}O.push(e,g);O.shift();break}C&&H.push(O.shift())}return H}
function ke(a){for(var b=0;4E3>b;b++)Yb.push(new Xb(0,0));this.e=a;this.yd=new kd(W(0,10),p);this.TD=10;this.hq=-1;a=new $c;a.rb=this;a.Sl=function(a){this.rb.e.Cl(a.Nb.Ka().jg.R,a.Db.Ka().jg.R)};this.yd.Vs(a);navigator.isCocoonJS||(a=new Xc,a.rb=this,a.Xi=function(a,b){if(this.rb.Ux)return p;var e=a.Ka().jg.R.type,k=b.Ka().jg.R.type,f=e.Aa.ax;return f&&f.contains(k)?s:(f=k.Aa.ax)&&f.contains(e)?s:p},this.yd.kx(a));this.iB=0;this.Pl=8;this.yl=3;this.Ux=p}
(function(){function a(){}var b=ke.prototype;b.Nc=function(a,b){this.rb=a;this.jv=b;this.e=a.e};b.Nc.prototype.ob=v();b.oc=function(a,b){this.type=a;this.rb=a.rb;this.R=b;this.e=a.e;this.yd=this.rb.yd};var c=b.oc.prototype;c.ob=function(){this.Rp=0!==this.Sa[0];this.It=this.Sa[1];this.gr=0!==this.Sa[2];this.Af=this.Sa[3];this.rg=this.Sa[4];this.Pg=this.Sa[5];this.qi=this.Sa[6];this.Vh=this.Sa[7];this.$h=0!==this.Sa[8];this.body=r;this.R.tc();this.pn=this.R.x;this.qn=this.R.y;this.fq=this.R.L;this.dq=
this.iq=0;this.zv=this.gq=s;this.bq=r;this.cq=-1;this.Kd?(this.Kd.length=0,this.me.length=0,this.nh.clear()):(this.Kd=[],this.me=[],this.nh=new Ha);var a=this;this.Me||(this.dv=function(b){a.FA(b)});this.e.Sx(this.dv)};c.tv=function(){this.R.tc();this.qp();this.bq=this.R.tb;this.cq=this.R.ba};c.sl=function(){this.Hm();this.me.length=0;this.nh.clear();this.body&&(this.yd.Zl(this.body),this.body=r);this.e.UA(this.dv)};c.Qd=function(){var a={im:this.Rp,pr:this.gr,d:this.Af,fr:this.rg,re:this.Pg,ld:this.qi,
ad:this.Vh,b:this.$h,mcj:this.me},b=W(0,0);b.G(this.body.n);a.vx=b.x;a.vy=b.y;a.om=this.body.D;return a};c.Ce=function(a){this.Hm();this.me.length=0;this.nh.clear();this.body&&(this.yd.Zl(this.body),this.body=r);this.Rp=a.im;this.gr=a.pr;this.Af=a.d;this.rg=a.fr;this.Pg=a.re;this.qi=a.ld;this.Vh=a.ad;this.$h=a.b;this.pn=this.R.x;this.qn=this.R.y;this.fq=this.R.L;this.iq=this.R.width;this.dq=this.R.height;this.qp();this.body.Sh(W(a.vx,a.vy));this.body.vk(a.om);(0!==a.vx||0!==a.vy||0!==a.om)&&this.body.Mc(p);
this.me=a.mcj};c.qm=function(){this.or();this.rb.hq=this.e.Sd-1};c.FA=function(a){var b,c,f,h=a.uid;f=b=0;for(c=this.me.length;b<c;b++)this.me[f]=this.me[b],f<this.Kd.length&&(this.Kd[f]=this.Kd[b]),this.me[b].Pd[1]==h?this.yd.so(this.Kd[b]):f++;this.me.length=f;f<this.Kd.length&&(this.Kd.length=f);this.nh.remove(a)};c.Hm=function(){var a,b;a=0;for(b=this.Kd.length;a<b;a++)this.yd.so(this.Kd[a]);this.Kd.length=0};c.or=function(){var a,b,c;a=0;for(b=this.me.length;a<b;a++)switch(c=this.me[a],c.type){case 0:this.Vt(c.Pd[0],
c.Pd[1],c.Pd[2],c.Pd[3],c.Pd[4]);break;case 1:this.xy(c.Pd[0],c.Pd[1]);break;case 2:this.wy(c.Pd[0],c.Pd[1],c.Pd[2],c.Pd[3])}};c.qp=function(){var a=this.R,b=s,c=r,f=r,h,g,l,m,q,u;this.body&&(b=p,c=W(0,0),c.G(this.body.n),f=this.body.D,this.Hm(),this.yd.Zl(this.body),this.body=r);var t=new fd;t.Af=this.Af;t.rg=this.rg;t.Pg=this.Pg;u=new Oc;u.type=this.Rp?0:2;a.tc();u.position.x=0.02*a.sb.Fi();u.position.y=0.02*a.sb.Gi();u.L=a.L;u.Cp=this.gr;u.qi=this.qi;u.Vh=this.Vh;u.$h=this.$h;g=this.R.ab&&!this.R.ab.oj();
this.body=this.yd.qo(u);this.body.jg=this;u=this.It;!g&&0===this.It&&(u=1);g=Math.max(Math.abs(a.width),1);l=Math.max(Math.abs(a.height),1);var w=0>a.width;q=0>a.height;if(0===u){u=a.L;a.L=0;a.Wa();a.tc();var x=a.sb.Fi()-a.x,A=a.sb.Gi()-a.y;a.L=u;a.Wa();a.ab.gj(w?-g:g,q?-l:l,0);var B=a.ab.Ic;m=a.ab.Uf;u=[];u.length=m;for(h=0;h<m;h++)u[h]=W(B[2*h]-x,B[2*h+1]-A);w!==q&&u.reverse();h=g*l;q=je(u);var w=[],C,H,O,F,D,z;H=0;for(O=q.length;H<O;H++){A=q[H];x=[];x.length=A.length;F=z=0;for(D=A.length;F<D;F++)B=
A[F],C=A[(F+1)%D],z+=B.x*C.y-B.y*C.x,x[F]=W(B.x,B.y);z=Math.abs(z/2);z>=0.001*h&&w.push(x)}for(h=0;h<m;h++)Y(u[h]);if(w.length){h=0;for(g=w.length;h<g;h++){u=w[h];l=0;for(m=u.length;l<m;l++)q=u[l],q.x*=0.02,q.y*=0.02;t.shape=new cc;t.shape.Us(u,u.length);this.body.Wl(t);l=0;for(m=u.length;l<m;l++)Y(u[l])}}else t.shape=new cc,t.shape.Ko(0.01*g,0.01*l),this.body.Wl(t)}else 1===u?(t.shape=new cc,t.shape.Ko(0.01*g,0.01*l)):t.shape=new $b(0.01*Math.min(g,l)),this.body.Wl(t);a.Aa.We=this.body;this.iq=a.width;
this.dq=a.height;if(b){this.body.Sh(c);this.body.vk(f);Y(c);this.or();u=this.nh.Pi();h=0;for(g=u.length;h<g;h++)a=u[h].Aa.We.jg,a.Hm(),a.or()}};c.Zf=function(){var a=this.R,b;0===this.rb.iB?b=this.e.Kh/60:(b=this.e.Wm(this.R),b>1/30&&(b=1/30));this.e.Sd>this.rb.hq&&0<this.e.Kh&&(this.yd.gg(b,this.rb.Pl,this.rb.yl),this.yd.ks(),this.rb.hq=this.e.Sd);if(this.zv||a.width!==this.iq||a.height!==this.dq||a.tb!==this.bq||a.ba!==this.cq)this.qp(),this.zv=s,this.bq=a.tb,this.cq=a.ba;b=a.L!==this.fq;if(a.x!==
this.pn||a.y!==this.qn){a.tc();var c=a.sb.Fi(),f=a.sb.Gi(),h=c-this.pn,g=f-this.qn;this.body.Mo(W(0.02*c,0.02*f));this.body.Sh(W(h,g));this.gq=p;this.body.Mc(p)}else this.gq&&(this.gq=s,this.body.Sh(W(0,0)),this.body.Mo(W(0.02*a.sb.Fi(),0.02*a.sb.Gi())));b&&(this.body.mm(a.L),this.body.Mc(p));c=this.body.B.position;b=c.x/0.02;c=c.y/0.02;f=this.body.zd();if(b!==a.x||c!==a.y||f!==a.L)if(a.x=b,a.y=c,a.L=f,a.Wa(),a.tc(),b=a.sb.Fi()-a.x,c=a.sb.Gi()-a.y,0!==b||0!==c)a.x-=b,a.y-=c,a.Wa();this.pn=a.x;this.qn=
a.y;this.fq=a.L};c.Xm=function(a){return-1===a||!this.R.Ff?this.R.x:0===a?(this.body.B.position.x+this.body.i.N.x)/0.02:this.R.Ff(a,p)};c.Ym=function(a){return-1===a||!this.R.Ff?this.R.y:0===a?(this.body.B.position.y+this.body.i.N.y)/0.02:this.R.Ff(a,s)};b.Y=new (v());a.prototype.dg=function(a,b,c){var f=this.Xm(c);c=this.Ym(c);this.body.dg(W(a,b),W(0.02*f,0.02*c))};a.prototype.oo=function(a){this.body.oo(M(a))};a.prototype.vk=function(a){this.body.vk(M(a));this.body.Mc(p)};a.prototype.Bw=function(a,
b,c,f,h){if(b&&(b=b.hu(this.R))&&b!=this.R&&b.Aa.We)this.me.push({type:0,Pd:[a,b.uid,c,f,h]}),this.Vt(a,b.uid,c,f,h)};c.Vt=function(a,b,c,f,h){if((b=this.e.Rk(b))&&b!=this.R&&b.Aa.We){b.Aa.We.jg.nh.add(this.R);var g=this.Xm(a);a=this.Ym(a);var l;b.Ff?(l=b.Ff(c,p),c=b.Ff(c,s)):(l=b.x,c=b.y);var m=g-l,q=a-c,u=new Rd;u.hc(this.body,b.Aa.We,W(0.02*g,0.02*a),W(0.02*l,0.02*c));u.length=0.02*Math.sqrt(m*m+q*q);u.Fm=f;u.Um=h;this.Kd.push(this.yd.Xl(u))}};c.xy=function(a,b){var c=this.e.Rk(b);if(c&&c!=this.R&&
c.Aa.We){c.Aa.We.jg.nh.add(this.R);var f=this.Xm(a),h=this.Ym(a),g=new fe;g.hc(this.body,c.Aa.We,W(0.02*f,0.02*h));this.Kd.push(this.yd.Xl(g))}};c.wy=function(a,b,c,f){if((b=this.e.Rk(b))&&b!=this.R&&b.Aa.We){b.Aa.We.jg.nh.add(this.R);var h=this.Xm(a);a=this.Ym(a);var g=new fe;g.hc(this.body,b.Aa.We,W(0.02*h,0.02*a));g.ij=p;g.Nu=M(c);g.hw=M(f);this.Kd.push(this.yd.Xl(g))}};b.Ha=new a;b.ib=new (v())})();function le(a){this.e=a}
(function(){function a(){}function b(){}var c=le.prototype;c.Nc=function(a,b){this.rb=a;this.jv=b;this.e=a.e};c.Nc.prototype.ob=v();c.oc=function(a,b){this.type=a;this.rb=a.rb;this.R=b;this.e=a.e;this.ai=this.ya=this.xa=0;this.enabled=p};var d=c.oc.prototype;d.ob=function(){this.Wj=this.Sa[0];this.lr=this.Sa[1]};d.Qd=function(){return{dx:this.xa,dy:this.ya,cancelStep:this.ai,enabled:this.enabled,stepMode:this.Wj,pxPerStep:this.lr}};d.Ce=function(a){this.xa=a.dx;this.ya=a.dy;this.ai=a.cancelStep;this.enabled=
a.enabled;this.Wj=a.stepMode;this.lr=a.pxPerStep};d.nD=function(){return Math.sqrt(this.xa*this.xa+this.ya*this.ya)};d.Ef=function(){return Math.atan2(this.ya,this.xa)};d.step=function(a,b,c){var d=this.R.x,g=this.R.y,l,m=Math.round(Math.sqrt(a*a+b*b)/this.lr);0===m&&(m=1);var q;for(q=1;q<=m;q++)if(l=q/m,this.R.x=d+a*l,this.R.y=g+b*l,this.R.Wa(),this.e.trigger(c,this.R),1===this.ai){q--;l=q/m;this.R.x=d+a*l;this.R.y=g+b*l;this.R.Wa();break}else if(2===this.ai)break};d.Zf=function(){var a=this.e.Wm(this.R),
b=this.xa*a,a=this.ya*a;!(0===this.xa&&0===this.ya)&&this.enabled&&(this.ai=0,0===this.Wj?(this.R.x+=b,this.R.y+=a):1===this.Wj?this.step(b,a,le.prototype.Y.Uw):2===this.Wj?(this.step(b,0,le.prototype.Y.km),0===this.ai&&this.step(0,a,le.prototype.Y.km)):3===this.Wj&&(this.step(0,a,le.prototype.Y.km),0===this.ai&&this.step(b,0,le.prototype.Y.km)),this.R.Wa())};a.prototype.As=function(){return 0!=this.xa||0!=this.ya};a.prototype.Uw=G(p);a.prototype.km=G(p);c.Y=new a;c.Ha=new (v());b.prototype.xa=function(a){a.ea(this.xa)};
b.prototype.ya=function(a){a.ea(this.ya)};c.ib=new b})();
function pb(){return[r,r,[[Mb,p,s,s,s,s,s,s,s,s],[Nb,p,s,s,s,s,s,s,s,s],[Q,s,p,p,p,p,p,p,p,s],[Ob,s,p,p,p,p,p,p,p,s],[T,p,s,s,s,s,s,s,s,s]],[["t0",Q,s,[0x869818a68b02f],1,0,r,[["Default",5,s,1,0,s,0x5e21243f665c1,[["images/sprite-sheet0.png",1158,0,0,256,256,1,0.5,0.5,[],[],0]]]],[["8Direction",Pb,0x6dca2a89aae9a]],s,s,8768830607999228,[]],["t1",Q,s,[],1,0,r,[["Default",5,s,1,0,s,9634526011280746,[["images/sprite2-sheet0.png",313,0,0,256,256,1,0.5,0.5,[],[],0]]]],[["Physics",ke,5854220088183005]],
s,s,6219248463077701,[]],["t2",Q,s,[],1,0,r,[["Default",5,s,1,0,s,5367472634720772,[["images/car-sheet0.png",3896,0,0,250,250,1,0.532,0.472,[],[],0]]]],[["CustomMovement",le,7763501915098014]],s,s,8486682154476065,[]],["t3",Ob,s,[],0,0,r,r,[],s,s,861026701460553,[]],["t4",Q,s,[],0,0,r,[["Default",5,s,1,0,s,0xf716638b1b4d,[["images/sprite3-sheet0.png",168,0,0,250,250,1,0.5,0.5,[],[],0]]]],[],s,s,5738460571977509,[]],["t5",Q,s,[],1,0,r,[["Default",5,s,1,0,s,8269386318035767,[["images/sprite4-sheet0.png",
168,0,0,250,250,1,0.5,0.5,[],[],0]]]],[["Physics",ke,9133088704310028]],s,s,8696198998150914,[]],["t6",Q,s,[],0,0,r,[["Default",5,s,1,0,s,0xbfab81b6c0e3b,[["images/pole-sheet0.png",168,0,0,250,250,1,-0.012,0.472,[],[],0]]]],[],s,s,8580799575992987,[]],["t7",Q,s,[],0,0,r,[["Default",5,s,1,0,s,8969552432680186,[["images/sprite5-sheet0.png",312,0,0,250,250,1,0.5,0.5,[],[],0]]]],[],s,s,8337823450043108,[]],["t8",Mb,s,[],0,0,r,r,[],s,s,0x5b42159f353fb,[],[]],["t9",Nb,s,[],0,0,r,r,[],s,s,8516825054887522,
[],[]],["t10",Q,s,[],0,0,r,[["Default",5,s,1,0,s,764395317885335,[["images/sprite6-sheet0.png",169,0,0,256,256,1,0.5,0.5,[],[],0]]]],[],s,s,4669423256096804,[]],["t11",T,s,[],0,0,r,r,[],s,s,5389358922840538,[],[1]]],[],[["Layout 1",1280,1024,s,"Event sheet 1",9262718299054776,[["Layer 1",0,8877675934758289,p,[255,255,255],p,1,1,1,s,1,0,0,[[[372,507,0,904,1252,0,0,1,0.5,0.5,0,0,[]],10,9,[],[],[0,"Default",0,1]]],[]],["Layer 0",1,8322704115451495,p,[255,255,255],p,1,1,1,s,1,0,0,[[[588.96,340.216,0,
30,28,0,0,1,0.532,0.472,0,0,[]],2,1,[],[[0,5]],[0,"Default",0,1]],[[876,508,0,96,4,0,0,1,-0.012,0.472,0,0,[]],6,2,[],[],[0,"Default",0,1]],[[44,41,0,58,52,0,0,1,0.5,0.5,0,0,[]],7,3,[],[],[0,"Default",0,1]],[[84,296,0,200,30,0,0,1,0,0,0,0,[]],3,4,[],[],["Text",0,"12pt Arial","rgb(0,0,0)",0,0,0,0,0]],[[1021,357,0,4,4,0,0,1,0.5,0.5,0,0,[]],1,5,[],[[0,0,0,1,0.5,0.2,0,0.01,0]],[0,"Default",0,1]],[[894,192,0,4,4,0,0,1,0.5,0.5,0,0,[]],5,6,[],[[1,0,0,1,0.5,0.2,0,0.01,0]],[0,"Default",0,1]]],[]]],[],[]]],
[["Event sheet 1",[[1,"Variable1",0,0,s,s,0x3ec66a70485e8],[1,"released",0,0,s,s,6698060719132313],[1,"pathCount",0,0,s,s,0xbca51ee2764b1],[1,"previusy",0,-1,s,s,5218336521524897],[1,"previusX",0,-1,s,s,6756814910045293],[1,"uma2",0,0,s,s,8076458226021945],[1,"uma",0,1,s,s,0xb8951f399a562],[0,r,s,0x4b950e893f1f9,[[0,Pb.prototype.Y.As,"8Direction",0,s,s,s,0xa3e6278ee4a6e]],[[0,Q.prototype.Ha.ow,r,7891178175985855,[[10,0],[7,[0,1]]]],[-1,P.prototype.Ha.Yl,r,0xb525d299e3071,[[4,1],[5,[0,0]],[0,[20,0,
Q.prototype.ib.tf,s,r]],[0,[20,0,Q.prototype.ib.uf,s,r]]]],[7,Q.prototype.Ha.Po,r,575977588588865,[[3,0]]]]],[0,r,s,7152909809112182,[[11,T.prototype.Y.Mw,r,0,s,s,s,7785558592928456],[-1,P.prototype.Y.to,r,0,s,s,s,5270327553815253]],[[-1,P.prototype.Ha.Yl,r,8573516454951905,[[4,1],[5,[0,1]],[0,[20,11,T.prototype.ib.tf,s,r]],[0,[20,11,T.prototype.ib.uf,s,r]]]],[-1,P.prototype.Ha.Yl,r,8507620427212608,[[4,5],[5,[0,1]],[0,[20,11,T.prototype.ib.tf,s,r]],[0,[20,11,T.prototype.ib.uf,s,r]]]],[-1,P.prototype.Ha.no,
r,0xabda156910d7f,[[11,"pathCount"],[7,[0,1]]]],[1,Q.prototype.Ha.Po,r,0xde703ac2fb4cd,[[3,0]]],[2,Q.prototype.Ha.hx,r,5354066791181221,[[1,[2,"default"]],[3,1]]],[-1,P.prototype.Ha.$s,r,8535010582565258,[[11,"released"],[7,[0,1]]]]]],[0,r,s,886653697413279,[[11,T.prototype.Y.Lw,r,0,s,s,s,7640541031795948,[[0,[0,0]]]]],[]],[0,r,s,0xada76273393da,[[9,Nb.prototype.Y.Ms,r,1,s,s,s,0x7b2668d84a4a,[[3,0]]]],[[-1,P.prototype.Ha.$s,r,0xbceea2f4908ed,[[11,"released"],[7,[0,1]]]]]],[0,r,s,316955216667242,[[-1,
P.prototype.Y.to,r,0,s,s,s,6271588452930238],[-1,P.prototype.Y.ms,r,0,s,s,s,824346852039864,[[11,"released"],[8,0],[7,[0,1]]]]],[[8,Mb.prototype.Ha.CallFunction,r,6960996988495274,[[1,[2,"carpath"]],[13]]]]],[0,r,s,8055578250246716,[[-1,P.prototype.Y.to,r,0,s,s,s,5499403684200979],[9,Nb.prototype.Y.Nw,r,0,s,s,s,4891707469293261,[[4,6]]]],[[7,Q.prototype.Ha.Po,r,7699452912739065,[[3,1]]]]],[0,r,s,0xfb9641dea3260,[[8,Mb.prototype.Y.Fo,r,2,s,s,s,0x6ec1494e5d9ee,[[1,[2,"carpath"]]]],[-1,P.prototype.Y.ms,
r,0,s,s,s,0xc6c666d733455,[[11,"pathCount"],[8,4],[7,[0,10]]]]],[[8,Mb.prototype.Ha.CallFunction,r,0xd698172e99a2c,[[1,[2,"setPos"]],[13]]]]],[0,r,s,0xba5fb3568ef75,[[8,Mb.prototype.Y.Fo,r,2,s,s,s,0xf4d01152858a3,[[1,[2,"setPos"]]]]],[],[[0,r,s,7351430624955123,[[-1,P.prototype.Y.Qs,r,0,s,s,s,0xb28494ccb9110,[[4,1],[0,[23,"uma"]]]],[-1,P.prototype.Y.Qs,r,0,s,s,s,0x527661b449f9d,[[4,5],[0,[23,"uma2"]]]]],[[2,Q.prototype.Ha.Zs,r,0x4dbc52052bb1a,[[0,[20,9,Nb.prototype.ib.tf,s,r]],[0,[20,9,Nb.prototype.ib.uf,
s,r]]]],[3,Ob.prototype.Ha.ox,r,8251933233143115,[[7,[10,[2,""],[23,"uma"]]]]],[5,ke.prototype.Ha.Bw,"Physics",9055628188868868,[[7,[0,0]],[4,1],[7,[0,0]],[0,[0,0]],[0,[0,0]]]],[-1,P.prototype.Ha.Yl,r,9879896864405420,[[4,6],[5,[0,0]],[0,[0,0]],[0,[0,0]]]],[6,Q.prototype.Ha.nx,r,6320810247926102,[[4,5],[7,[0,0]]]],[6,Q.prototype.Ha.Zs,r,6090041233512217,[[0,[20,1,Q.prototype.ib.tf,s,r]],[0,[20,1,Q.prototype.ib.uf,s,r]]]],[6,Q.prototype.Ha.at,r,9561744767656616,[[0,[19,P.prototype.ib.Bf,[[20,1,Q.prototype.ib.tf,
s,r],[20,1,Q.prototype.ib.uf,s,r],[20,5,Q.prototype.ib.tf,s,r],[20,5,Q.prototype.ib.uf,s,r]]]]]],[2,Q.prototype.Ha.mx,r,9105485152528764,[[0,[20,1,Q.prototype.ib.tf,s,r]],[0,[20,1,Q.prototype.ib.uf,s,r]]]],[-1,P.prototype.Ha.wx,r,0x6d93e4e1f5e96,[[11,"pathCount"],[7,[0,1]]]],[-1,P.prototype.Ha.no,r,0x72c1f7bdde573,[[11,"uma"],[7,[0,1]]]],[-1,P.prototype.Ha.no,r,4509676435415198,[[11,"uma2"],[7,[0,1]]]]],[[0,r,s,0x9608bc4974515,[],[]]]]]]]]],"media/",s,768,1024,4,p,p,p,"1.0.0.0",1,s,0,s,10,s,[]]};
